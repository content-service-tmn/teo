!function(t){var e;window.UIkit2&&(e=t(UIkit2)),"function"==typeof define&&define.amd&&define("uikit-notify",["uikit"],function(){return e||t(UIkit2)})}(function(e){"use strict";var s={},o={},t=function(t){return"string"==e.$.type(t)&&(t={message:t}),arguments[1]&&(t=e.$.extend(t,"string"==e.$.type(arguments[1])?{status:arguments[1]}:arguments[1])),new i(t).show()},i=function(t){this.options=e.$.extend({},i.defaults,t),this.uuid=e.Utils.uid("notifymsg"),this.element=e.$(['<div class="uk-notify-message">','<a class="uk-close"></a>',"<div></div>","</div>"].join("")).data("notifyMessage",this),this.content(this.options.message),this.options.status&&(this.element.addClass("uk-notify-message-"+this.options.status),this.currentstatus=this.options.status),this.group=this.options.group,o[this.uuid]=this,s[this.options.pos]||(s[this.options.pos]=e.$('<div class="uk-notify uk-notify-'+this.options.pos+'"></div>').appendTo("body").on("click",".uk-notify-message",function(){var t=e.$(this).data("notifyMessage");t.element.trigger("manualclose.uk.notify",[t]),t.close()}))};return e.$.extend(i.prototype,{uuid:!1,element:!1,timout:!1,currentstatus:"",group:!1,show:function(){if(!this.element.is(":visible")){var e=this;s[this.options.pos].show().prepend(this.element);var t=parseInt(this.element.css("margin-bottom"),10);return this.element.css({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0}).animate({opacity:1,marginTop:0,marginBottom:t},function(){if(e.options.timeout){var t=function(){e.close()};e.timeout=setTimeout(t,e.options.timeout),e.element.hover(function(){clearTimeout(e.timeout)},function(){e.timeout=setTimeout(t,e.options.timeout)})}}),this}},close:function(t){var e=this,i=function(){e.element.remove(),s[e.options.pos].children().length||s[e.options.pos].hide(),e.options.onClose.apply(e,[]),e.element.trigger("close.uk.notify",[e]),delete o[e.uuid]};this.timeout&&clearTimeout(this.timeout),t?i():this.element.animate({opacity:0,marginTop:-1*this.element.outerHeight(),marginBottom:0},function(){i()})},content:function(t){var e=this.element.find(">div");return t?(e.html(t),this):e.html()},status:function(t){return t?(this.element.removeClass("uk-notify-message-"+this.currentstatus).addClass("uk-notify-message-"+t),this.currentstatus=t,this):this.currentstatus}}),i.defaults={message:"",status:"",timeout:5e3,group:null,pos:"top-center",onClose:function(){}},e.notify=t,e.notify.message=i,e.notify.closeAll=function(t,e){var i;if(t)for(i in o)t===o[i].group&&o[i].close(e);else for(i in o)o[i].close(e)},t});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvbm90aWZ5LmpzIl0sIm5hbWVzIjpbImFkZG9uIiwiY29tcG9uZW50Iiwid2luZG93IiwiVUlraXQyIiwiZGVmaW5lIiwiYW1kIiwiVUkiLCJjb250YWluZXJzIiwibWVzc2FnZXMiLCJub3RpZnkiLCJvcHRpb25zIiwiJCIsInR5cGUiLCJtZXNzYWdlIiwiYXJndW1lbnRzIiwiZXh0ZW5kIiwic3RhdHVzIiwiTWVzc2FnZSIsInNob3ciLCJ0aGlzIiwiZGVmYXVsdHMiLCJ1dWlkIiwiVXRpbHMiLCJ1aWQiLCJlbGVtZW50Iiwiam9pbiIsImRhdGEiLCJjb250ZW50IiwiYWRkQ2xhc3MiLCJjdXJyZW50c3RhdHVzIiwiZ3JvdXAiLCJwb3MiLCJhcHBlbmRUbyIsIm9uIiwidHJpZ2dlciIsImNsb3NlIiwicHJvdG90eXBlIiwidGltb3V0IiwiaXMiLCIkdGhpcyIsInByZXBlbmQiLCJtYXJnaW5ib3R0b20iLCJwYXJzZUludCIsImNzcyIsIm9wYWNpdHkiLCJtYXJnaW5Ub3AiLCJvdXRlckhlaWdodCIsIm1hcmdpbkJvdHRvbSIsImFuaW1hdGUiLCJ0aW1lb3V0IiwiY2xvc2VmbiIsInNldFRpbWVvdXQiLCJob3ZlciIsImNsZWFyVGltZW91dCIsImluc3RhbnRseSIsImZpbmFsaXplIiwicmVtb3ZlIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJoaWRlIiwib25DbG9zZSIsImFwcGx5IiwiaHRtbCIsImNvbnRhaW5lciIsImZpbmQiLCJyZW1vdmVDbGFzcyIsImNsb3NlQWxsIiwiaWQiXSwibWFwcGluZ3MiOiJDQUNBLFNBQVVBLEdBRU4sSUFBSUMsRUFFQUMsT0FBT0MsU0FDUEYsRUFBWUQsRUFBTUcsU0FHRCxtQkFBVkMsUUFBd0JBLE9BQU9DLEtBQ3RDRCxPQUFPLGVBQWdCLENBQUMsU0FBVSxXQUM5QixPQUFPSCxHQUFhRCxFQUFNRyxVQVZ0QyxDQWNHLFNBQVNHLEdBRVIsYUFFQSxJQUFJQyxFQUFhLEdBQ2JDLEVBQWEsR0FFYkMsRUFB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NUIsUUFBUyxTQUFTbUMsR0FFZCxJQUFJQyxFQUFZNUMsS0FBS0ssUUFBUXdDLEtBQUssUUFFbEMsT0FBSUYsR0FJSkMsRUFBVUQsS0FBS0EsR0FFUjNDLE1BTEk0QyxFQUFVRCxRQVF6QjlDLE9BQVEsU0FBU0EsR0FFYixPQUFLQSxHQUlMRyxLQUFLSyxRQUFReUMsWUFBWSxxQkFBcUI5QyxLQUFLVSxlQUFlRCxTQUFTLHFCQUFxQlosR0FFaEdHLEtBQUtVLGNBQWdCYixFQUVkRyxNQVBJQSxLQUFLVSxpQkFXeEJaLEVBQVFHLFNBQVcsQ0FDZlAsUUFBUyxHQUNURyxPQUFRLEdBQ1JpQyxRQUFTLElBQ1RuQixNQUFPLEtBQ1BDLElBQUssYUFDTDZCLFFBQVMsY0FHYnRELEVBQUdHLE9BQWtCQSxFQUNyQkgsRUFBR0csT0FBT0ksUUFBV0ksRUFDckJYLEVBQUdHLE9BQU95RCxTQXZKTSxTQUFTcEMsRUFBT3dCLEdBRXhCLElBQUlhLEVBRUosR0FBSXJDLEVBQ0EsSUFBSXFDLEtBQU0zRCxFQUFlc0IsSUFBUXRCLEVBQVMyRCxHQUFJckMsT0FBT3RCLEVBQVMyRCxHQUFJaEMsTUFBTW1CLFFBRXhFLElBQUlhLEtBQU0zRCxFQUFZQSxFQUFTMkQsR0FBSWhDLE1BQU1tQixJQWtKOUM3QyIsImZpbGUiOiJjb21wb25lbnRzL25vdGlmeS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBVSWtpdCAyLjI3LjIgfCBodHRwOi8vd3d3LmdldHVpa2l0LmNvbSB8IChjKSAyMDE0IFlPT3RoZW1lIHwgTUlUIExpY2Vuc2UgKi9cbihmdW5jdGlvbihhZGRvbikge1xuXG4gICAgdmFyIGNvbXBvbmVudDtcblxuICAgIGlmICh3aW5kb3cuVUlraXQyKSB7XG4gICAgICAgIGNvbXBvbmVudCA9IGFkZG9uKFVJa2l0Mik7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZSgndWlraXQtbm90aWZ5JywgWyd1aWtpdCddLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudCB8fCBhZGRvbihVSWtpdDIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbn0pKGZ1bmN0aW9uKFVJKXtcblxuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIGNvbnRhaW5lcnMgPSB7fSxcbiAgICAgICAgbWVzc2FnZXMgICA9IHt9LFxuXG4gICAgICAgIG5vdGlmeSAgICAgPSAgZnVuY3Rpb24ob3B0aW9ucyl7XG5cbiAgICAgICAgICAgIGlmIChVSS4kLnR5cGUob3B0aW9ucykgPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0geyBtZXNzYWdlOiBvcHRpb25zIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhcmd1bWVudHNbMV0pIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gVUkuJC5leHRlbmQob3B0aW9ucywgVUkuJC50eXBlKGFyZ3VtZW50c1sxXSkgPT0gJ3N0cmluZycgPyB7c3RhdHVzOmFyZ3VtZW50c1sxXX0gOiBhcmd1bWVudHNbMV0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKG5ldyBNZXNzYWdlKG9wdGlvbnMpKS5zaG93KCk7XG4gICAgICAgIH0sXG4gICAgICAgIGNsb3NlQWxsICA9IGZ1bmN0aW9uKGdyb3VwLCBpbnN0YW50bHkpe1xuXG4gICAgICAgICAgICB2YXIgaWQ7XG5cbiAgICAgICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgICAgIGZvcihpZCBpbiBtZXNzYWdlcykgeyBpZihncm91cD09PW1lc3NhZ2VzW2lkXS5ncm91cCkgbWVzc2FnZXNbaWRdLmNsb3NlKGluc3RhbnRseSk7IH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yKGlkIGluIG1lc3NhZ2VzKSB7IG1lc3NhZ2VzW2lkXS5jbG9zZShpbnN0YW50bHkpOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICB2YXIgTWVzc2FnZSA9IGZ1bmN0aW9uKG9wdGlvbnMpe1xuXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IFVJLiQuZXh0ZW5kKHt9LCBNZXNzYWdlLmRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICB0aGlzLnV1aWQgICAgPSBVSS5VdGlscy51aWQoJ25vdGlmeW1zZycpO1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBVSS4kKFtcblxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ1ay1ub3RpZnktbWVzc2FnZVwiPicsXG4gICAgICAgICAgICAgICAgJzxhIGNsYXNzPVwidWstY2xvc2VcIj48L2E+JyxcbiAgICAgICAgICAgICAgICAnPGRpdj48L2Rpdj4nLFxuICAgICAgICAgICAgJzwvZGl2PidcblxuICAgICAgICBdLmpvaW4oJycpKS5kYXRhKFwibm90aWZ5TWVzc2FnZVwiLCB0aGlzKTtcblxuICAgICAgICB0aGlzLmNvbnRlbnQodGhpcy5vcHRpb25zLm1lc3NhZ2UpO1xuXG4gICAgICAgIC8vIHN0YXR1c1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnN0YXR1cykge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZENsYXNzKCd1ay1ub3RpZnktbWVzc2FnZS0nK3RoaXMub3B0aW9ucy5zdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50c3RhdHVzID0gdGhpcy5vcHRpb25zLnN0YXR1cztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ3JvdXAgPSB0aGlzLm9wdGlvbnMuZ3JvdXA7XG5cbiAgICAgICAgbWVzc2FnZXNbdGhpcy51dWlkXSA9IHRoaXM7XG5cbiAgICAgICAgaWYoIWNvbnRhaW5lcnNbdGhpcy5vcHRpb25zLnBvc10pIHtcbiAgICAgICAgICAgIGNvbnRhaW5lcnNbdGhpcy5vcHRpb25zLnBvc10gPSBVSS4kKCc8ZGl2IGNsYXNzPVwidWstbm90aWZ5IHVrLW5vdGlmeS0nK3RoaXMub3B0aW9ucy5wb3MrJ1wiPjwvZGl2PicpLmFwcGVuZFRvKCdib2R5Jykub24oXCJjbGlja1wiLCBcIi51ay1ub3RpZnktbWVzc2FnZVwiLCBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBVSS4kKHRoaXMpLmRhdGEoJ25vdGlmeU1lc3NhZ2UnKTtcblxuICAgICAgICAgICAgICAgIG1lc3NhZ2UuZWxlbWVudC50cmlnZ2VyKCdtYW51YWxjbG9zZS51ay5ub3RpZnknLCBbbWVzc2FnZV0pO1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UuY2xvc2UoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgVUkuJC5leHRlbmQoTWVzc2FnZS5wcm90b3R5cGUsIHtcblxuICAgICAgICB1dWlkOiBmYWxzZSxcbiAgICAgICAgZWxlbWVudDogZmFsc2UsXG4gICAgICAgIHRpbW91dDogZmFsc2UsXG4gICAgICAgIGN1cnJlbnRzdGF0dXM6IFwiXCIsXG4gICAgICAgIGdyb3VwOiBmYWxzZSxcblxuICAgICAgICBzaG93OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5pcygnOnZpc2libGUnKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICBjb250YWluZXJzW3RoaXMub3B0aW9ucy5wb3NdLnNob3coKS5wcmVwZW5kKHRoaXMuZWxlbWVudCk7XG5cbiAgICAgICAgICAgIHZhciBtYXJnaW5ib3R0b20gPSBwYXJzZUludCh0aGlzLmVsZW1lbnQuY3NzKCdtYXJnaW4tYm90dG9tJyksIDEwKTtcblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNzcyh7b3BhY2l0eTowLCBtYXJnaW5Ub3A6IC0xKnRoaXMuZWxlbWVudC5vdXRlckhlaWdodCgpLCBtYXJnaW5Cb3R0b206MH0pLmFuaW1hdGUoe29wYWNpdHk6MSwgbWFyZ2luVG9wOjAsIG1hcmdpbkJvdHRvbTptYXJnaW5ib3R0b219LCBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgaWYgKCR0aGlzLm9wdGlvbnMudGltZW91dCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjbG9zZWZuID0gZnVuY3Rpb24oKXsgJHRoaXMuY2xvc2UoKTsgfTtcblxuICAgICAgICAgICAgICAgICAgICAkdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChjbG9zZWZuLCAkdGhpcy5vcHRpb25zLnRpbWVvdXQpO1xuXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmVsZW1lbnQuaG92ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHsgY2xlYXJUaW1lb3V0KCR0aGlzLnRpbWVvdXQpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7ICR0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsb3NlZm4sICR0aGlzLm9wdGlvbnMudGltZW91dCk7ICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xvc2U6IGZ1bmN0aW9uKGluc3RhbnRseSkge1xuXG4gICAgICAgICAgICB2YXIgJHRoaXMgICAgPSB0aGlzLFxuICAgICAgICAgICAgICAgIGZpbmFsaXplID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZWxlbWVudC5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lcnNbJHRoaXMub3B0aW9ucy5wb3NdLmNoaWxkcmVuKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJzWyR0aGlzLm9wdGlvbnMucG9zXS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5vcHRpb25zLm9uQ2xvc2UuYXBwbHkoJHRoaXMsIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZWxlbWVudC50cmlnZ2VyKCdjbG9zZS51ay5ub3RpZnknLCBbJHRoaXNdKTtcblxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbWVzc2FnZXNbJHRoaXMudXVpZF07XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaWYgKHRoaXMudGltZW91dCkgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG5cbiAgICAgICAgICAgIGlmIChpbnN0YW50bHkpIHtcbiAgICAgICAgICAgICAgICBmaW5hbGl6ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYW5pbWF0ZSh7b3BhY2l0eTowLCBtYXJnaW5Ub3A6IC0xKiB0aGlzLmVsZW1lbnQub3V0ZXJIZWlnaHQoKSwgbWFyZ2luQm90dG9tOjB9LCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBmaW5hbGl6ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNvbnRlbnQ6IGZ1bmN0aW9uKGh0bWwpe1xuXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5lbGVtZW50LmZpbmQoXCI+ZGl2XCIpO1xuXG4gICAgICAgICAgICBpZighaHRtbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaHRtbCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250YWluZXIuaHRtbChodG1sKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3RhdHVzOiBmdW5jdGlvbihzdGF0dXMpIHtcblxuICAgICAgICAgICAgaWYgKCFzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50c3RhdHVzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoJ3VrLW5vdGlmeS1tZXNzYWdlLScrdGhpcy5jdXJyZW50c3RhdHVzKS5hZGRDbGFzcygndWstbm90aWZ5LW1lc3NhZ2UtJytzdGF0dXMpO1xuXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRzdGF0dXMgPSBzdGF0dXM7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBNZXNzYWdlLmRlZmF1bHRzID0ge1xuICAgICAgICBtZXNzYWdlOiBcIlwiLFxuICAgICAgICBzdGF0dXM6IFwiXCIsXG4gICAgICAgIHRpbWVvdXQ6IDUwMDAsXG4gICAgICAgIGdyb3VwOiBudWxsLFxuICAgICAgICBwb3M6ICd0b3AtY2VudGVyJyxcbiAgICAgICAgb25DbG9zZTogZnVuY3Rpb24oKSB7fVxuICAgIH07XG5cbiAgICBVSS5ub3RpZnkgICAgICAgICAgPSBub3RpZnk7XG4gICAgVUkubm90aWZ5Lm1lc3NhZ2UgID0gTWVzc2FnZTtcbiAgICBVSS5ub3RpZnkuY2xvc2VBbGwgPSBjbG9zZUFsbDtcblxuICAgIHJldHVybiBub3RpZnk7XG59KTsiXX0=
