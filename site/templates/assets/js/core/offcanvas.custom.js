!function(f){"use strict";var r={x:window.scrollX,y:window.scrollY},c=(f.$win,f.$doc,f.$html),o={show:function(a,t){if((a=f.$(a)).length){t=f.$.extend({mode:"push"},t);var n=f.$("body"),i=a.find(".uk-offcanvas-bar:first"),o="right"==f.langdirection,s=(i.hasClass("uk-offcanvas-bar-flip")?-1:1)*(o?-1:1),e=window.innerWidth-n.width();r={x:window.pageXOffset,y:window.pageYOffset},i.attr("mode",t.mode),a.addClass("uk-active"),n.css({width:window.innerWidth-e,height:window.innerHeight}).addClass("uk-offcanvas-page"),"push"!=t.mode&&"reveal"!=t.mode||n.css(o?"margin-right":"margin-left",(o?-1:1)*(i.outerWidth()*s)),"reveal"==t.mode&&i.css("clip","rect(0, "+i.outerWidth()+"px, 100vh, 0)"),c.css("margin-top",-1*r.y).width(),i.addClass("uk-offcanvas-bar-show"),this._initElement(a),i.trigger("show.uk.offcanvas",[a,i])}},hide:function(a){var t=f.$("body"),n=f.$(".uk-offcanvas.uk-active"),i="right"==f.langdirection,o=n.find(".uk-offcanvas-bar:first"),s=function(){t.removeClass("uk-offcanvas-page").css({width:"",height:"",marginLeft:"",marginRight:""}),n.removeClass("uk-active"),o.removeClass("uk-offcanvas-bar-show"),c.css("margin-top",""),window.scrollTo(r.x,r.y),o.trigger("hide.uk.offcanvas",[n,o])};n.length&&("none"==o.attr("mode")&&(a=!0),f.support.transition&&!a?(n.one(f.support.transition.end,function(){s()}).css(i?"margin-right":"margin-left",""),"reveal"==o.attr("mode")&&o.css("clip",""),setTimeout(function(){o.removeClass("uk-offcanvas-bar-show")},0)):s())},_initElement:function(a){a.data("OffcanvasInit")||(a.on("click.uk.offcanvas swipeRight.uk.offcanvas swipeLeft.uk.offcanvas",function(a){var t=f.$(a.target);if(!a.type.match(/swipe/)&&!t.hasClass("uk-offcanvas-close")){if(t.hasClass("uk-offcanvas-bar"))return;if(t.parents(".uk-offcanvas-bar:first").length)return}a.stopImmediatePropagation(),o.hide()}),a.on("click",'a[href*="#"]',function(a){var n=f.$(this),i=n.attr("href");"#"!=i&&(f.$doc.one("hide.uk.offcanvas",function(){var t;try{t=f.$(n[0].hash)}catch(a){t=""}t.length||(t=f.$('[name="'+n[0].hash.replace("#","")+'"]')),t.length&&f.Utils.scrollToElement?f.Utils.scrollToElement(t,f.Utils.options(n.attr("data-uk-smooth-scroll")||"{}")):window.location.href=i}),o.hide())}),a.data("OffcanvasInit",!0))}};f.component("offcanvasTrigger",{boot:function(){c.on("click.offcanvas.uikit","[data-uk-offcanvas]",function(a){a.preventDefault();var t=f.$(this);if(!t.data("offcanvasTrigger")){f.offcanvasTrigger(t,f.Utils.options(t.attr("data-uk-offcanvas")));t.trigger("click")}}),c.on("keydown.uk.offcanvas",function(a){27===a.keyCode&&o.hide()})},init:function(){var t=this;this.options=f.$.extend({target:!!t.element.is("a")&&t.element.attr("href"),mode:"push"},this.options),this.on("click",function(a){a.preventDefault(),o.show(t.options.target,t.options)})}}),f.offcanvas=o}(UIkit2);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvb2ZmY2FudmFzLmN1c3RvbS5qcyJdLCJuYW1lcyI6WyJVSSIsInNjcm9sbHBvcyIsIngiLCJ3aW5kb3ciLCJzY3JvbGxYIiwieSIsInNjcm9sbFkiLCIkaHRtbCIsIiR3aW4iLCIkZG9jIiwiT2ZmY2FudmFzIiwic2hvdyIsImVsZW1lbnQiLCJvcHRpb25zIiwiJCIsImxlbmd0aCIsImV4dGVuZCIsIm1vZGUiLCIkYm9keSIsImJhciIsImZpbmQiLCJydGwiLCJsYW5nZGlyZWN0aW9uIiwiZGlyIiwiaGFzQ2xhc3MiLCJzY3JvbGxiYXJ3aWR0aCIsImlubmVyV2lkdGgiLCJ3aWR0aCIsInBhZ2VYT2Zmc2V0IiwicGFnZVlPZmZzZXQiLCJhdHRyIiwiYWRkQ2xhc3MiLCJjc3MiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsIm91dGVyV2lkdGgiLCJ0aGlzIiwiX2luaXRFbGVtZW50IiwidHJpZ2dlciIsImhpZGUiLCJmb3JjZSIsInBhbmVsIiwiZmluYWxpemUiLCJyZW1vdmVDbGFzcyIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsInNjcm9sbFRvIiwic3VwcG9ydCIsInRyYW5zaXRpb24iLCJvbmUiLCJlbmQiLCJzZXRUaW1lb3V0IiwiZGF0YSIsIm9uIiwiZSIsInRhcmdldCIsInR5cGUiLCJtYXRjaCIsInBhcmVudHMiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJsaW5rIiwiaHJlZiIsImhhc2giLCJyZXBsYWNlIiwiVXRpbHMiLCJzY3JvbGxUb0VsZW1lbnQiLCJsb2NhdGlvbiIsImNvbXBvbmVudCIsImJvb3QiLCJwcmV2ZW50RGVmYXVsdCIsImVsZSIsIm9mZmNhbnZhc1RyaWdnZXIiLCJrZXlDb2RlIiwiaW5pdCIsIiR0aGlzIiwiaXMiLCJvZmZjYW52YXMiLCJVSWtpdDIiXSwibWFwcGluZ3MiOiJDQUFBLFNBQVVBLEdBRU4sYUFFQSxJQUFJQyxFQUFZLENBQUNDLEVBQUdDLE9BQU9DLFFBQVNDLEVBQUdGLE9BQU9HLFNBRzFD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bEUsRUE5TG5CLENBZ01HbUUiLCJmaWxlIjoiY29yZS9vZmZjYW52YXMuY3VzdG9tLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKFVJKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBzY3JvbGxwb3MgPSB7eDogd2luZG93LnNjcm9sbFgsIHk6IHdpbmRvdy5zY3JvbGxZfSxcbiAgICAgICAgJHdpbiAgICAgID0gVUkuJHdpbixcbiAgICAgICAgJGRvYyAgICAgID0gVUkuJGRvYyxcbiAgICAgICAgJGh0bWwgICAgID0gVUkuJGh0bWwsXG4gICAgICAgIE9mZmNhbnZhcyA9IHtcblxuICAgICAgICBzaG93OiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG5cbiAgICAgICAgICAgIGVsZW1lbnQgPSBVSS4kKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgICAgIG9wdGlvbnMgPSBVSS4kLmV4dGVuZCh7bW9kZTogJ3B1c2gnfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHZhciAkYm9keSAgICAgPSBVSS4kKCdib2R5JyksXG4gICAgICAgICAgICAgICAgYmFyICAgICAgID0gZWxlbWVudC5maW5kKCcudWstb2ZmY2FudmFzLWJhcjpmaXJzdCcpLFxuICAgICAgICAgICAgICAgIHJ0bCAgICAgICA9IChVSS5sYW5nZGlyZWN0aW9uID09ICdyaWdodCcpLFxuICAgICAgICAgICAgICAgIGZsaXAgICAgICA9IGJhci5oYXNDbGFzcygndWstb2ZmY2FudmFzLWJhci1mbGlwJykgPyAtMSA6IDEsXG4gICAgICAgICAgICAgICAgZGlyICAgICAgID0gZmxpcCAqIChydGwgPyAtMSA6IDEpLFxuXG4gICAgICAgICAgICAgICAgc2Nyb2xsYmFyd2lkdGggPSAgd2luZG93LmlubmVyV2lkdGggLSAkYm9keS53aWR0aCgpO1xuXG4gICAgICAgICAgICBzY3JvbGxwb3MgPSB7eDogd2luZG93LnBhZ2VYT2Zmc2V0LCB5OiB3aW5kb3cucGFnZVlPZmZzZXR9O1xuXG4gICAgICAgICAgICBiYXIuYXR0cignbW9kZScsIG9wdGlvbnMubW9kZSk7XG4gICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCd1ay1hY3RpdmUnKTtcblxuICAgICAgICAgICAgJGJvZHkuY3NzKHt3aWR0aDogd2luZG93LmlubmVyV2lkdGggLSBzY3JvbGxiYXJ3aWR0aCwgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHR9KS5hZGRDbGFzcygndWstb2ZmY2FudmFzLXBhZ2UnKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubW9kZSA9PSAncHVzaCcgfHwgb3B0aW9ucy5tb2RlID09ICdyZXZlYWwnKSB7XG4gICAgICAgICAgICAgICAgJGJvZHkuY3NzKChydGwgPyAnbWFyZ2luLXJpZ2h0JyA6ICdtYXJnaW4tbGVmdCcpLCAocnRsID8gLTEgOiAxKSAqIChiYXIub3V0ZXJXaWR0aCgpICogZGlyKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLm1vZGUgPT0gJ3JldmVhbCcpIHtcbiAgICAgICAgICAgICAgICBiYXIuY3NzKCdjbGlwJywgJ3JlY3QoMCwgJytiYXIub3V0ZXJXaWR0aCgpKydweCwgMTAwdmgsIDApJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRodG1sLmNzcygnbWFyZ2luLXRvcCcsIHNjcm9sbHBvcy55ICogLTEpLndpZHRoKCk7IC8vIC53aWR0aCgpIC0gZm9yY2UgcmVkcmF3XG5cbiAgICAgICAgICAgIGJhci5hZGRDbGFzcygndWstb2ZmY2FudmFzLWJhci1zaG93Jyk7XG5cbiAgICAgICAgICAgIHRoaXMuX2luaXRFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBiYXIudHJpZ2dlcignc2hvdy51ay5vZmZjYW52YXMnLCBbZWxlbWVudCwgYmFyXSk7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBBUklBXG4gICAgICAgICAgICAvLyBlbGVtZW50LmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgaGlkZTogZnVuY3Rpb24oZm9yY2UpIHtcblxuICAgICAgICAgICAgdmFyICRib2R5ID0gVUkuJCgnYm9keScpLFxuICAgICAgICAgICAgICAgIHBhbmVsID0gVUkuJCgnLnVrLW9mZmNhbnZhcy51ay1hY3RpdmUnKSxcbiAgICAgICAgICAgICAgICBydGwgICA9IChVSS5sYW5nZGlyZWN0aW9uID09ICdyaWdodCcpLFxuICAgICAgICAgICAgICAgIGJhciAgID0gcGFuZWwuZmluZCgnLnVrLW9mZmNhbnZhcy1iYXI6Zmlyc3QnKSxcbiAgICAgICAgICAgICAgICBmaW5hbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkYm9keS5yZW1vdmVDbGFzcygndWstb2ZmY2FudmFzLXBhZ2UnKS5jc3Moe3dpZHRoOiAnJywgaGVpZ2h0OiAnJywgbWFyZ2luTGVmdDogJycsIG1hcmdpblJpZ2h0OiAnJ30pO1xuICAgICAgICAgICAgICAgICAgICBwYW5lbC5yZW1vdmVDbGFzcygndWstYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIGJhci5yZW1vdmVDbGFzcygndWstb2ZmY2FudmFzLWJhci1zaG93Jyk7XG4gICAgICAgICAgICAgICAgICAgICRodG1sLmNzcygnbWFyZ2luLXRvcCcsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHNjcm9sbHBvcy54LCBzY3JvbGxwb3MueSk7XG4gICAgICAgICAgICAgICAgICAgIGJhci50cmlnZ2VyKCdoaWRlLnVrLm9mZmNhbnZhcycsIFtwYW5lbCwgYmFyXSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIEFSSUFcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFuZWwuYXR0cignYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICghcGFuZWwubGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoYmFyLmF0dHIoJ21vZGUnKSA9PSAnbm9uZScpIGZvcmNlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChVSS5zdXBwb3J0LnRyYW5zaXRpb24gJiYgIWZvcmNlKSB7XG5cbiAgICAgICAgICAgICAgICBwYW5lbC5vbmUoVUkuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBmaW5hbGl6ZSgpO1xuICAgICAgICAgICAgICAgIH0pLmNzcygocnRsID8gJ21hcmdpbi1yaWdodCcgOiAnbWFyZ2luLWxlZnQnKSwgJycpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJhci5hdHRyKCdtb2RlJykgPT0gJ3JldmVhbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYmFyLmNzcygnY2xpcCcsICcnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIGJhci5yZW1vdmVDbGFzcygndWstb2ZmY2FudmFzLWJhci1zaG93Jyk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZmluYWxpemUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBfaW5pdEVsZW1lbnQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuZGF0YSgnT2ZmY2FudmFzSW5pdCcpKSByZXR1cm47XG5cbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrLnVrLm9mZmNhbnZhcyBzd2lwZVJpZ2h0LnVrLm9mZmNhbnZhcyBzd2lwZUxlZnQudWsub2ZmY2FudmFzJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IFVJLiQoZS50YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFlLnR5cGUubWF0Y2goL3N3aXBlLykpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5oYXNDbGFzcygndWstb2ZmY2FudmFzLWNsb3NlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzQ2xhc3MoJ3VrLW9mZmNhbnZhcy1iYXInKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5wYXJlbnRzKCcudWstb2ZmY2FudmFzLWJhcjpmaXJzdCcpLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICBPZmZjYW52YXMuaGlkZSgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgJ2FbaHJlZio9XCIjXCJdJywgZnVuY3Rpb24oZSl7XG5cbiAgICAgICAgICAgICAgICB2YXIgbGluayA9IFVJLiQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIGhyZWYgPSBsaW5rLmF0dHIoJ2hyZWYnKTtcblxuICAgICAgICAgICAgICAgIGlmIChocmVmID09ICcjJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgVUkuJGRvYy5vbmUoJ2hpZGUudWsub2ZmY2FudmFzJywgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gVUkuJChsaW5rWzBdLmhhc2gpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBVSS4kKCdbbmFtZT1cIicrbGlua1swXS5oYXNoLnJlcGxhY2UoJyMnLCcnKSsnXCJdJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lmxlbmd0aCAmJiBVSS5VdGlscy5zY3JvbGxUb0VsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVJLlV0aWxzLnNjcm9sbFRvRWxlbWVudCh0YXJnZXQsIFVJLlV0aWxzLm9wdGlvbnMobGluay5hdHRyKCdkYXRhLXVrLXNtb290aC1zY3JvbGwnKSB8fCAne30nKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIE9mZmNhbnZhcy5oaWRlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWxlbWVudC5kYXRhKCdPZmZjYW52YXNJbml0JywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVUkuY29tcG9uZW50KCdvZmZjYW52YXNUcmlnZ2VyJywge1xuXG4gICAgICAgIGJvb3Q6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAvLyBpbml0IGNvZGVcbiAgICAgICAgICAgICRodG1sLm9uKCdjbGljay5vZmZjYW52YXMudWlraXQnLCAnW2RhdGEtdWstb2ZmY2FudmFzXScsIGZ1bmN0aW9uKGUpIHtcblxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIHZhciBlbGUgPSBVSS4kKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFlbGUuZGF0YSgnb2ZmY2FudmFzVHJpZ2dlcicpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBVSS5vZmZjYW52YXNUcmlnZ2VyKGVsZSwgVUkuVXRpbHMub3B0aW9ucyhlbGUuYXR0cignZGF0YS11ay1vZmZjYW52YXMnKSkpO1xuICAgICAgICAgICAgICAgICAgICBlbGUudHJpZ2dlcihcImNsaWNrXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkaHRtbC5vbigna2V5ZG93bi51ay5vZmZjYW52YXMnLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNykgeyAvLyBFU0NcbiAgICAgICAgICAgICAgICAgICAgT2ZmY2FudmFzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyICR0aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gVUkuJC5leHRlbmQoe1xuICAgICAgICAgICAgICAgIHRhcmdldDogJHRoaXMuZWxlbWVudC5pcygnYScpID8gJHRoaXMuZWxlbWVudC5hdHRyKCdocmVmJykgOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtb2RlOiAncHVzaCdcbiAgICAgICAgICAgIH0sIHRoaXMub3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHRoaXMub24oJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBPZmZjYW52YXMuc2hvdygkdGhpcy5vcHRpb25zLnRhcmdldCwgJHRoaXMub3B0aW9ucyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgVUkub2ZmY2FudmFzID0gT2ZmY2FudmFzO1xuXG59KShVSWtpdDIpOyJdfQ==
