!function(t){if("function"==typeof define&&define.amd&&define("uikit",function(){var c=window.UIkit2||t(window,window.jQuery,window.document);return c.load=function(t,n,e,o){var i,r=t.split(","),s=[],a=(o.config&&o.config.uikit&&o.config.uikit.base?o.config.uikit.base:"").replace(/\/+$/g,"");if(!a)throw new Error("Please define base path to UIkit in the requirejs config.");for(i=0;i<r.length;i+=1){var u=r[i].replace(/\./g,"/");s.push(a+"/components/"+u)}n(s,function(){e(c)})},c}),!window.jQuery)throw new Error("UIkit 2.x requires jQuery");window&&window.jQuery&&!window.UIkit2&&t(window,window.jQuery,window.document)}(function(t,u,o){"use strict";var n,e,i,c={},r=t.UIkit||void 0;if(c.version="2.27.2",c.noConflict=function(){return r&&(t.UIkit=r,u.UIkit=r,u.fn.uk=r.fn),c},t.UIkit2=c,r||(t.UIkit=c),c.$=u,c.$doc=c.$(document),c.$win=c.$(window),c.$html=c.$("html"),c.support={},c.support.transition=(n=function(){var t,n=o.body||o.documentElement,e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in e)if(void 0!==n.style[t])return e[t]}())&&{end:n},c.support.animation=(e=function(){var t,n=o.body||o.documentElement,e={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(t in e)if(void 0!==n.style[t])return e[t]}())&&{end:e},function(){Date.now=Date.now||function(){return(new Date).getTime()};for(var t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n){var e=t[n];window.requestAnimationFrame=window[e+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var o=0;window.requestAnimationFrame=function(t){var n=Date.now(),e=Math.max(o+16,n);return setTimeout(function(){t(o=e)},e-n)},window.cancelAnimationFrame=clearTimeout}}(),c.support.touch="ontouchstart"in document||t.DocumentTouch&&document instanceof t.DocumentTouch||t.navigator.msPointerEnabled&&0<t.navigator.msMaxTouchPoints||t.navigator.pointerEnabled&&0<t.navigator.maxTouchPoints||!1,c.support.mutationobserver=t.MutationObserver||t.WebKitMutationObserver||null,c.Utils={},c.Utils.isFullscreen=function(){return document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement||!1},c.Utils.str2json=function(t,n){try{return n?JSON.parse(t.replace(/([\$\w]+)\s*:/g,function(t,n){return'"'+n+'":'}).replace(/'([^']+)'/g,function(t,n){return'"'+n+'"'})):new Function("","var json = "+t+"; return JSON.parse(JSON.stringify(json));")()}catch(t){return!1}},c.Utils.debounce=function(o,i,r){var s;return function(){var t=this,n=arguments,e=r&&!s;clearTimeout(s),s=setTimeout(function(){s=null,r||o.apply(t,n)},i),e&&o.apply(t,n)}},c.Utils.throttle=function(t,n){var e=!1;return function(){e||(t.call(),e=!0,setTimeout(function(){e=!1},n))}},c.Utils.removeCssRules=function(t){var n,e,o,i,r,s,a,u,c,d;t&&setTimeout(function(){try{for(d=document.styleSheets,i=0,a=d.length;i<a;i++){for(o=d[i],e=[],o.cssRules=o.cssRules,n=r=0,u=o.cssRules.length;r<u;n=++r)o.cssRules[n].type===CSSRule.STYLE_RULE&&t.test(o.cssRules[n].selectorText)&&e.unshift(n);for(s=0,c=e.length;s<c;s++)o.deleteRule(e[s])}}catch(t){}},0)},c.Utils.isInView=function(t,n){var e=u(t);if(!e.is(":visible"))return!1;var o=c.$win.scrollLeft(),i=c.$win.scrollTop(),r=e.offset(),s=r.left,a=r.top;return n=u.extend({topoffset:0,leftoffset:0},n),a+e.height()>=i&&a-n.topoffset<=i+c.$win.height()&&s+e.width()>=o&&s-n.leftoffset<=o+c.$win.width()},c.Utils.checkDisplay=function(t,n){var e=c.$("[data-uk-margin], [data-uk-grid-match], [data-uk-grid-margin], [data-uk-check-display]",t||document);return t&&!e.length&&(e=u(t)),e.trigger("display.uk.check"),n&&("string"!=typeof n&&(n='[class*="uk-animation-"]'),e.find(n).each(function(){var t=c.$(this),n=t.attr("class").match(/uk-animation-(.+)/);t.removeClass(n[0]).width(),t.addClass(n[0])})),e},c.Utils.options=function(t){if("string"!=u.type(t))return t;-1!=t.indexOf(":")&&"}"!=t.trim().substr(-1)&&(t="{"+t+"}");var n=t?t.indexOf("{"):-1,e={};if(-1!=n)try{e=c.Utils.str2json(t.substr(n))}catch(t){}return e},c.Utils.animate=function(t,n){var e=u.Deferred();return(t=c.$(t)).css("display","none").addClass(n).one(c.support.animation.end,function(){t.removeClass(n),e.resolve()}),t.css("display",""),e.promise()},c.Utils.uid=function(t){return(t||"id")+(new Date).getTime()+"RAND"+Math.ceil(1e5*Math.random())},c.Utils.template=function(t,n){for(var e,o,i,r,s=t.replace(/\n/g,"\\n").replace(/\{\{\{\s*(.+?)\s*\}\}\}/g,"{{!$1}}").split(/(\{\{\s*(.+?)\s*\}\})/g),a=0,u=[],c=0;a<s.length;){if((e=s[a]).match(/\{\{\s*(.+?)\s*\}\}/))switch(o=(e=s[a+=1])[0],i=e.substring(e.match(/^(\^|\#|\!|\~|\:)/)?1:0),o){case"~":u.push("for(var $i=0;$i<"+i+".length;$i++) { var $item = "+i+"[$i];"),c++;break;case":":u.push("for(var $key in "+i+") { var $val = "+i+"[$key];"),c++;break;case"#":u.push("if("+i+") {"),c++;break;case"^":u.push("if(!"+i+") {"),c++;break;case"/":u.push("}"),c--;break;case"!":u.push("__ret.push("+i+");");break;default:u.push("__ret.push(escape("+i+"));")}else u.push("__ret.push('"+e.replace(/\'/g,"\\'")+"');");a+=1}return r=new Function("$data",["var __ret = [];","try {","with($data){",c?'__ret = ["Not all blocks are closed correctly."]':u.join(""),"};","}catch(e){__ret = [e.message];}",'return __ret.join("").replace(/\\n\\n/g, "\\n");',"function escape(html) { return String(html).replace(/&/g, '&amp;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');}"].join("\n")),n?r(n):r},c.Utils.focus=function(t,n){if(!(t=u(t)).length)return t;var e,o=t.find("[autofocus]:first");return o.length?o.focus():(o=t.find(":input"+(n&&","+n||"")).first()).length?o.focus():(t.attr("tabindex")||(e=1e3,t.attr("tabindex",e)),t[0].focus(),e&&t.attr("tabindex",""),t)},c.Utils.events={},c.Utils.events.click=c.support.touch?"tap":"click",c.fn=function(t,e){var o=arguments,n=t.match(/^([a-z\-]+)(?:\.([a-z]+))?/i),i=n[1],r=n[2];return c[i]?this.each(function(){var t=u(this),n=t.data(i);n||t.data(i,n=c[i](this,r?void 0:e)),r&&n[r].apply(n,Array.prototype.slice.call(o,1))}):(u.error("UIkit component ["+i+"] does not exist."),this)},u.UIkit=c,u.fn.uk=c.fn,c.langdirection="rtl"==c.$html.attr("dir")?"right":"left",c.components={},c.component=function(o,t,n){if(c.components[o]&&!n)return c.components[o];var i=function(t,n){var e=this;return this.UIkit=c,this.element=t?c.$(t):null,this.options=u.extend(!0,{},this.defaults,n),this.plugins={},this.element&&this.element.data(o,this),this.init(),(this.options.plugins.length?this.options.plugins:Object.keys(i.plugins)).forEach(function(t){i.plugins[t].init&&(i.plugins[t].init(e),e.plugins[t]=!0)}),this.trigger("init.uk.component",[o,this]),this};return i.plugins={},u.extend(!0,i.prototype,{defaults:{plugins:[]},boot:function(){},init:function(){},on:function(t,n,e){return c.$(this.element||this).on(t,n,e)},one:function(t,n,e){return c.$(this.element||this).one(t,n,e)},off:function(t){return c.$(this.element||this).off(t)},trigger:function(t,n){return c.$(this.element||this).trigger(t,n)},find:function(t){return c.$(this.element?this.element:[]).find(t)},proxy:function(n,t){var e=this;t.split(" ").forEach(function(t){e[t]||(e[t]=function(){return n[t].apply(n,arguments)})})},mixin:function(n,t){var e=this;t.split(" ").forEach(function(t){e[t]||(e[t]=n[t].bind(e))})},option:function(){if(1==arguments.length)return this.options[arguments[0]]||void 0;2==arguments.length&&(this.options[arguments[0]]=arguments[1])}},t),this.components[o]=i,this[o]=function(){var t,n;if(arguments.length)switch(arguments.length){case 1:"string"==typeof arguments[0]||arguments[0].nodeType||arguments[0]instanceof jQuery?t=u(arguments[0]):n=arguments[0];break;case 2:t=u(arguments[0]),n=arguments[1]}return t&&t.data(o)?t.data(o):new c.components[o](t,n)},c.domready&&c.component.boot(o),i},c.plugin=function(t,n,e){this.components[t].plugins[n]=e},c.component.boot=function(t){c.components[t].prototype&&c.components[t].prototype.boot&&!c.components[t].booted&&(c.components[t].prototype.boot.apply(c,[]),c.components[t].booted=!0)},c.component.bootComponents=function(){for(var t in c.components)c.component.boot(t)},c.domObservers=[],c.domready=!1,c.ready=function(t){c.domObservers.push(t),c.domready&&t(document)},c.on=function(t,n,e){return t&&-1<t.indexOf("ready.uk.dom")&&c.domready&&n.apply(c.$doc),c.$doc.on(t,n,e)},c.one=function(t,n,e){return t&&-1<t.indexOf("ready.uk.dom")&&c.domready?(n.apply(c.$doc),c.$doc):c.$doc.one(t,n,e)},c.trigger=function(t,n){return c.$doc.trigger(t,n)},c.domObserve=function(t,o){c.support.mutationobserver&&(o=o||function(){},c.$(t).each(function(){var n=this,e=c.$(n);if(!e.data("observer"))try{var t=new c.support.mutationobserver(c.Utils.debounce(function(t){o.apply(n,[e]),e.trigger("changed.uk.dom")},50),{childList:!0,subtree:!0});t.observe(n,{childList:!0,subtree:!0}),e.data("observer",t)}catch(t){}}))},c.init=function(n){n=n||document,c.domObservers.forEach(function(t){t(n)})},c.on("domready.uk.dom",function(){c.init(),c.domready&&c.Utils.checkDisplay()}),document.addEventListener("DOMContentLoaded",(i=function(){c.$body=c.$("body"),c.trigger("beforeready.uk.dom"),c.component.bootComponents();var e,o,t,i=requestAnimationFrame((e={dir:{x:0,y:0},x:window.pageXOffset,y:window.pageYOffset},o=function(){var t=window.pageXOffset,n=window.pageYOffset;e.x==t&&e.y==n||(t!=e.x?e.dir.x=t>e.x?1:-1:e.dir.x=0,n!=e.y?e.dir.y=n>e.y?1:-1:e.dir.y=0,e.x=t,e.y=n,c.$doc.trigger("scrolling.uk.document",[{dir:{x:e.dir.x,y:e.dir.y},x:t,y:n}])),cancelAnimationFrame(i),i=requestAnimationFrame(o)},c.support.touch&&c.$html.on("touchmove touchend MSPointerMove MSPointerUp pointermove pointerup",o),(e.x||e.y)&&o(),o));if(c.trigger("domready.uk.dom"),c.support.touch&&navigator.userAgent.match(/(iPad|iPhone|iPod)/g)&&c.$win.on("load orientationchange resize",c.Utils.debounce((t=function(){return u(".uk-height-viewport").css("height",window.innerHeight),t})(),100)),c.trigger("afterready.uk.dom"),c.domready=!0,c.support.mutationobserver){var n=c.Utils.debounce(function(){requestAnimationFrame(function(){c.init(document.body)})},10);new c.support.mutationobserver(function(t){var o=!1;t.every(function(t){if("childList"!=t.type)return!0;for(var n,e=0;e<t.addedNodes.length;++e)if((n=t.addedNodes[e]).outerHTML&&-1!==n.outerHTML.indexOf("data-uk-"))return(o=!0)&&!1;return!0}),o&&n()}).observe(document.body,{childList:!0,subtree:!0})}},"complete"!=document.readyState&&"interactive"!=document.readyState||setTimeout(i),i)),c.$html.addClass(c.support.touch?"uk-touch":"uk-notouch"),c.support.touch){var s,a=!1,d="uk-hover",l=".uk-overlay, .uk-overlay-hover, .uk-overlay-toggle, .uk-animation-hover, .uk-has-hover";c.$html.on("mouseenter touchstart MSPointerDown pointerdown",l,function(){a&&u("."+d).removeClass(d),a=u(this).addClass(d)}).on("mouseleave touchend MSPointerUp pointerup",function(t){s=u(t.target).parents(l),a&&a.not(s).removeClass(d)})}return c});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvY29yZS5qcyJdLCJuYW1lcyI6WyJjb3JlIiwiZGVmaW5lIiwiYW1kIiwidWlraXQiLCJ3aW5kb3ciLCJVSWtpdDIiLCJqUXVlcnkiLCJkb2N1bWVudCIsImxvYWQiLCJyZXMiLCJyZXEiLCJvbmxvYWQiLCJjb25maWciLCJpIiwicmVzb3VyY2VzIiwic3BsaXQiLCJiYXNlIiwicmVwbGFjZSIsIkVycm9yIiwibGVuZ3RoIiwicmVzb3VyY2UiLCJwdXNoIiwiZ2xvYmFsIiwiJCIsImRvYyIsInRyYW5zaXRpb25FbmQiLCJhbmltYXRpb25FbmQiLCJkb21SZWFkeSIsIlVJIiwiX1VJIiwiVUlraXQiLCJ1bmRlZmluZWQiLCJ2ZXJzaW9uIiwibm9Db25mbGljdCIsImZuIiwidWsiLCIkZG9jIiwiJHdpbiIsIiRodG1sIiwic3VwcG9ydCIsInRyYW5zaXRpb24iLCJuYW1lIiwiZWxlbWVudCIsImJvZHkiLCJkb2N1bWVudEVsZW1lbnQiLCJ0cmFuc0VuZEV2ZW50TmFtZXMiLCJXZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwic3R5bGUiLCJlbmQiLCJhbmltYXRpb24iLCJhbmltRW5kRXZlbnROYW1lcyIsIldlYmtpdEFuaW1hdGlvbiIsIk1vekFuaW1hdGlvbiIsIk9BbmltYXRpb24iLCJEYXRlIiwibm93IiwiZ2V0VGltZSIsInZlbmRvcnMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ2cCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImxhc3RUaW1lIiwiY2FsbGJhY2siLCJuZXh0VGltZSIsIk1hdGgiLCJtYXgiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwidG91Y2giLCJEb2N1bWVudFRvdWNoIiwibXNQb2ludGVyRW5hYmxlZCIsIm1zTWF4VG91Y2hQb2ludHMiLCJwb2ludGVyRW5hYmxlZCIsIm1heFRvdWNoUG9pbnRzIiwibXV0YXRpb25vYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIiwiVXRpbHMiLCJpc0Z1bGxzY3JlZW4iLCJ3ZWJraXRGdWxsc2NyZWVuRWxlbWVudCIsIm1vekZ1bGxTY3JlZW5FbGVtZW50IiwibXNGdWxsc2NyZWVuRWxlbWVudCIsImZ1bGxzY3JlZW5FbGVtZW50Iiwic3RyMmpzb24iLCJzdHIiLCJub3RldmlsIiwiSlNPTiIsInBhcnNlIiwiXyIsIiQxIiwiRnVuY3Rpb24iLCJlIiwiZGVib3VuY2UiLCJmdW5jIiwid2FpdCIsImltbWVkaWF0ZSIsInRpbWVvdXQiLCJjb250ZXh0IiwidGhpcyIsImFyZ3MiLCJhcmd1bWVudHMiLCJjYWxsTm93IiwiYXBwbHkiLCJ0aHJvdHRsZSIsImxpbWl0IiwiY2FsbCIsInJlbW92ZUNzc1J1bGVzIiwic2VsZWN0b3JSZWdFeCIsImlkeCIsImlkeHMiLCJzdHlsZXNoZWV0IiwiX2kiLCJfaiIsIl9rIiwiX2xlbiIsIl9sZW4xIiwiX2xlbjIiLCJfcmVmIiwic3R5bGVTaGVldHMiLCJjc3NSdWxlcyIsInR5cGUiLCJDU1NSdWxlIiwiU1RZTEVfUlVMRSIsInNlbGVjdG9yVGV4dCIsInVuc2hpZnQiLCJkZWxldGVSdWxlIiwiX2Vycm9yIiwiaXNJblZpZXciLCJvcHRpb25zIiwiJGVsZW1lbnQiLCJpcyIsIndpbmRvd19sZWZ0Iiwic2Nyb2xsTGVmdCIsIndpbmRvd190b3AiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJsZWZ0IiwidG9wIiwiZXh0ZW5kIiwidG9wb2Zmc2V0IiwibGVmdG9mZnNldCIsImhlaWdodCIsIndpZHRoIiwiY2hlY2tEaXNwbGF5IiwiaW5pdGFuaW1hdGlvbiIsImVsZW1lbnRzIiwidHJpZ2dlciIsImZpbmQiLCJlYWNoIiwiZWxlIiwiYW5pbSIsImF0dHIiLCJtYXRjaCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJzdHJpbmciLCJpbmRleE9mIiwidHJpbSIsInN1YnN0ciIsInN0YXJ0IiwiYW5pbWF0ZSIsImNscyIsImQiLCJEZWZlcnJlZCIsImNzcyIsIm9uZSIsInJlc29sdmUiLCJwcm9taXNlIiwidWlkIiwicHJlZml4IiwiY2VpbCIsInJhbmRvbSIsInRlbXBsYXRlIiwiZGF0YSIsInRvYyIsImNtZCIsInByb3AiLCJ0b2tlbnMiLCJvdXRwdXQiLCJvcGVuYmxvY2tzIiwic3Vic3RyaW5nIiwiam9pbiIsImZvY3VzIiwiZXh0cmEiLCJ0YWJpZHgiLCJhdXRvZm9jdXMiLCJmaXJzdCIsImV2ZW50cyIsImNsaWNrIiwiY29tbWFuZCIsImNvbXBvbmVudCIsIm1ldGhvZCIsIiR0aGlzIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImVycm9yIiwibGFuZ2RpcmVjdGlvbiIsImNvbXBvbmVudHMiLCJkZWYiLCJvdmVycmlkZSIsImRlZmF1bHRzIiwicGx1Z2lucyIsImluaXQiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsInBsdWdpbiIsImJvb3QiLCJvbiIsImExIiwiYTIiLCJhMyIsIm9mZiIsImV2dCIsInBhcmFtcyIsInNlbGVjdG9yIiwicHJveHkiLCJvYmoiLCJtZXRob2RzIiwibWl4aW4iLCJiaW5kIiwib3B0aW9uIiwibm9kZVR5cGUiLCJkb21yZWFkeSIsImJvb3RlZCIsImJvb3RDb21wb25lbnRzIiwiZG9tT2JzZXJ2ZXJzIiwicmVhZHkiLCJkb21PYnNlcnZlIiwib2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJjaGlsZExpc3QiLCJzdWJ0cmVlIiwib2JzZXJ2ZSIsInJvb3QiLCJhZGRFdmVudExpc3RlbmVyIiwiJGJvZHkiLCJtZW1vcnkiLCJyYWZUb2tlbiIsImRpciIsIngiLCJ5IiwicGFnZVhPZmZzZXQiLCJwYWdlWU9mZnNldCIsIndweG8iLCJ3cHlvIiwiaW5uZXJIZWlnaHQiLCJpbml0Rm4iLCJldmVyeSIsIm11dGF0aW9uIiwibm9kZSIsImFkZGVkTm9kZXMiLCJvdXRlckhUTUwiLCJyZWFkeVN0YXRlIiwiZXhjbHVkZSIsImhvdmVyc2V0IiwiaG92ZXJjbHMiLCJ0YXJnZXQi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SUFHUEEsR0FBTTZDLE1BRVZkLFFBQVF4TyxTQUFTb0MsS0FBTSxDQUFDa00sV0FBVyxFQUFNQyxTQUFTLE1BSW5DLFlBQXZCdk8sU0FBUzRQLFlBQW1ELGVBQXZCNVAsU0FBUzRQLFlBQzlDNUwsV0FBVzVDLEdBR1JBLElBS1hDLEVBQUdVLE1BQU15SCxTQUFTbkksRUFBR1csUUFBUWtDLE1BQVEsV0FBYSxjQUc5QzdDLEVBQUdXLFFBQVFrQyxNQUFPLENBRWxCLElBQ0kyTCxFQURBQyxHQUFXLEVBRVhDLEVBQVcsV0FDWHpDLEVBQVcseUZBRWZqTSxFQUFHVSxNQUFNZ0wsR0FBRyxrREFBbURPLEVBQVUsV0FFakV3QyxHQUFVOU8sRUFBRSxJQUFJK08sR0FBVXhHLFlBQVl3RyxHQUUxQ0QsRUFBVzlPLEVBQUVnRixNQUFNd0QsU0FBU3VHLEtBRTdCaEQsR0FBRyw0Q0FBNkMsU0FBU3RILEdBRXhEb0ssRUFBVTdPLEVBQUV5RSxFQUFFdUssUUFBUUMsUUFBUTNDLEdBRTFCd0MsR0FDQUEsRUFBU0ksSUFBSUwsR0FBU3RHLFlBQVl3RyxLQUs5QyxPQUFPMU8iLCJmaWxlIjoiY29yZS9jb3JlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohIFVJa2l0IDIuMjcuMiB8IGh0dHA6Ly93d3cuZ2V0dWlraXQuY29tIHwgKGMpIDIwMTQgWU9PdGhlbWUgfCBNSVQgTGljZW5zZSAqL1xuKGZ1bmN0aW9uKGNvcmUpIHtcblxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkgeyAvLyBBTURcblxuICAgICAgICBkZWZpbmUoJ3Vpa2l0JywgZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgdmFyIHVpa2l0ID0gd2luZG93LlVJa2l0MiB8fCBjb3JlKHdpbmRvdywgd2luZG93LmpRdWVyeSwgd2luZG93LmRvY3VtZW50KTtcblxuICAgICAgICAgICAgdWlraXQubG9hZCA9IGZ1bmN0aW9uKHJlcywgcmVxLCBvbmxvYWQsIGNvbmZpZykge1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlc291cmNlcyA9IHJlcy5zcGxpdCgnLCcpLCBsb2FkID0gW10sIGksIGJhc2UgPSAoY29uZmlnLmNvbmZpZyAmJiBjb25maWcuY29uZmlnLnVpa2l0ICYmIGNvbmZpZy5jb25maWcudWlraXQuYmFzZSA/IGNvbmZpZy5jb25maWcudWlraXQuYmFzZSA6ICcnKS5yZXBsYWNlKC9cXC8rJC9nLCAnJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWJhc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIGJhc2UgcGF0aCB0byBVSWtpdCBpbiB0aGUgcmVxdWlyZWpzIGNvbmZpZy4nKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVzb3VyY2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNvdXJjZSA9IHJlc291cmNlc1tpXS5yZXBsYWNlKC9cXC4vZywgJy8nKTtcbiAgICAgICAgICAgICAgICAgICAgbG9hZC5wdXNoKGJhc2UrJy9jb21wb25lbnRzLycrcmVzb3VyY2UpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJlcShsb2FkLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgb25sb2FkKHVpa2l0KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHJldHVybiB1aWtpdDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKCF3aW5kb3cualF1ZXJ5KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVUlraXQgMi54IHJlcXVpcmVzIGpRdWVyeScpO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cgJiYgd2luZG93LmpRdWVyeSAmJiAhd2luZG93LlVJa2l0Mikge1xuICAgICAgICBjb3JlKHdpbmRvdywgd2luZG93LmpRdWVyeSwgd2luZG93LmRvY3VtZW50KTtcbiAgICB9XG5cbn0pKGZ1bmN0aW9uKGdsb2JhbCwgJCwgZG9jKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBVSSA9IHt9LCBfVUkgPSBnbG9iYWwuVUlraXQgfHwgdW5kZWZpbmVkO1xuXG4gICAgVUkudmVyc2lvbiA9ICcyLjI3LjInO1xuXG4gICAgVUkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyByZXN0b3JlIFVJa2l0IHZlcnNpb25cbiAgICAgICAgaWYgKF9VSSkge1xuICAgICAgICAgICAgZ2xvYmFsLlVJa2l0ID0gX1VJO1xuICAgICAgICAgICAgJC5VSWtpdCAgICAgID0gX1VJO1xuICAgICAgICAgICAgJC5mbi51ayAgICAgID0gX1VJLmZuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFVJO1xuICAgIH07XG5cbiAgICBnbG9iYWwuVUlraXQyID0gVUk7XG5cbiAgICBpZiAoIV9VSSkge1xuICAgICAgICBnbG9iYWwuVUlraXQgPSBVSTtcbiAgICB9XG5cbiAgICAvLyBjYWNoZSBqUXVlcnlcbiAgICBVSS4kID0gJDtcblxuICAgIFVJLiRkb2MgID0gVUkuJChkb2N1bWVudCk7XG4gICAgVUkuJHdpbiAgPSBVSS4kKHdpbmRvdyk7XG4gICAgVUkuJGh0bWwgPSBVSS4kKCdodG1sJyk7XG5cbiAgICBVSS5zdXBwb3J0ID0ge307XG4gICAgVUkuc3VwcG9ydC50cmFuc2l0aW9uID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciB0cmFuc2l0aW9uRW5kID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGRvYy5ib2R5IHx8IGRvYy5kb2N1bWVudEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgdHJhbnNFbmRFdmVudE5hbWVzID0ge1xuICAgICAgICAgICAgICAgICAgICBXZWJraXRUcmFuc2l0aW9uIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgICAgICAgICAgICAgICBNb3pUcmFuc2l0aW9uICAgIDogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgICAgICAgICBPVHJhbnNpdGlvbiAgICAgIDogJ29UcmFuc2l0aW9uRW5kIG90cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbiAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xuICAgICAgICAgICAgICAgIH0sIG5hbWU7XG5cbiAgICAgICAgICAgIGZvciAobmFtZSBpbiB0cmFuc0VuZEV2ZW50TmFtZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gdHJhbnNFbmRFdmVudE5hbWVzW25hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KCkpO1xuXG4gICAgICAgIHJldHVybiB0cmFuc2l0aW9uRW5kICYmIHsgZW5kOiB0cmFuc2l0aW9uRW5kIH07XG4gICAgfSkoKTtcblxuICAgIFVJLnN1cHBvcnQuYW5pbWF0aW9uID0gKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBhbmltYXRpb25FbmQgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jLmJvZHkgfHwgZG9jLmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgICAgICAgICBhbmltRW5kRXZlbnROYW1lcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgV2Via2l0QW5pbWF0aW9uIDogJ3dlYmtpdEFuaW1hdGlvbkVuZCcsXG4gICAgICAgICAgICAgICAgICAgIE1vekFuaW1hdGlvbiAgICA6ICdhbmltYXRpb25lbmQnLFxuICAgICAgICAgICAgICAgICAgICBPQW5pbWF0aW9uICAgICAgOiAnb0FuaW1hdGlvbkVuZCBvYW5pbWF0aW9uZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uICAgICAgIDogJ2FuaW1hdGlvbmVuZCdcbiAgICAgICAgICAgICAgICB9LCBuYW1lO1xuXG4gICAgICAgICAgICBmb3IgKG5hbWUgaW4gYW5pbUVuZEV2ZW50TmFtZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gYW5pbUVuZEV2ZW50TmFtZXNbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0oKSk7XG5cbiAgICAgICAgcmV0dXJuIGFuaW1hdGlvbkVuZCAmJiB7IGVuZDogYW5pbWF0aW9uRW5kIH07XG4gICAgfSkoKTtcblxuICAgIC8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwb2x5ZmlsbFxuICAgIC8vaHR0cHM6Ly9naXRodWIuY29tL2Rhcml1cy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgRGF0ZS5ub3cgPSBEYXRlLm5vdyB8fCBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpOyB9O1xuXG4gICAgICAgIHZhciB2ZW5kb3JzID0gWyd3ZWJraXQnLCAnbW96J107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsraSkge1xuICAgICAgICAgICAgdmFyIHZwID0gdmVuZG9yc1tpXTtcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdnArJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgICAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gKHdpbmRvd1t2cCsnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgd2luZG93W3ZwKydDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKC9pUChhZHxob25lfG9kKS4qT1MgNi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgLy8gaU9TNiBpcyBidWdneVxuICAgICAgICAgICAgfHwgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgIXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICAgICAgICAgICAgdmFyIGxhc3RUaW1lID0gMDtcbiAgICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIHZhciBuZXh0VGltZSA9IE1hdGgubWF4KGxhc3RUaW1lICsgMTYsIG5vdyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKGxhc3RUaW1lID0gbmV4dFRpbWUpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRUaW1lIC0gbm93KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9KCkpO1xuXG4gICAgVUkuc3VwcG9ydC50b3VjaCA9IChcbiAgICAgICAgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50KSB8fFxuICAgICAgICAoZ2xvYmFsLkRvY3VtZW50VG91Y2ggJiYgZG9jdW1lbnQgaW5zdGFuY2VvZiBnbG9iYWwuRG9jdW1lbnRUb3VjaCkgIHx8XG4gICAgICAgIChnbG9iYWwubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgJiYgZ2xvYmFsLm5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzID4gMCkgfHwgLy9JRSAxMFxuICAgICAgICAoZ2xvYmFsLm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCAmJiBnbG9iYWwubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCkgfHwgLy9JRSA+PTExXG4gICAgICAgIGZhbHNlXG4gICAgKTtcblxuICAgIFVJLnN1cHBvcnQubXV0YXRpb25vYnNlcnZlciA9IChnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlciB8fCBudWxsKTtcblxuICAgIFVJLlV0aWxzID0ge307XG5cbiAgICBVSS5VdGlscy5pc0Z1bGxzY3JlZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LndlYmtpdEZ1bGxzY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50Lm1vekZ1bGxTY3JlZW5FbGVtZW50IHx8IGRvY3VtZW50Lm1zRnVsbHNjcmVlbkVsZW1lbnQgfHwgZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgfHwgZmFsc2U7XG4gICAgfTtcblxuICAgIFVJLlV0aWxzLnN0cjJqc29uID0gZnVuY3Rpb24oc3RyLCBub3RldmlsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAobm90ZXZpbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0clxuICAgICAgICAgICAgICAgICAgICAvLyB3cmFwIGtleXMgd2l0aG91dCBxdW90ZSB3aXRoIHZhbGlkIGRvdWJsZSBxdW90ZVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKFtcXCRcXHddKylcXHMqOi9nLCBmdW5jdGlvbihfLCAkMSl7cmV0dXJuICdcIicrJDErJ1wiOic7fSlcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjaW5nIHNpbmdsZSBxdW90ZSB3cmFwcGVkIG9uZXMgdG8gZG91YmxlIHF1b3RlXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8nKFteJ10rKScvZywgZnVuY3Rpb24oXywgJDEpe3JldHVybiAnXCInKyQxKydcIic7fSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKG5ldyBGdW5jdGlvbignJywgJ3ZhciBqc29uID0gJyArIHN0ciArICc7IHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGpzb24pKTsnKSkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaChlKSB7IHJldHVybiBmYWxzZTsgfVxuICAgIH07XG5cbiAgICBVSS5VdGlscy5kZWJvdW5jZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICAgICAgICB2YXIgdGltZW91dDtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLCBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCFpbW1lZGlhdGUpIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXQ7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICAgICAgICBpZiAoY2FsbE5vdykgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgVUkuVXRpbHMudGhyb3R0bGUgPSBmdW5jdGlvbiAoZnVuYywgbGltaXQpIHtcbiAgICAgICAgdmFyIHdhaXQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghd2FpdCkge1xuICAgICAgICAgICAgICAgIGZ1bmMuY2FsbCgpO1xuICAgICAgICAgICAgICAgIHdhaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB3YWl0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSwgbGltaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIFVJLlV0aWxzLnJlbW92ZUNzc1J1bGVzID0gZnVuY3Rpb24oc2VsZWN0b3JSZWdFeCkge1xuICAgICAgICB2YXIgaWR4LCBpZHhzLCBzdHlsZXNoZWV0LCBfaSwgX2osIF9rLCBfbGVuLCBfbGVuMSwgX2xlbjIsIF9yZWY7XG5cbiAgICAgICAgaWYoIXNlbGVjdG9yUmVnRXgpIHJldHVybjtcblxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBfcmVmID0gZG9jdW1lbnQuc3R5bGVTaGVldHM7XG4gICAgICAgICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQgPSBfcmVmW19pXTtcbiAgICAgICAgICAgICAgICBpZHhzID0gW107XG4gICAgICAgICAgICAgICAgc3R5bGVzaGVldC5jc3NSdWxlcyA9IHN0eWxlc2hlZXQuY3NzUnVsZXM7XG4gICAgICAgICAgICAgICAgZm9yIChpZHggPSBfaiA9IDAsIF9sZW4xID0gc3R5bGVzaGVldC5jc3NSdWxlcy5sZW5ndGg7IF9qIDwgX2xlbjE7IGlkeCA9ICsrX2opIHtcbiAgICAgICAgICAgICAgICAgIGlmIChzdHlsZXNoZWV0LmNzc1J1bGVzW2lkeF0udHlwZSA9PT0gQ1NTUnVsZS5TVFlMRV9SVUxFICYmIHNlbGVjdG9yUmVnRXgudGVzdChzdHlsZXNoZWV0LmNzc1J1bGVzW2lkeF0uc2VsZWN0b3JUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBpZHhzLnVuc2hpZnQoaWR4KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChfayA9IDAsIF9sZW4yID0gaWR4cy5sZW5ndGg7IF9rIDwgX2xlbjI7IF9rKyspIHtcbiAgICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQuZGVsZXRlUnVsZShpZHhzW19rXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChfZXJyb3IpIHt9XG4gICAgICAgIH0sIDApO1xuICAgIH07XG5cbiAgICBVSS5VdGlscy5pc0luVmlldyA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcblxuICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuXG4gICAgICAgIGlmICghJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3aW5kb3dfbGVmdCA9IFVJLiR3aW4uc2Nyb2xsTGVmdCgpLCB3aW5kb3dfdG9wID0gVUkuJHdpbi5zY3JvbGxUb3AoKSwgb2Zmc2V0ID0gJGVsZW1lbnQub2Zmc2V0KCksIGxlZnQgPSBvZmZzZXQubGVmdCwgdG9wID0gb2Zmc2V0LnRvcDtcblxuICAgICAgICBvcHRpb25zID0gJC5leHRlbmQoe3RvcG9mZnNldDowLCBsZWZ0b2Zmc2V0OjB9LCBvcHRpb25zKTtcblxuICAgICAgICBpZiAodG9wICsgJGVsZW1lbnQuaGVpZ2h0KCkgPj0gd2luZG93X3RvcCAmJiB0b3AgLSBvcHRpb25zLnRvcG9mZnNldCA8PSB3aW5kb3dfdG9wICsgVUkuJHdpbi5oZWlnaHQoKSAmJlxuICAgICAgICAgICAgbGVmdCArICRlbGVtZW50LndpZHRoKCkgPj0gd2luZG93X2xlZnQgJiYgbGVmdCAtIG9wdGlvbnMubGVmdG9mZnNldCA8PSB3aW5kb3dfbGVmdCArIFVJLiR3aW4ud2lkdGgoKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBVSS5VdGlscy5jaGVja0Rpc3BsYXkgPSBmdW5jdGlvbihjb250ZXh0LCBpbml0YW5pbWF0aW9uKSB7XG5cbiAgICAgICAgdmFyIGVsZW1lbnRzID0gVUkuJCgnW2RhdGEtdWstbWFyZ2luXSwgW2RhdGEtdWstZ3JpZC1tYXRjaF0sIFtkYXRhLXVrLWdyaWQtbWFyZ2luXSwgW2RhdGEtdWstY2hlY2stZGlzcGxheV0nLCBjb250ZXh0IHx8IGRvY3VtZW50KSwgYW5pbWF0ZWQ7XG5cbiAgICAgICAgaWYgKGNvbnRleHQgJiYgIWVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgZWxlbWVudHMgPSAkKGNvbnRleHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudHMudHJpZ2dlcignZGlzcGxheS51ay5jaGVjaycpO1xuXG4gICAgICAgIC8vIGZpeCBmaXJlZm94IC8gSUUgYW5pbWF0aW9uc1xuICAgICAgICBpZiAoaW5pdGFuaW1hdGlvbikge1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mKGluaXRhbmltYXRpb24pIT0nc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGluaXRhbmltYXRpb24gPSAnW2NsYXNzKj1cInVrLWFuaW1hdGlvbi1cIl0nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbGVtZW50cy5maW5kKGluaXRhbmltYXRpb24pLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIHZhciBlbGUgID0gVUkuJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgY2xzICA9IGVsZS5hdHRyKCdjbGFzcycpLFxuICAgICAgICAgICAgICAgICAgICBhbmltID0gY2xzLm1hdGNoKC91ay1hbmltYXRpb24tKC4rKS8pO1xuXG4gICAgICAgICAgICAgICAgZWxlLnJlbW92ZUNsYXNzKGFuaW1bMF0pLndpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICBlbGUuYWRkQ2xhc3MoYW5pbVswXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICB9O1xuXG4gICAgVUkuVXRpbHMub3B0aW9ucyA9IGZ1bmN0aW9uKHN0cmluZykge1xuXG4gICAgICAgIGlmICgkLnR5cGUoc3RyaW5nKSE9J3N0cmluZycpIHJldHVybiBzdHJpbmc7XG5cbiAgICAgICAgaWYgKHN0cmluZy5pbmRleE9mKCc6JykgIT0gLTEgJiYgc3RyaW5nLnRyaW0oKS5zdWJzdHIoLTEpICE9ICd9Jykge1xuICAgICAgICAgICAgc3RyaW5nID0gJ3snK3N0cmluZysnfSc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3RhcnQgPSAoc3RyaW5nID8gc3RyaW5nLmluZGV4T2YoXCJ7XCIpIDogLTEpLCBvcHRpb25zID0ge307XG5cbiAgICAgICAgaWYgKHN0YXJ0ICE9IC0xKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBVSS5VdGlscy5zdHIyanNvbihzdHJpbmcuc3Vic3RyKHN0YXJ0KSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9wdGlvbnM7XG4gICAgfTtcblxuICAgIFVJLlV0aWxzLmFuaW1hdGUgPSBmdW5jdGlvbihlbGVtZW50LCBjbHMpIHtcblxuICAgICAgICB2YXIgZCA9ICQuRGVmZXJyZWQoKTtcblxuICAgICAgICBlbGVtZW50ID0gVUkuJChlbGVtZW50KTtcblxuICAgICAgICBlbGVtZW50LmNzcygnZGlzcGxheScsICdub25lJykuYWRkQ2xhc3MoY2xzKS5vbmUoVUkuc3VwcG9ydC5hbmltYXRpb24uZW5kLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoY2xzKTtcbiAgICAgICAgICAgIGQucmVzb2x2ZSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBlbGVtZW50LmNzcygnZGlzcGxheScsICcnKTtcblxuICAgICAgICByZXR1cm4gZC5wcm9taXNlKCk7XG4gICAgfTtcblxuICAgIFVJLlV0aWxzLnVpZCA9IGZ1bmN0aW9uKHByZWZpeCkge1xuICAgICAgICByZXR1cm4gKHByZWZpeCB8fCAnaWQnKSArIChuZXcgRGF0ZSgpLmdldFRpbWUoKSkrXCJSQU5EXCIrKE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMTAwMDAwKSk7XG4gICAgfTtcblxuICAgIFVJLlV0aWxzLnRlbXBsYXRlID0gZnVuY3Rpb24oc3RyLCBkYXRhKSB7XG5cbiAgICAgICAgdmFyIHRva2VucyA9IHN0ci5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJykucmVwbGFjZSgvXFx7XFx7XFx7XFxzKiguKz8pXFxzKlxcfVxcfVxcfS9nLCBcInt7ISQxfX1cIikuc3BsaXQoLyhcXHtcXHtcXHMqKC4rPylcXHMqXFx9XFx9KS9nKSxcbiAgICAgICAgICAgIGk9MCwgdG9jLCBjbWQsIHByb3AsIHZhbCwgZm4sIG91dHB1dCA9IFtdLCBvcGVuYmxvY2tzID0gMDtcblxuICAgICAgICB3aGlsZShpIDwgdG9rZW5zLmxlbmd0aCkge1xuXG4gICAgICAgICAgICB0b2MgPSB0b2tlbnNbaV07XG5cbiAgICAgICAgICAgIGlmKHRvYy5tYXRjaCgvXFx7XFx7XFxzKiguKz8pXFxzKlxcfVxcfS8pKSB7XG4gICAgICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICAgICAgICAgIHRvYyAgPSB0b2tlbnNbaV07XG4gICAgICAgICAgICAgICAgY21kICA9IHRvY1swXTtcbiAgICAgICAgICAgICAgICBwcm9wID0gdG9jLnN1YnN0cmluZyh0b2MubWF0Y2goL14oXFxefFxcI3xcXCF8XFx+fFxcOikvKSA/IDE6MCk7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2goY21kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ34nOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0LnB1c2goJ2Zvcih2YXIgJGk9MDskaTwnK3Byb3ArJy5sZW5ndGg7JGkrKykgeyB2YXIgJGl0ZW0gPSAnK3Byb3ArJ1skaV07Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuYmxvY2tzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnOic6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCgnZm9yKHZhciAka2V5IGluICcrcHJvcCsnKSB7IHZhciAkdmFsID0gJytwcm9wKydbJGtleV07Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuYmxvY2tzKys7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnIyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCgnaWYoJytwcm9wKycpIHsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5ibG9ja3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdeJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKCdpZighJytwcm9wKycpIHsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5ibG9ja3MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICcvJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKCd9Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuYmxvY2tzLS07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnISc6XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaCgnX19yZXQucHVzaCgnK3Byb3ArJyk7Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKCdfX3JldC5wdXNoKGVzY2FwZSgnK3Byb3ArJykpOycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChcIl9fcmV0LnB1c2goJ1wiK3RvYy5yZXBsYWNlKC9cXCcvZywgXCJcXFxcJ1wiKStcIicpO1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkgPSBpICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZuICA9IG5ldyBGdW5jdGlvbignJGRhdGEnLCBbXG4gICAgICAgICAgICAndmFyIF9fcmV0ID0gW107JyxcbiAgICAgICAgICAgICd0cnkgeycsXG4gICAgICAgICAgICAnd2l0aCgkZGF0YSl7JywgKCFvcGVuYmxvY2tzID8gb3V0cHV0LmpvaW4oJycpIDogJ19fcmV0ID0gW1wiTm90IGFsbCBibG9ja3MgYXJlIGNsb3NlZCBjb3JyZWN0bHkuXCJdJyksICd9OycsXG4gICAgICAgICAgICAnfWNhdGNoKGUpe19fcmV0ID0gW2UubWVzc2FnZV07fScsXG4gICAgICAgICAgICAncmV0dXJuIF9fcmV0LmpvaW4oXCJcIikucmVwbGFjZSgvXFxcXG5cXFxcbi9nLCBcIlxcXFxuXCIpOycsXG4gICAgICAgICAgICBcImZ1bmN0aW9uIGVzY2FwZShodG1sKSB7IHJldHVybiBTdHJpbmcoaHRtbCkucmVwbGFjZSgvJi9nLCAnJmFtcDsnKS5yZXBsYWNlKC9cXFwiL2csICcmcXVvdDsnKS5yZXBsYWNlKC88L2csICcmbHQ7JykucmVwbGFjZSgvPi9nLCAnJmd0OycpO31cIlxuICAgICAgICBdLmpvaW4oXCJcXG5cIikpO1xuXG4gICAgICAgIHJldHVybiBkYXRhID8gZm4oZGF0YSkgOiBmbjtcbiAgICB9O1xuXG4gICAgVUkuVXRpbHMuZm9jdXMgPSBmdW5jdGlvbihlbGVtZW50LCBleHRyYSkge1xuXG4gICAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpO1xuXG4gICAgICAgIGlmICghZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGF1dG9mb2N1cyA9IGVsZW1lbnQuZmluZCgnW2F1dG9mb2N1c106Zmlyc3QnKSwgdGFiaWR4O1xuXG4gICAgICAgIGlmIChhdXRvZm9jdXMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gYXV0b2ZvY3VzLmZvY3VzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBhdXRvZm9jdXMgPSBlbGVtZW50LmZpbmQoJzppbnB1dCcrKGV4dHJhICYmICgnLCcrZXh0cmEpIHx8ICcnKSkuZmlyc3QoKTtcblxuICAgICAgICBpZiAoYXV0b2ZvY3VzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGF1dG9mb2N1cy5mb2N1cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlbGVtZW50LmF0dHIoJ3RhYmluZGV4JykpIHtcbiAgICAgICAgICAgIHRhYmlkeCA9IDEwMDA7XG4gICAgICAgICAgICBlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgdGFiaWR4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcblxuICAgICAgICBpZiAodGFiaWR4KSB7XG4gICAgICAgICAgICBlbGVtZW50LmF0dHIoJ3RhYmluZGV4JywgJycpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgVUkuVXRpbHMuZXZlbnRzICAgICAgID0ge307XG4gICAgVUkuVXRpbHMuZXZlbnRzLmNsaWNrID0gVUkuc3VwcG9ydC50b3VjaCA/ICd0YXAnIDogJ2NsaWNrJztcblxuICAgIC8vIGRlcHJlY2F0ZWRcblxuICAgIFVJLmZuID0gZnVuY3Rpb24oY29tbWFuZCwgb3B0aW9ucykge1xuXG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLCBjbWQgPSBjb21tYW5kLm1hdGNoKC9eKFthLXpcXC1dKykoPzpcXC4oW2Etel0rKSk/L2kpLCBjb21wb25lbnQgPSBjbWRbMV0sIG1ldGhvZCA9IGNtZFsyXTtcblxuICAgICAgICBpZiAoIVVJW2NvbXBvbmVudF0pIHtcbiAgICAgICAgICAgICQuZXJyb3IoJ1VJa2l0IGNvbXBvbmVudCBbJyArIGNvbXBvbmVudCArICddIGRvZXMgbm90IGV4aXN0LicpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKSwgZGF0YSA9ICR0aGlzLmRhdGEoY29tcG9uZW50KTtcbiAgICAgICAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YShjb21wb25lbnQsIChkYXRhID0gVUlbY29tcG9uZW50XSh0aGlzLCBtZXRob2QgPyB1bmRlZmluZWQgOiBvcHRpb25zKSkpO1xuICAgICAgICAgICAgaWYgKG1ldGhvZCkgZGF0YVttZXRob2RdLmFwcGx5KGRhdGEsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MsIDEpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICQuVUlraXQgICAgICAgICAgPSBVSTtcbiAgICAkLmZuLnVrICAgICAgICAgID0gVUkuZm47XG5cbiAgICBVSS5sYW5nZGlyZWN0aW9uID0gVUkuJGh0bWwuYXR0cihcImRpclwiKSA9PSBcInJ0bFwiID8gXCJyaWdodFwiIDogXCJsZWZ0XCI7XG5cbiAgICBVSS5jb21wb25lbnRzICAgID0ge307XG5cbiAgICBVSS5jb21wb25lbnQgPSBmdW5jdGlvbihuYW1lLCBkZWYsIG92ZXJyaWRlKSB7XG5cbiAgICAgICAgaWYgKFVJLmNvbXBvbmVudHNbbmFtZV0gJiYgIW92ZXJyaWRlKSB7XG4gICAgICAgICAgICByZXR1cm4gVUkuY29tcG9uZW50c1tuYW1lXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcblxuICAgICAgICAgICAgdmFyICR0aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5VSWtpdCAgID0gVUk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50ID8gVUkuJChlbGVtZW50KSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCh0cnVlLCB7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbnMgPSB7fTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kYXRhKG5hbWUsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcblxuICAgICAgICAgICAgKHRoaXMub3B0aW9ucy5wbHVnaW5zLmxlbmd0aCA/IHRoaXMub3B0aW9ucy5wbHVnaW5zIDogT2JqZWN0LmtleXMoZm4ucGx1Z2lucykpLmZvckVhY2goZnVuY3Rpb24ocGx1Z2luKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoZm4ucGx1Z2luc1twbHVnaW5dLmluaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4ucGx1Z2luc1twbHVnaW5dLmluaXQoJHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAkdGhpcy5wbHVnaW5zW3BsdWdpbl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignaW5pdC51ay5jb21wb25lbnQnLCBbbmFtZSwgdGhpc10pO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcblxuICAgICAgICBmbi5wbHVnaW5zID0ge307XG5cbiAgICAgICAgJC5leHRlbmQodHJ1ZSwgZm4ucHJvdG90eXBlLCB7XG5cbiAgICAgICAgICAgIGRlZmF1bHRzIDoge3BsdWdpbnM6IFtdfSxcblxuICAgICAgICAgICAgYm9vdDogZnVuY3Rpb24oKXt9LFxuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKXt9LFxuXG4gICAgICAgICAgICBvbjogZnVuY3Rpb24oYTEsYTIsYTMpe1xuICAgICAgICAgICAgICAgIHJldHVybiBVSS4kKHRoaXMuZWxlbWVudCB8fCB0aGlzKS5vbihhMSxhMixhMyk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBvbmU6IGZ1bmN0aW9uKGExLGEyLGEzKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gVUkuJCh0aGlzLmVsZW1lbnQgfHwgdGhpcykub25lKGExLGEyLGEzKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG9mZjogZnVuY3Rpb24oZXZ0KXtcbiAgICAgICAgICAgICAgICByZXR1cm4gVUkuJCh0aGlzLmVsZW1lbnQgfHwgdGhpcykub2ZmKGV2dCk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB0cmlnZ2VyOiBmdW5jdGlvbihldnQsIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBVSS4kKHRoaXMuZWxlbWVudCB8fCB0aGlzKS50cmlnZ2VyKGV2dCwgcGFyYW1zKTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFVJLiQodGhpcy5lbGVtZW50ID8gdGhpcy5lbGVtZW50OiBbXSkuZmluZChzZWxlY3Rvcik7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBwcm94eTogZnVuY3Rpb24ob2JqLCBtZXRob2RzKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgJHRoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgbWV0aG9kcy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghJHRoaXNbbWV0aG9kXSkgJHRoaXNbbWV0aG9kXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gb2JqW21ldGhvZF0uYXBwbHkob2JqLCBhcmd1bWVudHMpOyB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgbWl4aW46IGZ1bmN0aW9uKG9iaiwgbWV0aG9kcykge1xuXG4gICAgICAgICAgICAgICAgdmFyICR0aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIG1ldGhvZHMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoISR0aGlzW21ldGhvZF0pICR0aGlzW21ldGhvZF0gPSBvYmpbbWV0aG9kXS5iaW5kKCR0aGlzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG9wdGlvbjogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbYXJndW1lbnRzWzBdXSB8fCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zW2FyZ3VtZW50c1swXV0gPSBhcmd1bWVudHNbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH0sIGRlZik7XG5cbiAgICAgICAgdGhpcy5jb21wb25lbnRzW25hbWVdID0gZm47XG5cbiAgICAgICAgdGhpc1tuYW1lXSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgZWxlbWVudCwgb3B0aW9ucztcblxuICAgICAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcblxuICAgICAgICAgICAgICAgIHN3aXRjaChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdzdHJpbmcnIHx8IGFyZ3VtZW50c1swXS5ub2RlVHlwZSB8fCBhcmd1bWVudHNbMF0gaW5zdGFuY2VvZiBqUXVlcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gJChhcmd1bWVudHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0gYXJndW1lbnRzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gJChhcmd1bWVudHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5kYXRhKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZGF0YShuYW1lKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChuZXcgVUkuY29tcG9uZW50c1tuYW1lXShlbGVtZW50LCBvcHRpb25zKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKFVJLmRvbXJlYWR5KSB7XG4gICAgICAgICAgICBVSS5jb21wb25lbnQuYm9vdChuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9O1xuXG4gICAgVUkucGx1Z2luID0gZnVuY3Rpb24oY29tcG9uZW50LCBuYW1lLCBkZWYpIHtcbiAgICAgICAgdGhpcy5jb21wb25lbnRzW2NvbXBvbmVudF0ucGx1Z2luc1tuYW1lXSA9IGRlZjtcbiAgICB9O1xuXG4gICAgVUkuY29tcG9uZW50LmJvb3QgPSBmdW5jdGlvbihuYW1lKSB7XG5cbiAgICAgICAgaWYgKFVJLmNvbXBvbmVudHNbbmFtZV0ucHJvdG90eXBlICYmIFVJLmNvbXBvbmVudHNbbmFtZV0ucHJvdG90eXBlLmJvb3QgJiYgIVVJLmNvbXBvbmVudHNbbmFtZV0uYm9vdGVkKSB7XG4gICAgICAgICAgICBVSS5jb21wb25lbnRzW25hbWVdLnByb3RvdHlwZS5ib290LmFwcGx5KFVJLCBbXSk7XG4gICAgICAgICAgICBVSS5jb21wb25lbnRzW25hbWVdLmJvb3RlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVUkuY29tcG9uZW50LmJvb3RDb21wb25lbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgZm9yICh2YXIgY29tcG9uZW50IGluIFVJLmNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgIFVJLmNvbXBvbmVudC5ib290KGNvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG5cbiAgICAvLyBET00gbXV0YXRpb24gc2F2ZSByZWFkeSBoZWxwZXIgZnVuY3Rpb25cblxuICAgIFVJLmRvbU9ic2VydmVycyA9IFtdO1xuICAgIFVJLmRvbXJlYWR5ICAgICA9IGZhbHNlO1xuXG4gICAgVUkucmVhZHkgPSBmdW5jdGlvbihmbikge1xuXG4gICAgICAgIFVJLmRvbU9ic2VydmVycy5wdXNoKGZuKTtcblxuICAgICAgICBpZiAoVUkuZG9tcmVhZHkpIHtcbiAgICAgICAgICAgIGZuKGRvY3VtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBVSS5vbiA9IGZ1bmN0aW9uKGExLGEyLGEzKXtcblxuICAgICAgICBpZiAoYTEgJiYgYTEuaW5kZXhPZigncmVhZHkudWsuZG9tJykgPiAtMSAmJiBVSS5kb21yZWFkeSkge1xuICAgICAgICAgICAgYTIuYXBwbHkoVUkuJGRvYyk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gVUkuJGRvYy5vbihhMSxhMixhMyk7XG4gICAgfTtcblxuICAgIFVJLm9uZSA9IGZ1bmN0aW9uKGExLGEyLGEzKXtcblxuICAgICAgICBpZiAoYTEgJiYgYTEuaW5kZXhPZigncmVhZHkudWsuZG9tJykgPiAtMSAmJiBVSS5kb21yZWFkeSkge1xuICAgICAgICAgICAgYTIuYXBwbHkoVUkuJGRvYyk7XG4gICAgICAgICAgICByZXR1cm4gVUkuJGRvYztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBVSS4kZG9jLm9uZShhMSxhMixhMyk7XG4gICAgfTtcblxuICAgIFVJLnRyaWdnZXIgPSBmdW5jdGlvbihldnQsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gVUkuJGRvYy50cmlnZ2VyKGV2dCwgcGFyYW1zKTtcbiAgICB9O1xuXG4gICAgVUkuZG9tT2JzZXJ2ZSA9IGZ1bmN0aW9uKHNlbGVjdG9yLCBmbikge1xuXG4gICAgICAgIGlmKCFVSS5zdXBwb3J0Lm11dGF0aW9ub2JzZXJ2ZXIpIHJldHVybjtcblxuICAgICAgICBmbiA9IGZuIHx8IGZ1bmN0aW9uKCkge307XG5cbiAgICAgICAgVUkuJChzZWxlY3RvcikuZWFjaChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgID0gdGhpcyxcbiAgICAgICAgICAgICAgICAkZWxlbWVudCA9IFVJLiQoZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmICgkZWxlbWVudC5kYXRhKCdvYnNlcnZlcicpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuXG4gICAgICAgICAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IFVJLnN1cHBvcnQubXV0YXRpb25vYnNlcnZlcihVSS5VdGlscy5kZWJvdW5jZShmdW5jdGlvbihtdXRhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4uYXBwbHkoZWxlbWVudCwgWyRlbGVtZW50XSk7XG4gICAgICAgICAgICAgICAgICAgICRlbGVtZW50LnRyaWdnZXIoJ2NoYW5nZWQudWsuZG9tJyk7XG4gICAgICAgICAgICAgICAgfSwgNTApLCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBwYXNzIGluIHRoZSB0YXJnZXQgbm9kZSwgYXMgd2VsbCBhcyB0aGUgb2JzZXJ2ZXIgb3B0aW9uc1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCwgeyBjaGlsZExpc3Q6IHRydWUsIHN1YnRyZWU6IHRydWUgfSk7XG5cbiAgICAgICAgICAgICAgICAkZWxlbWVudC5kYXRhKCdvYnNlcnZlcicsIG9ic2VydmVyKTtcblxuICAgICAgICAgICAgfSBjYXRjaChlKSB7fVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgVUkuaW5pdCA9IGZ1bmN0aW9uKHJvb3QpIHtcblxuICAgICAgICByb290ID0gcm9vdCB8fCBkb2N1bWVudDtcblxuICAgICAgICBVSS5kb21PYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbihmbil7XG4gICAgICAgICAgICBmbihyb290KTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIFVJLm9uKCdkb21yZWFkeS51ay5kb20nLCBmdW5jdGlvbigpe1xuXG4gICAgICAgIFVJLmluaXQoKTtcblxuICAgICAgICBpZiAoVUkuZG9tcmVhZHkpIFVJLlV0aWxzLmNoZWNrRGlzcGxheSgpO1xuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgdmFyIGRvbVJlYWR5ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIFVJLiRib2R5ID0gVUkuJCgnYm9keScpO1xuXG4gICAgICAgICAgICBVSS50cmlnZ2VyKCdiZWZvcmVyZWFkeS51ay5kb20nKTtcblxuICAgICAgICAgICAgVUkuY29tcG9uZW50LmJvb3RDb21wb25lbnRzKCk7XG5cbiAgICAgICAgICAgIC8vIGN1c3RvbSBzY3JvbGwgb2JzZXJ2ZXJcbiAgICAgICAgICAgIHZhciByYWZUb2tlbiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIHZhciBtZW1vcnkgPSB7ZGlyOiB7eDowLCB5OjB9LCB4OiB3aW5kb3cucGFnZVhPZmZzZXQsIHk6d2luZG93LnBhZ2VZT2Zmc2V0fTtcblxuICAgICAgICAgICAgICAgIHZhciBmbiA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlYWRpbmcgdGhpcyAod2luZG93LnBhZ2VbWHxZXU9mZnNldCkgY2F1c2VzIGEgZnVsbCBwYWdlIHJlY2FsYyBvZiB0aGUgbGF5b3V0IGluIENocm9tZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2Ugb25seSB3YW50IHRvIGRvIHRoaXMgb25jZVxuICAgICAgICAgICAgICAgICAgICB2YXIgd3B4byA9IHdpbmRvdy5wYWdlWE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdweW8gPSB3aW5kb3cucGFnZVlPZmZzZXQ7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRGlkIHRoZSBzY3JvbGwgcG9zaXRpb24gY2hhbmdlIHNpbmNlIHRoZSBsYXN0IHRpbWUgd2Ugd2VyZSBoZXJlP1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVtb3J5LnggIT0gd3B4byB8fCBtZW1vcnkueSAhPSB3cHlvKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgZGlyZWN0aW9uIG9mIHRoZSBzY3JvbGwgYW5kIHN0b3JlIHRoZSBuZXcgcG9zaXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3cHhvICE9IG1lbW9yeS54KSB7bWVtb3J5LmRpci54ID0gd3B4byA+IG1lbW9yeS54ID8gMTotMTsgfSBlbHNlIHsgbWVtb3J5LmRpci54ID0gMDsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdweW8gIT0gbWVtb3J5LnkpIHttZW1vcnkuZGlyLnkgPSB3cHlvID4gbWVtb3J5LnkgPyAxOi0xOyB9IGVsc2UgeyBtZW1vcnkuZGlyLnkgPSAwOyB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbW9yeS54ID0gd3B4bztcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbW9yeS55ID0gd3B5bztcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUgc2Nyb2xsIGV2ZW50LCB0aGlzIGNvdWxkIHByb2JhYmx5IGJlIHNlbnQgdXNpbmcgbWVtb3J5LmNsb25lKCkgYnV0IHRoaXMgaXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1vcmUgZXhwbGljaXQgYW5kIGVhc2llciB0byBzZWUgZXhhY3RseSB3aGF0IGlzIGJlaW5nIHNlbnQgaW4gdGhlIGV2ZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgVUkuJGRvYy50cmlnZ2VyKCdzY3JvbGxpbmcudWsuZG9jdW1lbnQnLCBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcjoge3g6IG1lbW9yeS5kaXIueCwgeTogbWVtb3J5LmRpci55fSwgeDogd3B4bywgeTogd3B5b1xuICAgICAgICAgICAgICAgICAgICAgICAgfV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUocmFmVG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICByYWZUb2tlbiA9IHJlcXVlc3RBbmltYXRpb25GcmFtZShmbik7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGlmIChVSS5zdXBwb3J0LnRvdWNoKSB7XG4gICAgICAgICAgICAgICAgICAgIFVJLiRodG1sLm9uKCd0b3VjaG1vdmUgdG91Y2hlbmQgTVNQb2ludGVyTW92ZSBNU1BvaW50ZXJVcCBwb2ludGVybW92ZSBwb2ludGVydXAnLCBmbik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG1lbW9yeS54IHx8IG1lbW9yeS55KSBmbigpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZuO1xuXG4gICAgICAgICAgICB9KSgpKTtcblxuICAgICAgICAgICAgLy8gcnVuIGNvbXBvbmVudCBpbml0IGZ1bmN0aW9ucyBvbiBkb21cbiAgICAgICAgICAgIFVJLnRyaWdnZXIoJ2RvbXJlYWR5LnVrLmRvbScpO1xuXG4gICAgICAgICAgICBpZiAoVUkuc3VwcG9ydC50b3VjaCkge1xuXG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGNzcyBob3ZlciBydWxlcyBmb3IgdG91Y2ggZGV2aWNlc1xuICAgICAgICAgICAgICAgIC8vIFVJLlV0aWxzLnJlbW92ZUNzc1J1bGVzKC9cXC51ay0oPyFuYXZiYXIpLio6aG92ZXIvKTtcblxuICAgICAgICAgICAgICAgIC8vIHZpZXdwb3J0IHVuaXQgZml4IGZvciB1ay1oZWlnaHQtdmlld3BvcnQgLSBzaG91bGQgYmUgZml4ZWQgaW4gaU9TIDhcbiAgICAgICAgICAgICAgICBpZiAobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvKGlQYWR8aVBob25lfGlQb2QpL2cpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgVUkuJHdpbi5vbignbG9hZCBvcmllbnRhdGlvbmNoYW5nZSByZXNpemUnLCBVSS5VdGlscy5kZWJvdW5jZSgoZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnVrLWhlaWdodC12aWV3cG9ydCcpLmNzcygnaGVpZ2h0Jywgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4oKTtcblxuICAgICAgICAgICAgICAgICAgICB9KSgpLCAxMDApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFVJLnRyaWdnZXIoJ2FmdGVycmVhZHkudWsuZG9tJyk7XG5cbiAgICAgICAgICAgIC8vIG1hcmsgdGhhdCBkb21yZWFkeSBpcyBsZWZ0IGJlaGluZFxuICAgICAgICAgICAgVUkuZG9tcmVhZHkgPSB0cnVlO1xuXG4gICAgICAgICAgICAvLyBhdXRvIGluaXQganMgY29tcG9uZW50c1xuICAgICAgICAgICAgaWYgKFVJLnN1cHBvcnQubXV0YXRpb25vYnNlcnZlcikge1xuXG4gICAgICAgICAgICAgICAgdmFyIGluaXRGbiA9IFVJLlV0aWxzLmRlYm91bmNlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpeyBVSS5pbml0KGRvY3VtZW50LmJvZHkpO30pO1xuICAgICAgICAgICAgICAgIH0sIDEwKTtcblxuICAgICAgICAgICAgICAgIChuZXcgVUkuc3VwcG9ydC5tdXRhdGlvbm9ic2VydmVyKGZ1bmN0aW9uKG11dGF0aW9ucykge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbml0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgbXV0YXRpb25zLmV2ZXJ5KGZ1bmN0aW9uKG11dGF0aW9uKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgIT0gJ2NoaWxkTGlzdCcpIHJldHVybiB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbm9kZTsgaSA8IG11dGF0aW9uLmFkZGVkTm9kZXMubGVuZ3RoOyArK2kpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBtdXRhdGlvbi5hZGRlZE5vZGVzW2ldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUub3V0ZXJIVE1MICYmIG5vZGUub3V0ZXJIVE1MLmluZGV4T2YoJ2RhdGEtdWstJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoaW5pdCA9IHRydWUpICYmIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5pdCkgaW5pdEZuKCk7XG5cbiAgICAgICAgICAgICAgICB9KSkub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT0gJ2NvbXBsZXRlJyB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09ICdpbnRlcmFjdGl2ZScpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZG9tUmVhZHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRvbVJlYWR5O1xuXG4gICAgfSgpKTtcblxuICAgIC8vIGFkZCB0b3VjaCBpZGVudGlmaWVyIGNsYXNzXG4gICAgVUkuJGh0bWwuYWRkQ2xhc3MoVUkuc3VwcG9ydC50b3VjaCA/ICd1ay10b3VjaCcgOiAndWstbm90b3VjaCcpO1xuXG4gICAgLy8gYWRkIHVrLWhvdmVyIGNsYXNzIG9uIHRhcCB0byBzdXBwb3J0IG92ZXJsYXlzIG9uIHRvdWNoIGRldmljZXNcbiAgICBpZiAoVUkuc3VwcG9ydC50b3VjaCkge1xuXG4gICAgICAgIHZhciBob3ZlcnNldCA9IGZhbHNlLFxuICAgICAgICAgICAgZXhjbHVkZSxcbiAgICAgICAgICAgIGhvdmVyY2xzID0gJ3VrLWhvdmVyJyxcbiAgICAgICAgICAgIHNlbGVjdG9yID0gJy51ay1vdmVybGF5LCAudWstb3ZlcmxheS1ob3ZlciwgLnVrLW92ZXJsYXktdG9nZ2xlLCAudWstYW5pbWF0aW9uLWhvdmVyLCAudWstaGFzLWhvdmVyJztcblxuICAgICAgICBVSS4kaHRtbC5vbignbW91c2VlbnRlciB0b3VjaHN0YXJ0IE1TUG9pbnRlckRvd24gcG9pbnRlcmRvd24nLCBzZWxlY3RvciwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIGlmIChob3ZlcnNldCkgJCgnLicraG92ZXJjbHMpLnJlbW92ZUNsYXNzKGhvdmVyY2xzKTtcblxuICAgICAgICAgICAgaG92ZXJzZXQgPSAkKHRoaXMpLmFkZENsYXNzKGhvdmVyY2xzKTtcblxuICAgICAgICB9KS5vbignbW91c2VsZWF2ZSB0b3VjaGVuZCBNU1BvaW50ZXJVcCBwb2ludGVydXAnLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgICAgICAgIGV4Y2x1ZGUgPSAkKGUudGFyZ2V0KS5wYXJlbnRzKHNlbGVjdG9yKTtcblxuICAgICAgICAgICAgaWYgKGhvdmVyc2V0KSB7XG4gICAgICAgICAgICAgICAgaG92ZXJzZXQubm90KGV4Y2x1ZGUpLnJlbW92ZUNsYXNzKGhvdmVyY2xzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFVJO1xufSk7Il19
