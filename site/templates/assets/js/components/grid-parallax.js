!function(t){var n;window.UIkit2&&(n=t(UIkit2)),"function"==typeof define&&define.amd&&define("uikit-grid-parallax",["uikit"],function(){return n||t(UIkit2)})}(function(l){var i=[],t=function(){requestAnimationFrame(function(){for(var t=0;t<i.length;t++)i[t].process()})};function s(t){for(var n=t.children(),i=n.filter(":visible:first"),e=i[0].offsetTop+i.outerHeight(),o=0;o<n.length&&!(n[o].offsetTop>=e);o++);return o||1}l.component("gridparallax",{defaults:{target:!1,smooth:150,translate:150},boot:function(){l.$doc.on("scrolling.uk.document",t),l.$win.on("load resize orientationchange",l.Utils.debounce(function(){t()},50)),l.ready(function(t){l.$("[data-uk-grid-parallax]",t).each(function(){var t=l.$(this);t.data("gridparallax")||l.gridparallax(t,l.Utils.options(t.attr("data-uk-grid-parallax")))})})},init:function(){var t,n=this;this.initItems().process(),i.push(this),l.$win.on("load resize orientationchange",(t=function(){var t=s(n.element);n.element.css("margin-bottom",""),1<t&&n.element.css("margin-bottom",n.options.translate+parseInt(n.element.css("margin-bottom")))},l.$(function(){t()}),l.Utils.debounce(t,50)))},initItems:function(){var t=this.options.smooth;return this.items=(this.options.target?this.element.find(this.options.target):this.element.children()).each(function(){l.$(this).css({transition:"transform "+t+"ms linear",transform:""})}),this},process:function(){var t=function(t){var n,i,e,o=t.offset().top,r=t.outerHeight(),s=l.$win.scrollTop(),a=window.innerHeight;s+a<o?e=0:o+r<s?e=1:(o+r<a?e=(s<a?s:s-a)/(o+r):(n=s+a-o,i=Math.round(n/((a+r)/100)),e=i/100),o<a&&(e=e*s/(o+r-a)));return 1<e?1:e}(this.element),e=s(this.element),n=this.items,o=[e-1];if(1!=e&&t){for(;o.length<e&&o[o.length-1]-2;)o.push(o[o.length-1]-2);var r=t*this.options.translate;n.each(function(t,n,i){i=-1!=o.indexOf((t+1)%e)?r:r/8,l.$(this).css("transform","translate3d(0,"+i+"px, 0)")})}else n.css("transform","")}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvZ3JpZC1wYXJhbGxheC5qcyJdLCJuYW1lcyI6WyJhZGRvbiIsImNvbXBvbmVudCIsIndpbmRvdyIsIlVJa2l0MiIsImRlZmluZSIsImFtZCIsIlVJIiwicGFyYWxsYXhlcyIsImNoZWNrUGFyYWxsYXhlcyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImkiLCJsZW5ndGgiLCJwcm9jZXNzIiwiZ2V0Y29sdW1ucyIsImVsZW1lbnQiLCJjaGlsZHJlbiIsImZpcnN0IiwiZmlsdGVyIiwidG9wIiwib2Zmc2V0VG9wIiwib3V0ZXJIZWlnaHQiLCJjb2x1bW4iLCJkZWZhdWx0cyIsInRhcmdldCIsInNtb290aCIsInRyYW5zbGF0ZSIsImJvb3QiLCIkZG9jIiwib24iLCIkd2luIiwiVXRpbHMiLCJkZWJvdW5jZSIsInJlYWR5IiwiY29udGV4dCIsIiQiLCJlYWNoIiwicGFyYWxsYXgiLCJ0aGlzIiwiZGF0YSIsImdyaWRwYXJhbGxheCIsIm9wdGlvbnMiLCJhdHRyIiwiaW5pdCIsImZuIiwiJHRoaXMiLCJpbml0SXRlbXMiLCJwdXNoIiwiY29sdW1ucyIsImNzcyIsInBhcnNlSW50IiwiaXRlbXMiLCJmaW5kIiwidHJhbnNpdGlvbiIsInRyYW5zZm9ybSIsInBlcmNlbnQiLCJkaXN0YW5jZSIsInBlcmNlbnRhZ2UiLCJvZmZzZXQiLCJoZWlnaHQiLCJzY3JvbGx0b3AiLCJzY3JvbGxUb3AiLCJ3aCIsImlubmVySGVpZ2h0IiwiTWF0aCIsInJvdW5kIiwicGVyY2VudGFnZUluVmlld3BvcnQiLCJtb2RzIiwicGVyY2VudHRyYW5zbGF0ZSIsImlkeCIsImVsZSIsImluZGV4T2YiXSwibWFwcGluZ3MiOiJDQUNBLFNBQVVBLEdBRU4sSUFBSUMsRUFFQUMsT0FBT0MsU0FDUEYsRUFBWUQsRUFBTUcsU0FHRCxtQkFBVkMsUUFBd0JBLE9BQU9DLEtBQ3RDRCxPQUFPLHNCQUF1QixDQUFDLFNBQVUsV0FDckMsT0FBT0gsR0FBYUQsRUFBTUcsVUFWdEMs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QUtBLEtBQU1ZLEVBQUt2RCxPQUFTb0MsR0FDWG1CLEVBQUtBLEVBQUt2RCxPQUFPLEdBQUssR0FDNUJ1RCxFQUFLcEIsS0FBS29CLEVBQUtBLEVBQUt2RCxPQUFPLEdBQUssR0FHbkMsSUFBeUN3RCxFQUFtQmIsRUFBM0NqQixLQUFLRyxRQUFRZixVQUU5QnlCLEVBQU1mLEtBQUssU0FBU2lDLEVBQUtDLEVBQUs1QyxHQUMxQkEsR0FBZ0QsR0FBcEN5QyxFQUFLSSxTQUFTRixFQUFJLEdBQUtyQixHQUFpQm9CLEVBQW1CQSxFQUFtQixFQUMxRjdELEVBQUc0QixFQUFFRyxNQUFNVyxJQUFJLFlBQWEsaUJBQWlCLEVBQVksaUJBYnpERSxFQUFNRixJQUFJLFlBQWEiLCJmaWxlIjoiY29tcG9uZW50cy9ncmlkLXBhcmFsbGF4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohIFVJa2l0IDIuMjcuMiB8IGh0dHA6Ly93d3cuZ2V0dWlraXQuY29tIHwgKGMpIDIwMTQgWU9PdGhlbWUgfCBNSVQgTGljZW5zZSAqL1xuKGZ1bmN0aW9uKGFkZG9uKSB7XG5cbiAgICB2YXIgY29tcG9uZW50O1xuXG4gICAgaWYgKHdpbmRvdy5VSWtpdDIpIHtcbiAgICAgICAgY29tcG9uZW50ID0gYWRkb24oVUlraXQyKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKCd1aWtpdC1ncmlkLXBhcmFsbGF4JywgWyd1aWtpdCddLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudCB8fCBhZGRvbihVSWtpdDIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbn0pKGZ1bmN0aW9uKFVJKXtcblxuICAgIHZhciBwYXJhbGxheGVzICA9IFtdLCBjaGVja1BhcmFsbGF4ZXMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaT0wOyBpIDwgcGFyYWxsYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbGxheGVzW2ldLnByb2Nlc3MoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuXG4gICAgVUkuY29tcG9uZW50KCdncmlkcGFyYWxsYXgnLCB7XG5cbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAgIHRhcmdldCAgICA6IGZhbHNlLFxuICAgICAgICAgICAgc21vb3RoICAgIDogMTUwLFxuICAgICAgICAgICAgdHJhbnNsYXRlIDogMTUwXG4gICAgICAgIH0sXG5cbiAgICAgICAgYm9vdDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIC8vIGxpc3RlbiB0byBzY3JvbGwgYW5kIHJlc2l6ZVxuICAgICAgICAgICAgVUkuJGRvYy5vbignc2Nyb2xsaW5nLnVrLmRvY3VtZW50JywgY2hlY2tQYXJhbGxheGVzKTtcbiAgICAgICAgICAgIFVJLiR3aW4ub24oJ2xvYWQgcmVzaXplIG9yaWVudGF0aW9uY2hhbmdlJywgVUkuVXRpbHMuZGVib3VuY2UoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBjaGVja1BhcmFsbGF4ZXMoKTtcbiAgICAgICAgICAgIH0sIDUwKSk7XG5cbiAgICAgICAgICAgIC8vIGluaXQgY29kZVxuICAgICAgICAgICAgVUkucmVhZHkoZnVuY3Rpb24oY29udGV4dCkge1xuXG4gICAgICAgICAgICAgICAgVUkuJCgnW2RhdGEtdWstZ3JpZC1wYXJhbGxheF0nLCBjb250ZXh0KS5lYWNoKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbGxheCA9IFVJLiQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJhbGxheC5kYXRhKCdncmlkcGFyYWxsYXgnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgVUkuZ3JpZHBhcmFsbGF4KHBhcmFsbGF4LCBVSS5VdGlscy5vcHRpb25zKHBhcmFsbGF4LmF0dHIoJ2RhdGEtdWstZ3JpZC1wYXJhbGxheCcpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLmluaXRJdGVtcygpLnByb2Nlc3MoKTtcbiAgICAgICAgICAgIHBhcmFsbGF4ZXMucHVzaCh0aGlzKTtcblxuICAgICAgICAgICAgVUkuJHdpbi5vbignbG9hZCByZXNpemUgb3JpZW50YXRpb25jaGFuZ2UnLCAoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZm4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbnMgID0gZ2V0Y29sdW1ucygkdGhpcy5lbGVtZW50KTtcblxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5lbGVtZW50LmNzcygnbWFyZ2luLWJvdHRvbScsICcnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sdW1ucyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmVsZW1lbnQuY3NzKCdtYXJnaW4tYm90dG9tJywgJHRoaXMub3B0aW9ucy50cmFuc2xhdGUgKyBwYXJzZUludCgkdGhpcy5lbGVtZW50LmNzcygnbWFyZ2luLWJvdHRvbScpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgVUkuJChmdW5jdGlvbigpIHsgZm4oKTsgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gVUkuVXRpbHMuZGVib3VuY2UoZm4sIDUwKTtcbiAgICAgICAgICAgIH0pKCkpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGluaXRJdGVtczogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIHZhciBzbW9vdGggPSB0aGlzLm9wdGlvbnMuc21vb3RoO1xuXG4gICAgICAgICAgICB0aGlzLml0ZW1zID0gKHRoaXMub3B0aW9ucy50YXJnZXQgPyB0aGlzLmVsZW1lbnQuZmluZCh0aGlzLm9wdGlvbnMudGFyZ2V0KSA6IHRoaXMuZWxlbWVudC5jaGlsZHJlbigpKS5lYWNoKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgVUkuJCh0aGlzKS5jc3Moe1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiAndHJhbnNmb3JtICcrc21vb3RoKydtcyBsaW5lYXInLFxuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06ICcnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcHJvY2VzczogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIHZhciBwZXJjZW50ICA9IHBlcmNlbnRhZ2VJblZpZXdwb3J0KHRoaXMuZWxlbWVudCksXG4gICAgICAgICAgICAgICAgY29sdW1ucyAgPSBnZXRjb2x1bW5zKHRoaXMuZWxlbWVudCksXG4gICAgICAgICAgICAgICAgaXRlbXMgICAgPSB0aGlzLml0ZW1zLFxuICAgICAgICAgICAgICAgIG1vZHMgICAgID0gWyhjb2x1bW5zLTEpXTtcblxuICAgICAgICAgICAgaWYgKGNvbHVtbnMgPT0gMSB8fCAhcGVyY2VudCkge1xuICAgICAgICAgICAgICAgIGl0ZW1zLmNzcygndHJhbnNmb3JtJywgJycpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2hpbGUobW9kcy5sZW5ndGggPCBjb2x1bW5zKSB7XG4gICAgICAgICAgICAgICBpZiAoIShtb2RzW21vZHMubGVuZ3RoLTFdIC0gMikpIGJyZWFrO1xuICAgICAgICAgICAgICAgbW9kcy5wdXNoKG1vZHNbbW9kcy5sZW5ndGgtMV0gLSAyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRyYW5zbGF0ZSAgPSB0aGlzLm9wdGlvbnMudHJhbnNsYXRlLCBwZXJjZW50dHJhbnNsYXRlID0gcGVyY2VudCAqIHRyYW5zbGF0ZTtcblxuICAgICAgICAgICAgaXRlbXMuZWFjaChmdW5jdGlvbihpZHgsIGVsZSwgdHJhbnNsYXRlKXtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGUgPSBtb2RzLmluZGV4T2YoKGlkeCsxKSAlIGNvbHVtbnMpICE9IC0xID8gcGVyY2VudHRyYW5zbGF0ZSA6IHBlcmNlbnR0cmFuc2xhdGUgLyA4O1xuICAgICAgICAgICAgICAgIFVJLiQodGhpcykuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoMCwnKyh0cmFuc2xhdGUpKydweCwgMCknKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuXG4gICAgZnVuY3Rpb24gZ2V0Y29sdW1ucyhlbGVtZW50KSB7XG5cbiAgICAgICAgdmFyIGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbigpLFxuICAgICAgICAgICAgZmlyc3QgICAgPSBjaGlsZHJlbi5maWx0ZXIoJzp2aXNpYmxlOmZpcnN0JyksXG4gICAgICAgICAgICB0b3AgICAgICA9IGZpcnN0WzBdLm9mZnNldFRvcCArIGZpcnN0Lm91dGVySGVpZ2h0KCk7XG5cbiAgICAgICAgZm9yICh2YXIgY29sdW1uPTA7Y29sdW1uPGNoaWxkcmVuLmxlbmd0aDtjb2x1bW4rKykge1xuICAgICAgICAgICAgaWYgKGNoaWxkcmVuW2NvbHVtbl0ub2Zmc2V0VG9wID49IHRvcCkgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbHVtbiB8fCAxO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHBlcmNlbnRhZ2VJblZpZXdwb3J0KGVsZW1lbnQpIHtcblxuICAgICAgICB2YXIgdG9wICAgICAgID0gZWxlbWVudC5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICBoZWlnaHQgICAgPSBlbGVtZW50Lm91dGVySGVpZ2h0KCksXG4gICAgICAgICAgICBzY3JvbGx0b3AgPSBVSS4kd2luLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgd2ggICAgICAgID0gd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgICAgICAgZGlzdGFuY2UsIHBlcmNlbnRhZ2UsIHBlcmNlbnQ7XG5cbiAgICAgICAgaWYgKHRvcCA+IChzY3JvbGx0b3AgKyB3aCkpIHtcbiAgICAgICAgICAgIHBlcmNlbnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKCh0b3AgKyBoZWlnaHQpIDwgc2Nyb2xsdG9wKSB7XG4gICAgICAgICAgICBwZXJjZW50ID0gMTtcbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgaWYgKCh0b3AgKyBoZWlnaHQpIDwgd2gpIHtcbiAgICAgICAgICAgICAgICBwZXJjZW50ID0gKHNjcm9sbHRvcCA8IHdoID8gc2Nyb2xsdG9wIDogc2Nyb2xsdG9wIC0gd2gpIC8gKHRvcCtoZWlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIGRpc3RhbmNlICAgPSAoc2Nyb2xsdG9wICsgd2gpIC0gdG9wO1xuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKGRpc3RhbmNlIC8gKCh3aCArIGhlaWdodCkgLyAxMDApKTtcbiAgICAgICAgICAgICAgICBwZXJjZW50ICAgID0gcGVyY2VudGFnZS8xMDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0b3AgPCB3aCkge1xuICAgICAgICAgICAgICAgIHBlcmNlbnQgPSBwZXJjZW50ICogc2Nyb2xsdG9wIC8gKCh0b3AgKyBoZWlnaHQpIC0gd2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBlcmNlbnQgPiAxID8gMTpwZXJjZW50O1xuICAgIH1cbn0pOyJdfQ==
