$(document).ready(function(){$(".js-input").on("focus focusout",function(a){a.preventDefault(),$(a.target).parent().toggleClass("is_focused"),"focusout"==a.type&&$(a.target).val($.trim($(a.target).val()))}),$(".js-input").on("change keyup",function(a){a.preventDefault(),""===$.trim($(a.target).val())||$(a.target).hasClass("is_filled")?$(a.target).parent().removeClass("is_filled"):$(a.target).parent().addClass("is_filled"),$(this).parent().removeClass("error")}),$(".js-phone").on("focusout",function(a){a.preventDefault();var e=$(this).val().replace(/[^0-9]/gi,"");7==e.substr(0,1)&&(e="+7"+e.substr(1,e.length-1)),$(this).val(e)});var a=$("#svg1"),e=$("#svg2"),t=$(".header__content"),x=0,n=0;t.eq(n).toggleClass("active"),e.find("polygon").click(function(){t.eq(n).toggleClass("active"),n=$(this).index()-1,t.eq(n).toggleClass("active")}).mouseover(function(){x=$(this).index()-1,a.find("polygon").eq(x).toggleClass("active")}).mouseleave(function(){x=$(this).index()-1,a.find("polygon").eq(x).toggleClass("active")});var s=$("#svg_on_mappage");s.find("polygon").mouseover(function(){x=$(this).index()-1,s.find("polygon").eq(x).toggleClass("active")}).mouseleave(function(){x=$(this).index()-1,s.find("polygon").eq(x).toggleClass("active")}).click(function(){x=$(this).index()-1,window.location.replace(s.find("polygon").eq(x).attr("data-link"))}),$("#submit_form").click(function(a){a.preventDefault();var e=$("#callback_source").attr("data-source"),t=$("#name"),x=$("#phone"),n=$("#company"),s=$("#mail"),o=new RegExp(/\d{11}/),r=new RegExp(/.+/),l=new RegExp(/^(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){255,})(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){65,}@)(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22))(?:\.(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22)))*@(?:(?:(?!.*[^.]{64,})(?:(?:(?:xn--)?[a-z0-9]+(?:-[a-z0-9]+)*\.){1,126}){1,}(?:(?:[a-z][a-z0-9]*)|(?:(?:xn--)[a-z0-9]+))(?:-[a-z0-9]+)*)|(?:\[(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){7})|(?:(?!(?:.*[a-f0-9][:\]]){7,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?)))|(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){5}:)|(?:(?!(?:.*[a-f0-9]:){5,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3}:)?)))?(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))(?:\.(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))){3}))\]))$/),i=!1;if(r.test(t.val())||(t.parent().addClass("error"),i=!0),o.test(x.val())||(x.parent().addClass("error"),i=!0),l.test(s.val())||(s.parent().addClass("error"),i=!0),i)return!1;var f={name:t.val(),phone:x.val(),company:n.val(),email:s.val()};null!=e&&(f.from=e),t.val(""),x.val(""),n.val(""),s.val(""),$.ajax({url:"/teo/ajax-handler/",type:"POST",data:{data:f},success:function(a){UIkit.offcanvas.hide([force=!1]),UIkit.notify({message:"success"==a?"Ваше сообщение успешно отправлено":"Ошибка отправки сообщения",status:a,timeout:3e3,pos:"bottom-center"})},error:function(a){UIkit.notify({message:"Ошибка отправки сообщения",status:"warning",timeout:3e3,pos:"bottom-center"})}})}),$(".proposal_request").click(function(){$("#callback_source").attr("data-source",$(this).attr("data-source"))}),$("#submit_form2").click(function(a){a.preventDefault();var e=$("#name9"),t=$("#text9"),x=$("#mail9"),n=new RegExp(/.+/),s=new RegExp(/^(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){255,})(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){65,}@)(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22))(?:\.(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22)))*@(?:(?:(?!.*[^.]{64,})(?:(?:(?:xn--)?[a-z0-9]+(?:-[a-z0-9]+)*\.){1,126}){1,}(?:(?:[a-z][a-z0-9]*)|(?:(?:xn--)[a-z0-9]+))(?:-[a-z0-9]+)*)|(?:\[(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){7})|(?:(?!(?:.*[a-f0-9][:\]]){7,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?)))|(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){5}:)|(?:(?!(?:.*[a-f0-9]:){5,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3}:)?)))?(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))(?:\.(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))){3}))\]))$/),o=!1;if(n.test(e.val())||(e.parent().addClass("error"),o=!0),n.test(t.val())||(t.parent().addClass("error"),o=!0),s.test(x.val())||(x.parent().addClass("error"),o=!0),o)return!1;var r={name:e.val(),email:x.val(),quest:t.val()};e.val(""),t.val(""),x.val(""),$.ajax({url:"/teo/ajax-handler/",type:"POST",data:{data:r},success:function(a){UIkit.offcanvas.hide([force=!1]),UIkit.notify({message:"success"==a?"Ваше сообщение успешно отправлено":"Ошибка отправки сообщения",status:a,timeout:3e3,pos:"bottom-center"})},error:function(a){UIkit.notify({message:"Ошибка отправки сообщения",status:"warning",timeout:3e3,pos:"bottom-center"})}})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlbXBsYXRlLmpzIl0sIm5hbWVzIjpbIiQiLCJkb2N1bWVudCIsInJlYWR5Iiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJ0YXJnZXQiLCJwYXJlbnQiLCJ0b2dnbGVDbGFzcyIsInR5cGUiLCJ2YWwiLCJ0cmltIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwidGhpcyIsInJlcGxhY2UiLCJzdWJzdHIiLCJsZW5ndGgiLCJzdmcxIiwic3ZnMiIsImNvbnRlbnRzIiwiaSIsImoiLCJlcSIsImZpbmQiLCJjbGljayIsImluZGV4IiwibW91c2VvdmVyIiwibW91c2VsZWF2ZSIsInN2Z19vbl9wYWdlIiwid2luZG93IiwibG9jYXRpb24iLCJhdHRyIiwiZnJvbSIsIm5hbWUiLCJwaG9uZSIsImNvbXBhbnkiLCJlbWFpbCIsInJlZ2V4X3Bob25lIiwiUmVnRXhwIiwicmVnZXhfbmFtZSIsInJlZ2V4X2VtYWlsIiwiaGFzRXJyIiwidGVzdCIsImRhdGEiLCJ1bmRlZmluZWQiLCJhamF4IiwidXJsIiwic3VjY2VzcyIsInJlc3VsdCIsIlVJa2l0Iiwib2ZmY2FudmFzIiwiaGlkZSIsImZvcmNlIiwibm90aWZ5IiwibWVzc2FnZSIsInN0YXR1cyIsInRpbWVvdXQiLCJwb3MiLCJlcnJvciIsInF1ZXN0Il0sIm1hcHBpbmdzIjoiQUFBQUEsRUFBRUMsVUFBVUMsTUFBTSxXQUNoQkYsRUFBRSxhQUFhRyxHQUFHLGlCQUFrQixTQUFTQyxHQUN2Q0EsRUFBRUMsaUJBQ0ZMLEVBQUVJLEVBQUVFLFFBQVFDLFNBQVNDLFlBQVksY0FDcEIsWUFBVkosRUFBRUssTUFDRFQsRUFBRUksRUFBRUUsUUFBUUksSUFBSVYsRUFBRVcsS0FBS1gsRUFBRUksRUFBRUUsUUFBUUksVUFHM0NWLEVBQUUsYUFBYUcsR0FBRyxlQUFnQixTQUFTQyxHQUN2Q0EsRUFBRUMsaUJBQytCLEtBQTlCTCxFQUFFVyxLQUFLWCxFQUFFSSxFQUFFRSxRQUFRSSxRQUFrQlYsRUFB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QU1JLE9BQU8sQ0FDVEMsUUFBb0IsV0FBVk4sRUFBdUIsb0NBQXNDLDRCQUN2RU8sT0FBUVAsRUFDUlEsUUFBUyxJQUNUQyxJQUFLLG1CQUdiQyxNQUFPLFNBQVVWLEdBQ2JDLE1BQU1JLE9BQU8sQ0FDVEMsUUFBUyw0QkFDVEMsT0FBUSxVQUNSQyxRQUFTLElBQ1RDLElBQUsiLCJmaWxlIjoidGVtcGxhdGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIkKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHtcclxuICAkKCcuanMtaW5wdXQnKS5vbignZm9jdXMgZm9jdXNvdXQnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICQoZS50YXJnZXQpLnBhcmVudCgpLnRvZ2dsZUNsYXNzKCdpc19mb2N1c2VkJyk7XHJcbiAgICAgICAgaWYoZS50eXBlID09ICdmb2N1c291dCcpIHtcclxuICAgICAgICAgICAgJChlLnRhcmdldCkudmFsKCQudHJpbSgkKGUudGFyZ2V0KS52YWwoKSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCgnLmpzLWlucHV0Jykub24oJ2NoYW5nZSBrZXl1cCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgaWYoJC50cmltKCQoZS50YXJnZXQpLnZhbCgpKSAhPT0gJycgJiYgISQoZS50YXJnZXQpLmhhc0NsYXNzKCdpc19maWxsZWQnKSkge1xyXG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5wYXJlbnQoKS5hZGRDbGFzcygnaXNfZmlsbGVkJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChlLnRhcmdldCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2lzX2ZpbGxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwiZXJyb3JcIik7XHJcbiAgICB9KTtcclxuICAgICQoJy5qcy1waG9uZScpLm9uKCdmb2N1c291dCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIHZhbCA9ICQodGhpcykudmFsKCkucmVwbGFjZSgvW14wLTldL2dpLCcnKTtcclxuICAgICAgICBpZih2YWwuc3Vic3RyKDAsIDEpID09IDcpIHtcclxuICAgICAgICAgICAgdmFsID0gJys3JyArIHZhbC5zdWJzdHIoMSwgdmFsLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKHRoaXMpLnZhbCh2YWwpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHN2ZzEgPSAkKCcjc3ZnMScpO1xyXG4gICAgdmFyIHN2ZzIgPSAkKCcjc3ZnMicpO1xyXG4gICAgdmFyIGNvbnRlbnRzID0gJCgnLmhlYWRlcl9fY29udGVudCcpO1xyXG4gICAgdmFyIGkgPSAwO1xyXG4gICAgdmFyIGogPSAwO1xyXG4gICAgY29udGVudHMuZXEoaikudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgc3ZnMi5maW5kKCdwb2x5Z29uJykuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbnRlbnRzLmVxKGopLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgaiA9ICQodGhpcykuaW5kZXgoKS0xO1xyXG4gICAgICBjb250ZW50cy5lcShqKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB9KVxyXG4gICAgLm1vdXNlb3ZlcihmdW5jdGlvbigpIHtcclxuICAgICAgaSA9ICQodGhpcykuaW5kZXgoKS0xO1xyXG4gICAgICBzdmcxLmZpbmQoJ3BvbHlnb24nKS5lcShpKS50b2dnbGVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICB9KVxyXG4gICAgLm1vdXNlbGVhdmUoZnVuY3Rpb24oKSB7XHJcbiAgICAgIGkgPSAkKHRoaXMpLmluZGV4KCktMTtcclxuICAgICAgc3ZnMS5maW5kKCdwb2x5Z29uJykuZXEoaSkudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHN2Z19vbl9wYWdlID0gJChcIiNzdmdfb25fbWFwcGFnZVwiKTtcclxuICAgIHN2Z19vbl9wYWdlLmZpbmQoJ3BvbHlnb24nKVxyXG4gICAgICAgIC5tb3VzZW92ZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGkgPSAkKHRoaXMpLmluZGV4KCktMTtcclxuICAgICAgICBzdmdfb25fcGFnZS5maW5kKCdwb2x5Z29uJykuZXEoaSkudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm1vdXNlbGVhdmUoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGkgPSAkKHRoaXMpLmluZGV4KCktMTtcclxuICAgICAgICAgICAgc3ZnX29uX3BhZ2UuZmluZCgncG9seWdvbicpLmVxKGkpLnRvZ2dsZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGkgPSAkKHRoaXMpLmluZGV4KCktMTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2Uoc3ZnX29uX3BhZ2UuZmluZCgncG9seWdvbicpLmVxKGkpLmF0dHIoXCJkYXRhLWxpbmtcIikpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICQoXCIjc3VibWl0X2Zvcm1cIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciBmcm9tID0gJChcIiNjYWxsYmFja19zb3VyY2VcIikuYXR0cihcImRhdGEtc291cmNlXCIpO1xyXG4gICAgICAgIHZhciBuYW1lID0gJChcIiNuYW1lXCIpO1xyXG4gICAgICAgIHZhciBwaG9uZSA9ICQoXCIjcGhvbmVcIik7XHJcbiAgICAgICAgdmFyIGNvbXBhbnkgPSAkKFwiI2NvbXBhbnlcIik7XHJcbiAgICAgICAgdmFyIGVtYWlsID0gJChcIiNtYWlsXCIpO1xyXG5cclxuICAgICAgICB2YXIgcmVnZXhfcGhvbmUgPSBuZXcgUmVnRXhwKC9cXGR7MTF9Lyk7XHJcbiAgICAgICAgdmFyIHJlZ2V4X25hbWUgPSBuZXcgUmVnRXhwKC8uKy8pO1xyXG4gICAgICAgIHZhciByZWdleF9lbWFpbCA9IG5ldyBSZWdFeHAoL14oPyEoPzooPzpcXHgyMj9cXHg1Q1tcXHgwMC1cXHg3RV1cXHgyMj8pfCg/OlxceDIyP1teXFx4NUNcXHgyMl1cXHgyMj8pKXsyNTUsfSkoPyEoPzooPzpcXHgyMj9cXHg1Q1tcXHgwMC1cXHg3RV1cXHgyMj8pfCg/OlxceDIyP1teXFx4NUNcXHgyMl1cXHgyMj8pKXs2NSx9QCkoPzooPzpbXFx4MjFcXHgyMy1cXHgyN1xceDJBXFx4MkJcXHgyRFxceDJGLVxceDM5XFx4M0RcXHgzRlxceDVFLVxceDdFXSspfCg/OlxceDIyKD86W1xceDAxLVxceDA4XFx4MEJcXHgwQ1xceDBFLVxceDFGXFx4MjFcXHgyMy1cXHg1QlxceDVELVxceDdGXXwoPzpcXHg1Q1tcXHgwMC1cXHg3Rl0pKSpcXHgyMikpKD86XFwuKD86KD86W1xceDIxXFx4MjMtXFx4MjdcXHgyQVxceDJCXFx4MkRcXHgyRi1cXHgzOVxceDNEXFx4M0ZcXHg1RS1cXHg3RV0rKXwoPzpcXHgyMig/OltcXHgwMS1cXHgwOFxceDBCXFx4MENcXHgwRS1cXHgxRlxceDIxXFx4MjMtXFx4NUJcXHg1RC1cXHg3Rl18KD86XFx4NUNbXFx4MDAtXFx4N0ZdKSkqXFx4MjIpKSkqQCg/Oig/Oig/IS4qW14uXXs2NCx9KSg/Oig/Oig/OnhuLS0pP1thLXowLTldKyg/Oi1bYS16MC05XSspKlxcLil7MSwxMjZ9KXsxLH0oPzooPzpbYS16XVthLXowLTldKil8KD86KD86eG4tLSlbYS16MC05XSspKSg/Oi1bYS16MC05XSspKil8KD86XFxbKD86KD86SVB2NjooPzooPzpbYS1mMC05XXsxLDR9KD86OlthLWYwLTldezEsNH0pezd9KXwoPzooPyEoPzouKlthLWYwLTldWzpcXF1dKXs3LH0pKD86W2EtZjAtOV17MSw0fSg/OjpbYS1mMC05XXsxLDR9KXswLDV9KT86Oig/OlthLWYwLTldezEsNH0oPzo6W2EtZjAtOV17MSw0fSl7MCw1fSk/KSkpfCg/Oig/OklQdjY6KD86KD86W2EtZjAtOV17MSw0fSg/OjpbYS1mMC05XXsxLDR9KXs1fTopfCg/Oig/ISg/Oi4qW2EtZjAtOV06KXs1LH0pKD86W2EtZjAtOV17MSw0fSg/OjpbYS1mMC05XXsxLDR9KXswLDN9KT86Oig/OlthLWYwLTldezEsNH0oPzo6W2EtZjAtOV17MSw0fSl7MCwzfTopPykpKT8oPzooPzoyNVswLTVdKXwoPzoyWzAtNF1bMC05XSl8KD86MVswLTldezJ9KXwoPzpbMS05XT9bMC05XSkpKD86XFwuKD86KD86MjVbMC01XSl8KD86MlswLTRdWzAtOV0pfCg/OjFbMC05XXsyfSl8KD86WzEtOV0/WzAtOV0pKSl7M30pKVxcXSkpJC8pO1xyXG5cclxuICAgICAgICB2YXIgaGFzRXJyID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGlmICghcmVnZXhfbmFtZS50ZXN0KG5hbWUudmFsKCkpKSB7XHJcbiAgICAgICAgICAgIG5hbWUucGFyZW50KCkuYWRkQ2xhc3MoXCJlcnJvclwiKTtcclxuICAgICAgICAgICAgaGFzRXJyID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFyZWdleF9waG9uZS50ZXN0KHBob25lLnZhbCgpKSkge1xyXG4gICAgICAgICAgICBwaG9uZS5wYXJlbnQoKS5hZGRDbGFzcyhcImVycm9yXCIpO1xyXG4gICAgICAgICAgICBoYXNFcnIgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXJlZ2V4X2VtYWlsLnRlc3QoZW1haWwudmFsKCkpKSB7XHJcbiAgICAgICAgICAgIGVtYWlsLnBhcmVudCgpLmFkZENsYXNzKFwiZXJyb3JcIik7XHJcbiAgICAgICAgICAgIGhhc0VyciA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChoYXNFcnIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUudmFsKCksXHJcbiAgICAgICAgICAgIHBob25lOiBwaG9uZS52YWwoKSxcclxuICAgICAgICAgICAgY29tcGFueTogY29tcGFueS52YWwoKSxcclxuICAgICAgICAgICAgZW1haWw6IGVtYWlsLnZhbCgpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKGZyb20gIT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgZGF0YS5mcm9tID0gZnJvbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5hbWUudmFsKFwiXCIpO1xyXG4gICAgICAgIHBob25lLnZhbChcIlwiKTtcclxuICAgICAgICBjb21wYW55LnZhbChcIlwiKTtcclxuICAgICAgICBlbWFpbC52YWwoXCJcIik7XHJcblxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogXCIvdGVvL2FqYXgtaGFuZGxlci9cIixcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICBkYXRhOiB7ZGF0YTogZGF0YX0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIFVJa2l0Lm9mZmNhbnZhcy5oaWRlKFtmb3JjZSA9IGZhbHNlXSk7XHJcbiAgICAgICAgICAgICAgICBVSWtpdC5ub3RpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IChyZXN1bHQgPT0gXCJzdWNjZXNzXCIpID8gJ9CS0LDRiNC1INGB0L7QvtCx0YnQtdC90LjQtSDRg9GB0L/QtdGI0L3QviDQvtGC0L/RgNCw0LLQu9C10L3QvicgOiAn0J7RiNC40LHQutCwINC+0YLQv9GA0LDQstC60Lgg0YHQvtC+0LHRidC10L3QuNGPJyxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3VsdCxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvczogJ2JvdHRvbS1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIFVJa2l0Lm5vdGlmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ9Ce0YjQuNCx0LrQsCDQvtGC0L/RgNCw0LLQutC4INGB0L7QvtCx0YnQtdC90LjRjycsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnd2FybmluZycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMCxcclxuICAgICAgICAgICAgICAgICAgICBwb3M6ICdib3R0b20tY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIi5wcm9wb3NhbF9yZXF1ZXN0XCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKFwiI2NhbGxiYWNrX3NvdXJjZVwiKS5hdHRyKFwiZGF0YS1zb3VyY2VcIiwgJCh0aGlzKS5hdHRyKFwiZGF0YS1zb3VyY2VcIikpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChcIiNzdWJtaXRfZm9ybTJcIikuY2xpY2soZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHZhciBuYW1lID0gJChcIiNuYW1lOVwiKTtcclxuICAgICAgICB2YXIgcXVlc3QgPSAkKFwiI3RleHQ5XCIpO1xyXG4gICAgICAgIHZhciBlbWFpbCA9ICQoXCIjbWFpbDlcIik7XHJcblxyXG4gICAgICAgIHZhciByZWdleF9uYW1lID0gbmV3IFJlZ0V4cCgvLisvKTtcclxuICAgICAgICB2YXIgcmVnZXhfZW1haWwgPSBuZXcgUmVnRXhwKC9eKD8hKD86KD86XFx4MjI/XFx4NUNbXFx4MDAtXFx4N0VdXFx4MjI/KXwoPzpcXHgyMj9bXlxceDVDXFx4MjJdXFx4MjI/KSl7MjU1LH0pKD8hKD86KD86XFx4MjI/XFx4NUNbXFx4MDAtXFx4N0VdXFx4MjI/KXwoPzpcXHgyMj9bXlxceDVDXFx4MjJdXFx4MjI/KSl7NjUsfUApKD86KD86W1xceDIxXFx4MjMtXFx4MjdcXHgyQVxceDJCXFx4MkRcXHgyRi1cXHgzOVxceDNEXFx4M0ZcXHg1RS1cXHg3RV0rKXwoPzpcXHgyMig/OltcXHgwMS1cXHgwOFxceDBCXFx4MENcXHgwRS1cXHgxRlxceDIxXFx4MjMtXFx4NUJcXHg1RC1cXHg3Rl18KD86XFx4NUNbXFx4MDAtXFx4N0ZdKSkqXFx4MjIpKSg/OlxcLig/Oig/OltcXHgyMVxceDIzLVxceDI3XFx4MkFcXHgyQlxceDJEXFx4MkYtXFx4MzlcXHgzRFxceDNGXFx4NUUtXFx4N0VdKyl8KD86XFx4MjIoPzpbXFx4MDEtXFx4MDhcXHgwQlxceDBDXFx4MEUtXFx4MUZcXHgyMVxceDIzLVxceDVCXFx4NUQtXFx4N0ZdfCg/OlxceDVDW1xceDAwLVxceDdGXSkpKlxceDIyKSkpKkAoPzooPzooPyEuKlteLl17NjQsfSkoPzooPzooPzp4bi0tKT9bYS16MC05XSsoPzotW2EtejAtOV0rKSpcXC4pezEsMTI2fSl7MSx9KD86KD86W2Etel1bYS16MC05XSopfCg/Oig/OnhuLS0pW2EtejAtOV0rKSkoPzotW2EtejAtOV0rKSopfCg/OlxcWyg/Oig/OklQdjY6KD86KD86W2EtZjAtOV17MSw0fSg/OjpbYS1mMC05XXsxLDR9KXs3fSl8KD86KD8hKD86LipbYS1mMC05XVs6XFxdXSl7Nyx9KSg/OlthLWYwLTldezEsNH0oPzo6W2EtZjAtOV17MSw0fSl7MCw1fSk/OjooPzpbYS1mMC05XXsxLDR9KD86OlthLWYwLTldezEsNH0pezAsNX0pPykpKXwoPzooPzpJUHY2Oig/Oig/OlthLWYwLTldezEsNH0oPzo6W2EtZjAtOV17MSw0fSl7NX06KXwoPzooPyEoPzouKlthLWYwLTldOil7NSx9KSg/OlthLWYwLTldezEsNH0oPzo6W2EtZjAtOV17MSw0fSl7MCwzfSk/OjooPzpbYS1mMC05XXsxLDR9KD86OlthLWYwLTldezEsNH0pezAsM306KT8pKSk/KD86KD86MjVbMC01XSl8KD86MlswLTRdWzAtOV0pfCg/OjFbMC05XXsyfSl8KD86WzEtOV0/WzAtOV0pKSg/OlxcLig/Oig/OjI1WzAtNV0pfCg/OjJbMC00XVswLTldKXwoPzoxWzAtOV17Mn0pfCg/OlsxLTldP1swLTldKSkpezN9KSlcXF0pKSQvKTtcclxuXHJcbiAgICAgICAgdmFyIGhhc0VyciA9IGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAoIXJlZ2V4X25hbWUudGVzdChuYW1lLnZhbCgpKSkge1xyXG4gICAgICAgICAgICBuYW1lLnBhcmVudCgpLmFkZENsYXNzKFwiZXJyb3JcIik7XHJcbiAgICAgICAgICAgIGhhc0VyciA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghcmVnZXhfbmFtZS50ZXN0KHF1ZXN0LnZhbCgpKSkge1xyXG4gICAgICAgICAgICBxdWVzdC5wYXJlbnQoKS5hZGRDbGFzcyhcImVycm9yXCIpO1xyXG4gICAgICAgICAgICBoYXNFcnIgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXJlZ2V4X2VtYWlsLnRlc3QoZW1haWwudmFsKCkpKSB7XHJcbiAgICAgICAgICAgIGVtYWlsLnBhcmVudCgpLmFkZENsYXNzKFwiZXJyb3JcIik7XHJcbiAgICAgICAgICAgIGhhc0VyciA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChoYXNFcnIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGRhdGEgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUudmFsKCksXHJcbiAgICAgICAgICAgIGVtYWlsOiBlbWFpbC52YWwoKSxcclxuICAgICAgICAgICAgcXVlc3Q6IHF1ZXN0LnZhbCgpXHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgIG5hbWUudmFsKFwiXCIpO1xyXG4gICAgICAgIHF1ZXN0LnZhbChcIlwiKTtcclxuICAgICAgICBlbWFpbC52YWwoXCJcIik7XHJcblxyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogXCIvdGVvL2FqYXgtaGFuZGxlci9cIixcclxuICAgICAgICAgICAgdHlwZTogJ1BPU1QnLFxyXG4gICAgICAgICAgICBkYXRhOiB7ZGF0YTogZGF0YX0sXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIFVJa2l0Lm9mZmNhbnZhcy5oaWRlKFtmb3JjZSA9IGZhbHNlXSk7XHJcbiAgICAgICAgICAgICAgICBVSWtpdC5ub3RpZnkoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IChyZXN1bHQgPT0gXCJzdWNjZXNzXCIpID8gJ9CS0LDRiNC1INGB0L7QvtCx0YnQtdC90LjQtSDRg9GB0L/QtdGI0L3QviDQvtGC0L/RgNCw0LLQu9C10L3QvicgOiAn0J7RiNC40LHQutCwINC+0YLQv9GA0LDQstC60Lgg0YHQvtC+0LHRidC10L3QuNGPJyxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3VsdCxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvczogJ2JvdHRvbS1jZW50ZXInXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIFVJa2l0Lm5vdGlmeSh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ9Ce0YjQuNCx0LrQsCDQvtGC0L/RgNCw0LLQutC4INGB0L7QvtCx0YnQtdC90LjRjycsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnd2FybmluZycsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMCxcclxuICAgICAgICAgICAgICAgICAgICBwb3M6ICdib3R0b20tY2VudGVyJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG59KTsiXX0=
