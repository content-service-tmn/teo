!function(a){"use strict";var i,e,n,s=[];a.component("stackMargin",{defaults:{cls:"uk-margin-small-top",rowfirst:!1,observe:!1},boot:function(){a.ready(function(t){a.$("[data-uk-margin]",t).each(function(){var t=a.$(this);t.data("stackMargin")||a.stackMargin(t,a.Utils.options(t.attr("data-uk-margin")))})})},init:function(){var t,i=this;a.$win.on("resize orientationchange",(t=function(){i.process()},a.$(function(){t(),a.$win.on("load",t)}),a.Utils.debounce(t,20))),this.on("display.uk.check",function(t){this.element.is(":visible")&&this.process()}.bind(this)),this.options.observe&&a.domObserve(this.element,function(t){i.element.is(":visible")&&i.process()}),s.push(this)},process:function(){var t=this.element.children();if(a.Utils.stackMargin(t,this.options),!this.options.rowfirst||!t.length)return this;var e={},n=!1;return t.removeClass(this.options.rowfirst).each(function(t,i){i=a.$(this),"none"!=this.style.display&&(t=i.offset().left,((e[t]=e[t]||[])&&e[t]).push(this),n=!1===n?t:Math.min(n,t))}),a.$(e[n]).addClass(this.options.rowfirst),this}}),i=[],e=function(t){if(t.is(":visible")){var i=t.parent().width(),e=t.data("width"),n=i/e,s=Math.floor(n*t.data("height"));t.css({height:i<e?s:t.data("height")})}},a.component("responsiveElement",{defaults:{},boot:function(){a.ready(function(t){a.$("iframe.uk-responsive-width, [data-uk-responsive]",t).each(function(){var t=a.$(this);t.data("responsiveElement")||a.responsiveElement(t,{})})})},init:function(){var t=this.element;t.attr("width")&&t.attr("height")&&(t.data({width:t.attr("width"),height:t.attr("height")}).on("display.uk.check",function(){e(t)}),e(t),i.push(t))}}),a.$win.on("resize load",a.Utils.debounce(function(){i.forEach(function(t){e(t)})},15)),a.Utils.stackMargin=function(t,i){i=a.$.extend({cls:"uk-margin-small-top"},i),t=a.$(t).removeClass(i.cls);var s=!1;t.each(function(t,i,e,n){"none"!=(n=a.$(this)).css("display")&&(t=n.offset(),i=n.outerHeight(),e=t.top+i,n.data({ukMarginPos:e,ukMarginTop:t.top}),(!1===s||t.top<s.top)&&(s={top:t.top,left:t.left,pos:e}))}).each(function(t){"none"!=(t=a.$(this)).css("display")&&t.data("ukMarginTop")>s.top&&t.data("ukMarginPos")>s.pos&&t.addClass(i.cls)})},a.Utils.matchHeights=function(t,i){t=a.$(t).css("min-height",""),i=a.$.extend({row:!0},i);var s=function(t){if(!(t.length<2)){var e=0;t.each(function(){e=Math.max(e,a.$(this).outerHeight())}).each(function(){var t=a.$(this),i=e-("border-box"==t.css("box-sizing")?0:t.outerHeight()-t.height());t.css("min-height",i+"px")})}};i.row?(t.first().width(),setTimeout(function(){var e=!1,n=[];t.each(function(){var t=a.$(this),i=t.offset().top;i!=e&&n.length&&(s(a.$(n)),n=[],i=t.offset().top),n.push(t),e=i}),n.length&&s(a.$(n))},0)):s(t)},n={},a.Utils.inlineSvg=function(t,i){a.$(t||'img[src$=".svg"]',i||document).each(function(){var e=a.$(this),t=e.attr("src");if(!n[t]){var i=a.$.Deferred();a.$.get(t,{nc:Math.random()},function(t){i.resolve(a.$(t).find("svg"))}),n[t]=i.promise()}n[t].then(function(t){var i=a.$(t).clone();e.attr("id")&&i.attr("id",e.attr("id")),e.attr("class")&&i.attr("class",e.attr("class")),e.attr("style")&&i.attr("style",e.attr("style")),e.attr("width")&&(i.attr("width",e.attr("width")),e.attr("height")||i.removeAttr("height")),e.attr("height")&&(i.attr("height",e.attr("height")),e.attr("width")||i.removeAttr("width")),e.replaceWith(i)})})},a.ready(function(t){a.Utils.inlineSvg("[data-uk-svg]",t)}),a.Utils.getCssVar=function(t){var i,e=document.documentElement,n=e.appendChild(document.createElement("div"));n.classList.add("var-"+t);try{i=JSON.parse(i=getComputedStyle(n,":before").content.replace(/^["'](.*)["']$/,"$1"))}catch(t){i=void 0}return e.removeChild(n),i}}(UIkit2);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvdXRpbGl0eS5qcyJdLCJuYW1lcyI6WyJVSSIsImVsZW1lbnRzIiwiY2hlY2siLCJjYWNoZVN2Z3MiLCJzdGFja3MiLCJjb21wb25lbnQiLCJkZWZhdWx0cyIsImNscyIsInJvd2ZpcnN0Iiwib2JzZXJ2ZSIsImJvb3QiLCJyZWFkeSIsImNvbnRleHQiLCIkIiwiZWFjaCIsImVsZSIsInRoaXMiLCJkYXRhIiwic3RhY2tNYXJnaW4iLCJVdGlscyIsIm9wdGlvbnMiLCJhdHRyIiwiaW5pdCIsImZuIiwiJHRoaXMiLCIkd2luIiwib24iLCJwcm9jZXNzIiwiZGVib3VuY2UiLCJlIiwiZWxlbWVudCIsImlzIiwiYmluZCIsImRvbU9ic2VydmUiLCJwdXNoIiwiY29sdW1ucyIsImNoaWxkcmVuIiwibGVuZ3RoIiwiZ3JvdXAiLCJtaW5sZWZ0IiwicmVtb3ZlQ2xhc3MiLCJvZmZzZXQiLCIkZWxlIiwic3R5bGUiLCJkaXNwbGF5IiwibGVmdCIsIk1hdGgiLCJtaW4iLCJhZGRDbGFzcyIsIndpZHRoIiwicGFyZW50IiwiaXdpZHRoIiwicmF0aW8iLCJoZWlnaHQiLCJmbG9vciIsImNzcyIsInJlc3BvbnNpdmVFbGVtZW50IiwiZm9yRWFjaCIsImV4dGVuZCIsInBvcyIsIm91dGVySGVpZ2h0IiwidG9wIiwidWtNYXJnaW5Qb3MiLCJ1a01hcmdpblRvcCIsIm1hdGNoSGVpZ2h0cyIsInJvdyIsIm1heCIsImZpcnN0Iiwic2V0VGltZW91dCIsImxhc3RvZmZzZXQiLCJpbmxpbmVTdmciLCJzZWxlY3RvciIsInJvb3QiLCJkb2N1bWVudCIsImltZyIsInNyYyIsImQiLCJEZWZlcnJlZCIsImdldCIsIm5jIiwicmFuZG9tIiwicmVzb2x2ZSIsImZpbmQiLCJwcm9taXNlIiwidGhlbiIsInN2ZyIsIiRzdmciLCJjbG9uZSIsInJlbW92ZUF0dHIiLCJyZXBsYWNlV2l0aCIsImdldENzc1ZhciIsIm5hbWUiLCJ2YWwiLCJkb2MiLCJkb2N1bWVudEVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJKU09OIiwicGFyc2UiLCJnZXRDb21wdXRlZFN0eWxlIiwiY29udGVudCIsInJlcGxhY2UiLCJ1bmRlZmluZWQiLCJyZW1vdmVDaGlsZCIsIlVJa2l0MiJdLCJtYXBwaW5ncyI6IkNBQ0EsU0FBVUEsR0FFTixhQUVBLElBOEZRQyxFQUFlQyxFQXNLYkMsRUFwUU5DLEVBQVMsR0FFYkosRUFBR0ssVUFBVSxjQUFlLENBRXhCQyxTQUFVLENBQ05DLElBQUssc0JBQ0xDLFVBQVUsRUFDVkMsU0FBUyxHQUdiQyxLQUFNLFdBR0ZWLEVBQUdXLE1BQU0sU0FBU0MsR0FFZFosRUFBR2EsRUFBRSxtQkFBb0JELEdBQVNFLEtBQUssV0FFbkMsSUFBSUMsRUFBTWYsRUFBR2EsRUFBRUcsTUFFVkQsRUFBSUUsS0FBSyxnQkFDVmpCLEVBQUdrQixZQUFZSCxFQUFLZixFQUFHbUIsTUFBTUMsUUFBUUwsRUFBSU0sS0FBSyx5QkFNOURDLEtBQU0sV0FFRixJQUlRQyxFQUpKQyxFQUFRUixLQUVaaEIsRUFBR3lCLEtBQUtDLEdBQUcsNEJBRUhILEVBQUssV0FDTEMsRUFBTUcsV0FHVjNCLEVBQUdhLEVBQUUsV0FDRFUsSUFDQXZCLEVBQUd5QixLQUFLQyxHQUFHLE9BQVFILEtBR2hCdkIsRUFBR21CLE1BQU1TLFNBQVNMLEVBQUksTUFHakNQLEtBQUtVLEdBQUcsbUJBQW9CLFNBQVNHLEdBQzdCYixLQUFLYyxRQUFRQyxHQUFHLGFBQWFmLEtBQUtXLFdBQ3hDSyxLQUFLaEIsT0FFSEEsS0FBS0ksUUFBUVgsU0FFYlQsRUFBR2lDLFdBQVdqQixLQUFLYyxRQUFTLFNBQVNELEdBQzdCTCxFQUFNTSxRQUFRQyxHQUFHLGFBQWFQLEVBQU1HLFlBSWhEdkIsRUFBTzhCLEtBQUtsQixPQUdoQlcsUUFBUyxXQUVMLElBQWtCUSxFQUFVbkIsS0FBS2MsUUFBUU0sV0FJekMsR0FGQXBDLEVBQUdtQixNQUFNRCxZQUFZaUIsRUFBU25CLEtBQUtJLFVB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VDhELEdBMVVmLENBNlVHYyIsImZpbGUiOiJjb3JlL3V0aWxpdHkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgVUlraXQgMi4yNy4yIHwgaHR0cDovL3d3dy5nZXR1aWtpdC5jb20gfCAoYykgMjAxNCBZT090aGVtZSB8IE1JVCBMaWNlbnNlICovXG4oZnVuY3Rpb24oVUkpIHtcblxuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIHN0YWNrcyA9IFtdO1xuXG4gICAgVUkuY29tcG9uZW50KCdzdGFja01hcmdpbicsIHtcblxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgY2xzOiAndWstbWFyZ2luLXNtYWxsLXRvcCcsXG4gICAgICAgICAgICByb3dmaXJzdDogZmFsc2UsXG4gICAgICAgICAgICBvYnNlcnZlOiBmYWxzZVxuICAgICAgICB9LFxuXG4gICAgICAgIGJvb3Q6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAvLyBpbml0IGNvZGVcbiAgICAgICAgICAgIFVJLnJlYWR5KGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgICAgICAgICAgICAgIFVJLiQoJ1tkYXRhLXVrLW1hcmdpbl0nLCBjb250ZXh0KS5lYWNoKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGUgPSBVSS4kKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghZWxlLmRhdGEoJ3N0YWNrTWFyZ2luJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVJLnN0YWNrTWFyZ2luKGVsZSwgVUkuVXRpbHMub3B0aW9ucyhlbGUuYXR0cignZGF0YS11ay1tYXJnaW4nKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyICR0aGlzID0gdGhpcztcblxuICAgICAgICAgICAgVUkuJHdpbi5vbigncmVzaXplIG9yaWVudGF0aW9uY2hhbmdlJywgKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGZuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLnByb2Nlc3MoKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgVUkuJChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgICAgICAgICAgICAgVUkuJHdpbi5vbignbG9hZCcsIGZuKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBVSS5VdGlscy5kZWJvdW5jZShmbiwgMjApO1xuICAgICAgICAgICAgfSkoKSk7XG5cbiAgICAgICAgICAgIHRoaXMub24oJ2Rpc3BsYXkudWsuY2hlY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudC5pcygnOnZpc2libGUnKSkgdGhpcy5wcm9jZXNzKCk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLm9ic2VydmUpIHtcblxuICAgICAgICAgICAgICAgIFVJLmRvbU9ic2VydmUodGhpcy5lbGVtZW50LCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgkdGhpcy5lbGVtZW50LmlzKCc6dmlzaWJsZScpKSAkdGhpcy5wcm9jZXNzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN0YWNrcy5wdXNoKHRoaXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHByb2Nlc3M6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSB0aGlzLCBjb2x1bW5zID0gdGhpcy5lbGVtZW50LmNoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgIFVJLlV0aWxzLnN0YWNrTWFyZ2luKGNvbHVtbnMsIHRoaXMub3B0aW9ucyk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLnJvd2ZpcnN0IHx8ICFjb2x1bW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNYXJrIGZpcnN0IGNvbHVtbiBlbGVtZW50c1xuICAgICAgICAgICAgdmFyIGdyb3VwID0ge30sIG1pbmxlZnQgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29sdW1ucy5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMucm93Zmlyc3QpLmVhY2goZnVuY3Rpb24ob2Zmc2V0LCAkZWxlKXtcblxuICAgICAgICAgICAgICAgICRlbGUgPSBVSS4kKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3R5bGUuZGlzcGxheSAhPSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gJGVsZS5vZmZzZXQoKS5sZWZ0O1xuICAgICAgICAgICAgICAgICAgICAoKGdyb3VwW29mZnNldF0gPSBncm91cFtvZmZzZXRdIHx8IFtdKSAmJiBncm91cFtvZmZzZXRdKS5wdXNoKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICBtaW5sZWZ0ID0gbWlubGVmdCA9PT0gZmFsc2UgPyBvZmZzZXQgOiBNYXRoLm1pbihtaW5sZWZ0LCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBVSS4kKGdyb3VwW21pbmxlZnRdKS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMucm93Zmlyc3QpO1xuXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cblxuICAgIC8vIHJlc3BvbnNpdmUgZWxlbWVudCBlLmcuIGlmcmFtZXNcblxuICAgIChmdW5jdGlvbigpe1xuXG4gICAgICAgIHZhciBlbGVtZW50cyA9IFtdLCBjaGVjayA9IGZ1bmN0aW9uKGVsZSkge1xuXG4gICAgICAgICAgICBpZiAoIWVsZS5pcygnOnZpc2libGUnKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICB2YXIgd2lkdGggID0gZWxlLnBhcmVudCgpLndpZHRoKCksXG4gICAgICAgICAgICAgICAgaXdpZHRoID0gZWxlLmRhdGEoJ3dpZHRoJyksXG4gICAgICAgICAgICAgICAgcmF0aW8gID0gKHdpZHRoIC8gaXdpZHRoKSxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBNYXRoLmZsb29yKHJhdGlvICogZWxlLmRhdGEoJ2hlaWdodCcpKTtcblxuICAgICAgICAgICAgZWxlLmNzcyh7aGVpZ2h0OiAod2lkdGggPCBpd2lkdGgpID8gaGVpZ2h0IDogZWxlLmRhdGEoJ2hlaWdodCcpfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgVUkuY29tcG9uZW50KCdyZXNwb25zaXZlRWxlbWVudCcsIHtcblxuICAgICAgICAgICAgZGVmYXVsdHM6IHt9LFxuXG4gICAgICAgICAgICBib290OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8vIGluaXQgY29kZVxuICAgICAgICAgICAgICAgIFVJLnJlYWR5KGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgICAgICAgICAgICAgICAgICBVSS4kKCdpZnJhbWUudWstcmVzcG9uc2l2ZS13aWR0aCwgW2RhdGEtdWstcmVzcG9uc2l2ZV0nLCBjb250ZXh0KS5lYWNoKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlID0gVUkuJCh0aGlzKSwgb2JqO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZS5kYXRhKCdyZXNwb25zaXZlRWxlbWVudCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gVUkucmVzcG9uc2l2ZUVsZW1lbnQoZWxlLCB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZWxlID0gdGhpcy5lbGVtZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsZS5hdHRyKCd3aWR0aCcpICYmIGVsZS5hdHRyKCdoZWlnaHQnKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZS5kYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoIDogZWxlLmF0dHIoJ3dpZHRoJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGVsZS5hdHRyKCdoZWlnaHQnKVxuICAgICAgICAgICAgICAgICAgICB9KS5vbignZGlzcGxheS51ay5jaGVjaycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVjayhlbGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBjaGVjayhlbGUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goZWxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFVJLiR3aW4ub24oJ3Jlc2l6ZSBsb2FkJywgVUkuVXRpbHMuZGVib3VuY2UoZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbihlbGUpe1xuICAgICAgICAgICAgICAgIGNoZWNrKGVsZSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9LCAxNSkpO1xuXG4gICAgfSkoKTtcblxuXG4gICAgLy8gaGVscGVyXG5cbiAgICBVSS5VdGlscy5zdGFja01hcmdpbiA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBvcHRpb25zKSB7XG5cbiAgICAgICAgb3B0aW9ucyA9IFVJLiQuZXh0ZW5kKHtcbiAgICAgICAgICAgIGNsczogJ3VrLW1hcmdpbi1zbWFsbC10b3AnXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIGVsZW1lbnRzID0gVUkuJChlbGVtZW50cykucmVtb3ZlQ2xhc3Mob3B0aW9ucy5jbHMpO1xuXG4gICAgICAgIHZhciBtaW4gPSBmYWxzZTtcblxuICAgICAgICBlbGVtZW50cy5lYWNoKGZ1bmN0aW9uKG9mZnNldCwgaGVpZ2h0LCBwb3MsICRlbGUpe1xuXG4gICAgICAgICAgICAkZWxlICAgPSBVSS4kKHRoaXMpO1xuXG4gICAgICAgICAgICBpZiAoJGVsZS5jc3MoJ2Rpc3BsYXknKSAhPSAnbm9uZScpIHtcblxuICAgICAgICAgICAgICAgIG9mZnNldCA9ICRlbGUub2Zmc2V0KCk7XG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gJGVsZS5vdXRlckhlaWdodCgpO1xuICAgICAgICAgICAgICAgIHBvcyAgICA9IG9mZnNldC50b3AgKyBoZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAkZWxlLmRhdGEoe1xuICAgICAgICAgICAgICAgICAgICB1a01hcmdpblBvczogcG9zLFxuICAgICAgICAgICAgICAgICAgICB1a01hcmdpblRvcDogb2Zmc2V0LnRvcFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gZmFsc2UgfHwgKG9mZnNldC50b3AgPCBtaW4udG9wKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBtaW4gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AgIDogb2Zmc2V0LnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgOiBvZmZzZXQubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyAgOiBwb3NcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSkuZWFjaChmdW5jdGlvbigkZWxlKSB7XG5cbiAgICAgICAgICAgICRlbGUgICA9IFVJLiQodGhpcyk7XG5cbiAgICAgICAgICAgIGlmICgkZWxlLmNzcygnZGlzcGxheScpICE9ICdub25lJyAmJiAkZWxlLmRhdGEoJ3VrTWFyZ2luVG9wJykgPiBtaW4udG9wICYmICRlbGUuZGF0YSgndWtNYXJnaW5Qb3MnKSA+IG1pbi5wb3MpIHtcbiAgICAgICAgICAgICAgICAkZWxlLmFkZENsYXNzKG9wdGlvbnMuY2xzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIFVJLlV0aWxzLm1hdGNoSGVpZ2h0cyA9IGZ1bmN0aW9uKGVsZW1lbnRzLCBvcHRpb25zKSB7XG5cbiAgICAgICAgZWxlbWVudHMgPSBVSS4kKGVsZW1lbnRzKS5jc3MoJ21pbi1oZWlnaHQnLCAnJyk7XG4gICAgICAgIG9wdGlvbnMgID0gVUkuJC5leHRlbmQoeyByb3cgOiB0cnVlIH0sIG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciBtYXRjaEhlaWdodHMgPSBmdW5jdGlvbihncm91cCl7XG5cbiAgICAgICAgICAgIGlmIChncm91cC5sZW5ndGggPCAyKSByZXR1cm47XG5cbiAgICAgICAgICAgIHZhciBtYXggPSAwO1xuXG4gICAgICAgICAgICBncm91cC5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgVUkuJCh0aGlzKS5vdXRlckhlaWdodCgpKTtcbiAgICAgICAgICAgIH0pLmVhY2goZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IFVJLiQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCAgPSBtYXggLSAoZWxlbWVudC5jc3MoJ2JveC1zaXppbmcnKSA9PSAnYm9yZGVyLWJveCcgPyAwIDogKGVsZW1lbnQub3V0ZXJIZWlnaHQoKSAtIGVsZW1lbnQuaGVpZ2h0KCkpKTtcblxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY3NzKCdtaW4taGVpZ2h0JywgaGVpZ2h0ICsgJ3B4Jyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy5yb3cpIHtcblxuICAgICAgICAgICAgZWxlbWVudHMuZmlyc3QoKS53aWR0aCgpOyAvLyBmb3JjZSByZWRyYXdcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgdmFyIGxhc3RvZmZzZXQgPSBmYWxzZSwgZ3JvdXAgPSBbXTtcblxuICAgICAgICAgICAgICAgIGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZSA9IFVJLiQodGhpcyksIG9mZnNldCA9IGVsZS5vZmZzZXQoKS50b3A7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCAhPSBsYXN0b2Zmc2V0ICYmIGdyb3VwLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaEhlaWdodHMoVUkuJChncm91cCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXAgID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBlbGUub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZ3JvdXAucHVzaChlbGUpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0b2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGdyb3VwLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaEhlaWdodHMoVUkuJChncm91cCkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hdGNoSGVpZ2h0cyhlbGVtZW50cyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgKGZ1bmN0aW9uKGNhY2hlU3Zncyl7XG5cbiAgICAgICAgVUkuVXRpbHMuaW5saW5lU3ZnID0gZnVuY3Rpb24oc2VsZWN0b3IsIHJvb3QpIHtcblxuICAgICAgICAgICAgdmFyIGltYWdlcyA9IFVJLiQoc2VsZWN0b3IgfHwgJ2ltZ1tzcmMkPVwiLnN2Z1wiXScsIHJvb3QgfHwgZG9jdW1lbnQpLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIHZhciBpbWcgPSBVSS4kKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICBzcmMgPSBpbWcuYXR0cignc3JjJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNhY2hlU3Znc1tzcmNdKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBVSS4kLkRlZmVycmVkKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgVUkuJC5nZXQoc3JjLCB7bmM6IE1hdGgucmFuZG9tKCl9LCBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQucmVzb2x2ZShVSS4kKGRhdGEpLmZpbmQoJ3N2ZycpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FjaGVTdmdzW3NyY10gPSBkLnByb21pc2UoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWNoZVN2Z3Nbc3JjXS50aGVuKGZ1bmN0aW9uKHN2Zykge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciAkc3ZnID0gVUkuJChzdmcpLmNsb25lKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGltZy5hdHRyKCdpZCcpKSAkc3ZnLmF0dHIoJ2lkJywgaW1nLmF0dHIoJ2lkJykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLmF0dHIoJ2NsYXNzJykpICRzdmcuYXR0cignY2xhc3MnLCBpbWcuYXR0cignY2xhc3MnKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbWcuYXR0cignc3R5bGUnKSkgJHN2Zy5hdHRyKCdzdHlsZScsIGltZy5hdHRyKCdzdHlsZScpKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLmF0dHIoJ3dpZHRoJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzdmcuYXR0cignd2lkdGgnLCBpbWcuYXR0cignd2lkdGgnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWltZy5hdHRyKCdoZWlnaHQnKSkgICRzdmcucmVtb3ZlQXR0cignaGVpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaW1nLmF0dHIoJ2hlaWdodCcpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzdmcuYXR0cignaGVpZ2h0JywgaW1nLmF0dHIoJ2hlaWdodCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW1nLmF0dHIoJ3dpZHRoJykpICRzdmcucmVtb3ZlQXR0cignd2lkdGgnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGltZy5yZXBsYWNlV2l0aCgkc3ZnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGluaXQgY29kZVxuICAgICAgICBVSS5yZWFkeShmdW5jdGlvbihjb250ZXh0KSB7XG4gICAgICAgICAgICBVSS5VdGlscy5pbmxpbmVTdmcoJ1tkYXRhLXVrLXN2Z10nLCBjb250ZXh0KTtcbiAgICAgICAgfSk7XG5cbiAgICB9KSh7fSk7XG5cbiAgICBVSS5VdGlscy5nZXRDc3NWYXIgPSBmdW5jdGlvbihuYW1lKSB7XG5cbiAgICAgICAgLyogdXNhZ2UgaW4gY3NzOiAgLnZhci1uYW1lOmJlZm9yZSB7IGNvbnRlbnQ6XCJ4eXpcIiB9ICovXG5cbiAgICAgICAgdmFyIHZhbCwgZG9jID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCBlbGVtZW50ID0gZG9jLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKTtcblxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3Zhci0nK25hbWUpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YWwgPSBKU09OLnBhcnNlKHZhbCA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgJzpiZWZvcmUnKS5jb250ZW50LnJlcGxhY2UoL15bXCInXSguKilbXCInXSQvLCAnJDEnKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHZhbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvYy5yZW1vdmVDaGlsZChlbGVtZW50KTtcblxuICAgICAgICByZXR1cm4gdmFsO1xuICAgIH1cblxufSkoVUlraXQyKTsiXX0=
