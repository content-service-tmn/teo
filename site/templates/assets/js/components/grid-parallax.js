!function(t){var n;window.UIkit2&&(n=t(UIkit2)),"function"==typeof define&&define.amd&&define("uikit-grid-parallax",["uikit"],function(){return n||t(UIkit2)})}(function(l){var i=[],t=function(){requestAnimationFrame(function(){for(var t=0;t<i.length;t++)i[t].process()})};function s(t){for(var n=t.children(),i=n.filter(":visible:first"),e=i[0].offsetTop+i.outerHeight(),o=0;o<n.length&&!(n[o].offsetTop>=e);o++);return o||1}l.component("gridparallax",{defaults:{target:!1,smooth:150,translate:150},boot:function(){l.$doc.on("scrolling.uk.document",t),l.$win.on("load resize orientationchange",l.Utils.debounce(function(){t()},50)),l.ready(function(t){l.$("[data-uk-grid-parallax]",t).each(function(){var t=l.$(this);t.data("gridparallax")||l.gridparallax(t,l.Utils.options(t.attr("data-uk-grid-parallax")))})})},init:function(){var t,n=this;this.initItems().process(),i.push(this),l.$win.on("load resize orientationchange",(t=function(){var t=s(n.element);n.element.css("margin-bottom",""),1<t&&n.element.css("margin-bottom",n.options.translate+parseInt(n.element.css("margin-bottom")))},l.$(function(){t()}),l.Utils.debounce(t,50)))},initItems:function(){var t=this.options.smooth;return this.items=(this.options.target?this.element.find(this.options.target):this.element.children()).each(function(){l.$(this).css({transition:"transform "+t+"ms linear",transform:""})}),this},process:function(){var t=function(t){var n,i,e,o=t.offset().top,r=t.outerHeight(),s=l.$win.scrollTop(),a=window.innerHeight;s+a<o?e=0:o+r<s?e=1:(o+r<a?e=(s<a?s:s-a)/(o+r):(n=s+a-o,i=Math.round(n/((a+r)/100)),e=i/100),o<a&&(e=e*s/(o+r-a)));return 1<e?1:e}(this.element),e=s(this.element),n=this.items,o=[e-1];if(1!=e&&t){for(;o.length<e&&o[o.length-1]-2;)o.push(o[o.length-1]-2);var r=t*this.options.translate;n.each(function(t,n,i){i=-1!=o.indexOf((t+1)%e)?r:r/8,l.$(this).css("transform","translate3d(0,"+i+"px, 0)")})}else n.css("transform","")}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvZ3JpZC1wYXJhbGxheC5qcyJdLCJuYW1lcyI6WyJhZGRvbiIsImNvbXBvbmVudCIsIndpbmRvdyIsIlVJa2l0MiIsImRlZmluZSIsImFtZCIsIlVJIiwicGFyYWxsYXhlcyIsImNoZWNrUGFyYWxsYXhlcyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImkiLCJsZW5ndGgiLCJwcm9jZXNzIiwiZ2V0Y29sdW1ucyIsImVsZW1lbnQiLCJjaGlsZHJlbiIsImZpcnN0IiwiZmlsdGVyIiwidG9wIiwib2Zmc2V0VG9wIiwib3V0ZXJIZWlnaHQiLCJjb2x1bW4iLCJkZWZhdWx0cyIsInRhcmdldCIsInNtb290aCIsInRyYW5zbGF0ZSIsImJvb3QiLCIkZG9jIiwib24iLCIkd2luIiwiVXRpbHMiLCJkZWJvdW5jZSIsInJlYWR5IiwiY29udGV4dCIsIiQiLCJlYWNoIiwicGFyYWxsYXgiLCJ0aGlzIiwiZGF0YSIsImdyaWRwYXJhbGxheCIsIm9wdGlvbnMiLCJhdHRyIiwiaW5pdCIsImZuIiwiJHRoaXMiLCJpbml0SXRlbXMiLCJwdXNoIiwiY29sdW1ucyIsImNzcyIsInBhcnNlSW50IiwiaXRlbXMiLCJmaW5kIiwidHJhbnNpdGlvbiIsInRyYW5zZm9ybSIsInBlcmNlbnQiLCJkaXN0YW5jZSIsInBlcmNlbnRhZ2UiLCJvZmZzZXQiLCJoZWlnaHQiLCJzY3JvbGx0b3AiLCJzY3JvbGxUb3AiLCJ3aCIsImlubmVySGVpZ2h0IiwiTWF0aCIsInJvdW5kIiwicGVyY2VudGFnZUluVmlld3BvcnQiLCJtb2RzIiwicGVyY2VudHRyYW5zbGF0ZSIsImlkeCIsImVsZSIsImluZGV4T2YiXSwibWFwcGluZ3MiOiJDQUNBLFNBQVVBLEdBRU4sSUFBSUMsRUFFQUMsT0FBT0MsU0FDUEYsRUFBWUQsRUFBTUcsU0FHRCxtQkFBVkMsUUFBd0JBLE9BQU9DLEtBQ3RDRCxPQUFPLHNCQUF1QixDQUFDLFNBQVUsV0FDckMsT0FBT0gsR0FBYUQsRUFBTUcsVUFWdEMsQ0FjRyxTQUFTRyxHQUVSLElBQUlDLEVBQWMsR0FBSUMsRUFBa0IsV0FFaENDLHNCQUFzQixXQUNsQixJQUFLLElBQUlDLEVBQUUsRUFBR0EsRUFBSUgsRUFBV0ksT0FBUUQsSUFDakNILEVBQVdHLEdBQUdFLGFBdUc5QixTQUFTQyxFQUFXQyxHQU1oQixJQUpBLElBQUlDLEVBQVdELEVBQVFDLFdBQ25CQyxFQUFXRCxFQUFTRSxPQUFPLGtCQUMzQkMsRUFBV0YsRUFBTSxHQUFHRyxVQUFZSCxFQUFNSSxjQUVqQ0MsRUFBTyxFQUFFQSxFQUFPTixFQUFTSixVQUMxQkksRUFBU00sR0FBUUYsV0FBYUQsR0FER0csS0FJekMsT0FBT0EsR0FBVSxFQTNHckJmLEVBQUdMLFVBQVUsZUFBZ0IsQ0FFekJxQixTQUFVLENBQ05DLFFBQVksRUFDWkMsT0FBWSxJQUNaQyxVQUFZLEtBR2hCQyxLQUFNLFdBR0ZwQixFQUFHcUIsS0FBS0MsR0FBRyx3QkFBeUJwQixHQUNwQ0YsRUFBR3VCLEtBQUtELEdBQUcsZ0NBQWlDdEIsRUFBR3dCLE1BQU1DLFNBQVMsV0FDMUR2QixLQUNELEtBR0hGLEVBQUcwQixNQUFNLFNBQVNDLEdBRWQzQixFQUFHNEIsRUFBRSwwQkFBMkJELEdBQVNFLEtBQUssV0FFMUMsSUFBSUMsRUFBVzlCLEVBQUc0QixFQUFFRyxNQUVmRCxFQUFTRSxLQUFLLGlCQUNmaEMsRUFBR2lDLGFBQWFILEVBQVU5QixFQUFHd0IsTUFBTVUsUUFBUUosRUFBU0ssS0FBSyxnQ0FNekVDLEtBQU0sV0FFRixJQU9RQyxFQVBKQyxFQUFRUCxLQUVaQSxLQUFLUSxZQUFZakMsVUFDakJMLEVBQVd1QyxLQUFLVCxNQUVoQi9CLEVBQUd1QixLQUFLRCxHQUFHLGlDQUVIZSxFQUFLLFdBQ0wsSUFBSUksRUFBV2xDLEVBQVcrQixFQUFNOUIsU0FFaEM4QixFQUFNOUIsUUFBUWtDLElBQUksZ0JBQWlCLElBRXJCLEVBQVZELEdBQ0FILEVBQU05QixRQUFRa0MsSUFBSSxnQkFBaUJKLEVBQU1KLFFBQVFmLFVBQVl3QixTQUFTTCxFQUFNOUIsUUFBUWtDLElBQUksb0JBSWhHMUMsRUFBRzRCLEVBQUUsV0FBYVMsTUFFWHJDLEVBQUd3QixNQUFNQyxTQUFTWSxFQUFJLE9BSXJDRSxVQUFXLFdBRVAsSUFBSXJCLEVBQVNhLEtBQUtHLFFBQVFoQixPQVMxQixPQVBBYSxLQUFLYSxPQUFTYixLQUFLRyxRQUFRakIsT0FBU2MsS0FBS3ZCLFFBQVFxQyxLQUFLZCxLQUFLRyxRQUFRakIsUUFBVWMsS0FBS3ZCLFFBQVFDLFlBQVlvQixLQUFLLFdBQ3ZHN0IsRUFBRzRCLEVBQUVHLE1BQU1XLElBQUksQ0FDWEksV0FBWSxhQUFhNUIsRUFBTyxZQUNoQzZCLFVBQVcsT0FJWmhCLE1BR1h6QixRQUFTLFdBRUwsSUFBSTBDLEVBdUNaLFNBQThCeEMsR0FFMUIsSUFJSXlDLEVBQVVDLEVBQVlGLEVBSnRCcEMsRUFBWUosRUFBUTJDLFNBQVN2QyxJQUM3QndDLEVBQVk1QyxFQUFRTSxjQUNwQnVDLEVBQVlyRCxFQUFHdUIsS0FBSytCLFlBQ3BCQyxFQUFZM0QsT0FBTzRELFlBR1pILEVBQVlFLEVBQW5CM0MsRUFDQW9DLEVBQVUsRUFDRnBDLEVBQU13QyxFQUFVQyxFQUN4QkwsRUFBVSxHQUdMcEMsRUFBTXdDLEVBQVVHLEVBQ2pCUCxHQUFXSyxFQUFZRSxFQUFLRixFQUFZQSxFQUFZRSxJQUFPM0MsRUFBSXdDLElBRy9ESCxFQUFjSSxFQUFZRSxFQUFNM0MsRUFDaENzQyxFQUFhTyxLQUFLQyxNQUFNVCxJQUFhTSxFQUFLSCxHQUFVLE1BQ3BESixFQUFhRSxFQUFXLEtBR3hCdEMsRUFBTTJDLElBQ05QLEVBQVVBLEVBQVVLLEdBQWN6QyxFQUFNd0MsRUFBVUcsS0FJMUQsT0FBaUIsRUFBVlAsRUFBYyxFQUFFQSxFQW5FSlcsQ0FBcUI1QixLQUFLdkIsU0FDckNpQyxFQUFXbEMsRUFBV3dCLEtBQUt2QixTQUMzQm9DLEVBQVdiLEtBQUthLE1BQ2hCZ0IsRUFBVyxDQUFFbkIsRUFBUSxHQUV6QixHQUFlLEdBQVhBLEdBQWlCTyxFQUFyQixDQUtBLEtBQU1ZLEVBQUt2RCxPQUFTb0MsR0FDWG1CLEVBQUtBLEVBQUt2RCxPQUFPLEdBQUssR0FDNUJ1RCxFQUFLcEIsS0FBS29CLEVBQUtBLEVBQUt2RCxPQUFPLEdBQUssR0FHbkMsSUFBeUN3RCxFQUFtQmIsRUFBM0NqQixLQUFLRyxRQUFRZixVQUU5QnlCLEVBQU1mLEtBQUssU0FBU2lDLEVBQUtDLEVBQUs1QyxHQUMxQkEsR0FBZ0QsR0FBcEN5QyxFQUFLSSxTQUFTRixFQUFJLEdBQUtyQixHQUFpQm9CLEVBQW1CQSxFQUFtQixFQUMxRjdELEVBQUc0QixFQUFFRyxNQUFNVyxJQUFJLFlBQWEsaUJBQWlCLEVBQVksaUJBYnpERSxFQUFNRixJQUFJLFlBQWEiLCJmaWxlIjoiY29tcG9uZW50cy9ncmlkLXBhcmFsbGF4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohIFVJa2l0IDIuMjcuMiB8IGh0dHA6Ly93d3cuZ2V0dWlraXQuY29tIHwgKGMpIDIwMTQgWU9PdGhlbWUgfCBNSVQgTGljZW5zZSAqL1xyXG4oZnVuY3Rpb24oYWRkb24pIHtcclxuXHJcbiAgICB2YXIgY29tcG9uZW50O1xyXG5cclxuICAgIGlmICh3aW5kb3cuVUlraXQyKSB7XHJcbiAgICAgICAgY29tcG9uZW50ID0gYWRkb24oVUlraXQyKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcclxuICAgICAgICBkZWZpbmUoJ3Vpa2l0LWdyaWQtcGFyYWxsYXgnLCBbJ3Vpa2l0J10sIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQgfHwgYWRkb24oVUlraXQyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn0pKGZ1bmN0aW9uKFVJKXtcclxuXHJcbiAgICB2YXIgcGFyYWxsYXhlcyAgPSBbXSwgY2hlY2tQYXJhbGxheGVzID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGk9MDsgaSA8IHBhcmFsbGF4ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbGxheGVzW2ldLnByb2Nlc3MoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcblxyXG4gICAgVUkuY29tcG9uZW50KCdncmlkcGFyYWxsYXgnLCB7XHJcblxyXG4gICAgICAgIGRlZmF1bHRzOiB7XHJcbiAgICAgICAgICAgIHRhcmdldCAgICA6IGZhbHNlLFxyXG4gICAgICAgICAgICBzbW9vdGggICAgOiAxNTAsXHJcbiAgICAgICAgICAgIHRyYW5zbGF0ZSA6IDE1MFxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGJvb3Q6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgLy8gbGlzdGVuIHRvIHNjcm9sbCBhbmQgcmVzaXplXHJcbiAgICAgICAgICAgIFVJLiRkb2Mub24oJ3Njcm9sbGluZy51ay5kb2N1bWVudCcsIGNoZWNrUGFyYWxsYXhlcyk7XHJcbiAgICAgICAgICAgIFVJLiR3aW4ub24oJ2xvYWQgcmVzaXplIG9yaWVudGF0aW9uY2hhbmdlJywgVUkuVXRpbHMuZGVib3VuY2UoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGNoZWNrUGFyYWxsYXhlcygpO1xyXG4gICAgICAgICAgICB9LCA1MCkpO1xyXG5cclxuICAgICAgICAgICAgLy8gaW5pdCBjb2RlXHJcbiAgICAgICAgICAgIFVJLnJlYWR5KGZ1bmN0aW9uKGNvbnRleHQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBVSS4kKCdbZGF0YS11ay1ncmlkLXBhcmFsbGF4XScsIGNvbnRleHQpLmVhY2goZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJhbGxheCA9IFVJLiQodGhpcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFyYWxsYXguZGF0YSgnZ3JpZHBhcmFsbGF4JykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVUkuZ3JpZHBhcmFsbGF4KHBhcmFsbGF4LCBVSS5VdGlscy5vcHRpb25zKHBhcmFsbGF4LmF0dHIoJ2RhdGEtdWstZ3JpZC1wYXJhbGxheCcpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgICAgdmFyICR0aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaW5pdEl0ZW1zKCkucHJvY2VzcygpO1xyXG4gICAgICAgICAgICBwYXJhbGxheGVzLnB1c2godGhpcyk7XHJcblxyXG4gICAgICAgICAgICBVSS4kd2luLm9uKCdsb2FkIHJlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZScsIChmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZm4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1ucyAgPSBnZXRjb2x1bW5zKCR0aGlzLmVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5lbGVtZW50LmNzcygnbWFyZ2luLWJvdHRvbScsICcnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbHVtbnMgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR0aGlzLmVsZW1lbnQuY3NzKCdtYXJnaW4tYm90dG9tJywgJHRoaXMub3B0aW9ucy50cmFuc2xhdGUgKyBwYXJzZUludCgkdGhpcy5lbGVtZW50LmNzcygnbWFyZ2luLWJvdHRvbScpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBVSS4kKGZ1bmN0aW9uKCkgeyBmbigpOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gVUkuVXRpbHMuZGVib3VuY2UoZm4sIDUwKTtcclxuICAgICAgICAgICAgfSkoKSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaW5pdEl0ZW1zOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgICAgIHZhciBzbW9vdGggPSB0aGlzLm9wdGlvbnMuc21vb3RoO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pdGVtcyA9ICh0aGlzLm9wdGlvbnMudGFyZ2V0ID8gdGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLnRhcmdldCkgOiB0aGlzLmVsZW1lbnQuY2hpbGRyZW4oKSkuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgVUkuJCh0aGlzKS5jc3Moe1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246ICd0cmFuc2Zvcm0gJytzbW9vdGgrJ21zIGxpbmVhcicsXHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAnJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcHJvY2VzczogZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgcGVyY2VudCAgPSBwZXJjZW50YWdlSW5WaWV3cG9ydCh0aGlzLmVsZW1lbnQpLFxyXG4gICAgICAgICAgICAgICAgY29sdW1ucyAgPSBnZXRjb2x1bW5zKHRoaXMuZWxlbWVudCksXHJcbiAgICAgICAgICAgICAgICBpdGVtcyAgICA9IHRoaXMuaXRlbXMsXHJcbiAgICAgICAgICAgICAgICBtb2RzICAgICA9IFsoY29sdW1ucy0xKV07XHJcblxyXG4gICAgICAgICAgICBpZiAoY29sdW1ucyA9PSAxIHx8ICFwZXJjZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtcy5jc3MoJ3RyYW5zZm9ybScsICcnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgd2hpbGUobW9kcy5sZW5ndGggPCBjb2x1bW5zKSB7XHJcbiAgICAgICAgICAgICAgIGlmICghKG1vZHNbbW9kcy5sZW5ndGgtMV0gLSAyKSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgIG1vZHMucHVzaChtb2RzW21vZHMubGVuZ3RoLTFdIC0gMik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGUgID0gdGhpcy5vcHRpb25zLnRyYW5zbGF0ZSwgcGVyY2VudHRyYW5zbGF0ZSA9IHBlcmNlbnQgKiB0cmFuc2xhdGU7XHJcblxyXG4gICAgICAgICAgICBpdGVtcy5lYWNoKGZ1bmN0aW9uKGlkeCwgZWxlLCB0cmFuc2xhdGUpe1xyXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlID0gbW9kcy5pbmRleE9mKChpZHgrMSkgJSBjb2x1bW5zKSAhPSAtMSA/IHBlcmNlbnR0cmFuc2xhdGUgOiBwZXJjZW50dHJhbnNsYXRlIC8gODtcclxuICAgICAgICAgICAgICAgIFVJLiQodGhpcykuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoMCwnKyh0cmFuc2xhdGUpKydweCwgMCknKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRjb2x1bW5zKGVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gZWxlbWVudC5jaGlsZHJlbigpLFxyXG4gICAgICAgICAgICBmaXJzdCAgICA9IGNoaWxkcmVuLmZpbHRlcignOnZpc2libGU6Zmlyc3QnKSxcclxuICAgICAgICAgICAgdG9wICAgICAgPSBmaXJzdFswXS5vZmZzZXRUb3AgKyBmaXJzdC5vdXRlckhlaWdodCgpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBjb2x1bW49MDtjb2x1bW48Y2hpbGRyZW4ubGVuZ3RoO2NvbHVtbisrKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbltjb2x1bW5dLm9mZnNldFRvcCA+PSB0b3ApICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBjb2x1bW4gfHwgMTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwZXJjZW50YWdlSW5WaWV3cG9ydChlbGVtZW50KSB7XHJcblxyXG4gICAgICAgIHZhciB0b3AgICAgICAgPSBlbGVtZW50Lm9mZnNldCgpLnRvcCxcclxuICAgICAgICAgICAgaGVpZ2h0ICAgID0gZWxlbWVudC5vdXRlckhlaWdodCgpLFxyXG4gICAgICAgICAgICBzY3JvbGx0b3AgPSBVSS4kd2luLnNjcm9sbFRvcCgpLFxyXG4gICAgICAgICAgICB3aCAgICAgICAgPSB3aW5kb3cuaW5uZXJIZWlnaHQsXHJcbiAgICAgICAgICAgIGRpc3RhbmNlLCBwZXJjZW50YWdlLCBwZXJjZW50O1xyXG5cclxuICAgICAgICBpZiAodG9wID4gKHNjcm9sbHRvcCArIHdoKSkge1xyXG4gICAgICAgICAgICBwZXJjZW50ID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKCh0b3AgKyBoZWlnaHQpIDwgc2Nyb2xsdG9wKSB7XHJcbiAgICAgICAgICAgIHBlcmNlbnQgPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICBpZiAoKHRvcCArIGhlaWdodCkgPCB3aCkge1xyXG4gICAgICAgICAgICAgICAgcGVyY2VudCA9IChzY3JvbGx0b3AgPCB3aCA/IHNjcm9sbHRvcCA6IHNjcm9sbHRvcCAtIHdoKSAvICh0b3AraGVpZ2h0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSAgID0gKHNjcm9sbHRvcCArIHdoKSAtIHRvcDtcclxuICAgICAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSBNYXRoLnJvdW5kKGRpc3RhbmNlIC8gKCh3aCArIGhlaWdodCkgLyAxMDApKTtcclxuICAgICAgICAgICAgICAgIHBlcmNlbnQgICAgPSBwZXJjZW50YWdlLzEwMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRvcCA8IHdoKSB7XHJcbiAgICAgICAgICAgICAgICBwZXJjZW50ID0gcGVyY2VudCAqIHNjcm9sbHRvcCAvICgodG9wICsgaGVpZ2h0KSAtIHdoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBlcmNlbnQgPiAxID8gMTpwZXJjZW50O1xyXG4gICAgfVxyXG59KTsiXX0=
