!function(a){"use strict";var i,n=!1,f={x:{"bottom-left":"bottom-right","bottom-right":"bottom-left","bottom-center":"bottom-center","top-left":"top-right","top-right":"top-left","top-center":"top-center","left-top":"right-top","left-bottom":"right-bottom","left-center":"right-center","right-top":"left-top","right-bottom":"left-bottom","right-center":"left-center"},y:{"bottom-left":"top-left","bottom-right":"top-right","bottom-center":"top-center","top-left":"bottom-left","top-right":"bottom-right","top-center":"bottom-center","left-top":"left-bottom","left-bottom":"left-top","left-center":"left-center","right-top":"right-bottom","right-bottom":"right-top","right-center":"right-center"},xy:{"bottom-left":"top-right","bottom-right":"top-left","bottom-center":"top-center","top-left":"bottom-right","top-right":"bottom-left","top-center":"bottom-center","left-top":"right-bottom","left-bottom":"right-top","left-center":"right-center","right-top":"left-bottom","right-bottom":"left-top","right-center":"left-center"}};function u(t,o,e,i){if(t=a.$(t),o=a.$(o),e=e||window.innerWidth,i=i||t.offset(),o.length){var n=o.outerWidth();if(t.css("min-width",n),"right"==a.langdirection){var r=e-(o.offset().left+n),s=e-(t.offset().left+t.outerWidth());t.css("margin-right",r-s)}else t.css("margin-left",o.offset().left-i.left)}}a.component("dropdown",{defaults:{mode:"hover",pos:"bottom-left",offset:0,remaintime:800,justify:!1,boundary:a.$win,delay:0,dropdownSelector:".uk-dropdown,.uk-dropdown-blank",hoverDelayIdle:250,preventflip:!1},remainIdle:!1,boot:function(){var i=a.support.touch?"click":"mouseenter";a.$html.on(i+".dropdown.uikit focus pointerdown","[data-uk-dropdown]",function(t){var o=a.$(this);if(!o.data("dropdown")){var e=a.dropdown(o,a.Utils.options(o.attr("data-uk-dropdown")));("click"==t.type||"mouseenter"==t.type&&"hover"==e.options.mode)&&e.element.trigger(i),e.dropdown.length&&t.preventDefault()}})},init:function(){var e=this;this.dropdown=this.find(this.options.dropdownSelector),this.offsetParent=this.dropdown.parents().filter(function(){return-1!==a.$.inArray(a.$(this).css("position"),["relative","fixed","absolute"])}).slice(0,1),this.offsetParent.length||(this.offsetParent=this.element),this.centered=this.dropdown.hasClass("uk-dropdown-center"),this.justified=!!this.options.justify&&a.$(this.options.justify),this.boundary=a.$(this.options.boundary),this.boundary.length||(this.boundary=a.$win),this.dropdown.hasClass("uk-dropdown-up")&&(this.options.pos="top-left"),this.dropdown.hasClass("uk-dropdown-flip")&&(this.options.pos=this.options.pos.replace("left","right")),this.dropdown.hasClass("uk-dropdown-center")&&(this.options.pos=this.options.pos.replace(/(left|right)/,"center")),this.element.attr("aria-haspopup","true"),this.element.attr("aria-expanded",this.element.hasClass("uk-open")),this.dropdown.attr("aria-hidden","true"),"click"==this.options.mode||a.support.touch?this.on("click.uk.dropdown",function(t){var o=a.$(t.target);o.parents(e.options.dropdownSelector).length||((o.is("a[href='#']")||o.parent().is("a[href='#']")||e.dropdown.length&&!e.dropdown.is(":visible"))&&t.preventDefault(),o.blur()),e.element.hasClass("uk-open")?(!e.dropdown.find(t.target).length||o.is(".uk-dropdown-close")||o.parents(".uk-dropdown-close").length)&&e.hide():e.show()}):this.on("mouseenter",function(t){e.trigger("pointerenter.uk.dropdown",[e]),e.remainIdle&&clearTimeout(e.remainIdle),i&&clearTimeout(i),n&&n==e||(i=n&&n!=e?setTimeout(function(){i=setTimeout(e.show.bind(e),e.options.delay)},e.options.hoverDelayIdle):setTimeout(e.show.bind(e),e.options.delay))}).on("mouseleave",function(){i&&clearTimeout(i),e.remainIdle=setTimeout(function(){n&&n==e&&e.hide()},e.options.remaintime),e.trigger("pointerleave.uk.dropdown",[e])}).on("click",function(t){var o=a.$(t.target);e.remainIdle&&clearTimeout(e.remainIdle),n&&n==e?(!e.dropdown.find(t.target).length||o.is(".uk-dropdown-close")||o.parents(".uk-dropdown-close").length)&&e.hide():((o.is("a[href='#']")||o.parent().is("a[href='#']"))&&t.preventDefault(),e.show())})},show:function(){a.$html.off("click.outer.dropdown"),n&&n!=this&&n.hide(!0),i&&clearTimeout(i),this.trigger("beforeshow.uk.dropdown",[this]),this.checkDimensions(),this.element.addClass("uk-open"),this.element.attr("aria-expanded","true"),this.dropdown.attr("aria-hidden","false"),this.trigger("show.uk.dropdown",[this]),a.Utils.checkDisplay(this.dropdown,!0),a.Utils.focus(this.dropdown),(n=this).registerOuterClick()},hide:function(t){this.trigger("beforehide.uk.dropdown",[this,t]),this.element.removeClass("uk-open"),this.remainIdle&&clearTimeout(this.remainIdle),this.remainIdle=!1,this.element.attr("aria-expanded","false"),this.dropdown.attr("aria-hidden","true"),this.trigger("hide.uk.dropdown",[this,t]),n==this&&(n=!1)},registerOuterClick:function(){var o=this;a.$html.off("click.outer.dropdown"),setTimeout(function(){a.$html.on("click.outer.dropdown",function(t){i&&clearTimeout(i);a.$(t.target);n!=o||o.element.find(t.target).length||(o.hide(!0),a.$html.off("click.outer.dropdown"))})},10)},checkDimensions:function(){if(this.dropdown.length){this.dropdown.removeClass("uk-dropdown-top uk-dropdown-bottom uk-dropdown-left uk-dropdown-right uk-dropdown-stack uk-dropdown-autoflip").css({topLeft:"",left:"",marginLeft:"",marginRight:""}),this.justified&&this.justified.length&&this.dropdown.css("min-width","");var t,o=a.$.extend({},this.offsetParent.offset(),{width:this.offsetParent[0].offsetWidth,height:this.offsetParent[0].offsetHeight}),e=this.options.offset,i=this.dropdown,n=(i.show().offset(),i.outerWidth()),r=i.outerHeight(),s=this.boundary.width(),d=(this.boundary[0]!==window&&this.boundary.offset()&&this.boundary.offset(),this.options.pos),h={"bottom-left":{top:0+o.height+e,left:0},"bottom-right":{top:0+o.height+e,left:0+o.width-n},"bottom-center":{top:0+o.height+e,left:0+o.width/2-n/2},"top-left":{top:0-r-e,left:0},"top-right":{top:0-r-e,left:0+o.width-n},"top-center":{top:0-r-e,left:0+o.width/2-n/2},"left-top":{top:0,left:0-n-e},"left-bottom":{top:0+o.height-r,left:0-n-e},"left-center":{top:0+o.height/2-r/2,left:0-n-e},"right-top":{top:0,left:0+o.width+e},"right-bottom":{top:0+o.height-r,left:0+o.width+e},"right-center":{top:0+o.height/2-r/2,left:0+o.width+e}},p={};if(t=d.split("-"),p=h[d]?h[d]:h["bottom-left"],this.justified&&this.justified.length)u(i.css({left:0}),this.justified,s);else if(!0!==this.options.preventflip){var l;switch(this.checkBoundary(o.left+p.left,o.top+p.top,n,r,s)){case"x":"x"!==this.options.preventflip&&(l=f.x[d]||"right-top");break;case"y":"y"!==this.options.preventflip&&(l=f.y[d]||"top-left");break;case"xy":this.options.preventflip||(l=f.xy[d]||"right-bottom")}l&&(t=l.split("-"),p=h[l]?h[l]:h["bottom-left"],i.addClass("uk-dropdown-autoflip"),this.checkBoundary(o.left+p.left,o.top+p.top,n,r,s)&&(t=d.split("-"),p=h[d]?h[d]:h["bottom-left"]))}s<n&&(i.addClass("uk-dropdown-stack"),this.trigger("stack.uk.dropdown",[this])),i.css(p).css("display","").addClass("uk-dropdown-"+t[0])}},checkBoundary:function(t,o,e,i,n){var r="";return(t<0||t-a.$win.scrollLeft()+e>n)&&(r+="x"),(o-a.$win.scrollTop()<0||o-a.$win.scrollTop()+i>window.innerHeight)&&(r+="y"),r}}),a.component("dropdownOverlay",{defaults:{justify:!1,cls:"",duration:200},boot:function(){a.ready(function(t){a.$("[data-uk-dropdown-overlay]",t).each(function(){var t=a.$(this);t.data("dropdownOverlay")||a.dropdownOverlay(t,a.Utils.options(t.attr("data-uk-dropdown-overlay")))})})},init:function(){var i=this;this.justified=!!this.options.justify&&a.$(this.options.justify),this.overlay=this.element.find("uk-dropdown-overlay"),this.overlay.length||(this.overlay=a.$('<div class="uk-dropdown-overlay"></div>').appendTo(this.element)),this.overlay.addClass(this.options.cls),this.on({"beforeshow.uk.dropdown":function(t,o){i.dropdown=o,i.justified&&i.justified.length&&u(i.overlay.css({display:"block",marginLeft:"",marginRight:""}),i.justified,i.justified.outerWidth())},"show.uk.dropdown":function(t,o){var e=i.dropdown.dropdown.outerHeight(!0);i.dropdown.element.removeClass("uk-open"),i.overlay.stop().css("display","block").animate({height:e},i.options.duration,function(){i.dropdown.dropdown.css("visibility",""),i.dropdown.element.addClass("uk-open"),a.Utils.checkDisplay(i.dropdown.dropdown,!0)}),i.pointerleave=!1},"hide.uk.dropdown":function(){i.overlay.stop().animate({height:0},i.options.duration)},"pointerenter.uk.dropdown":function(t,o){clearTimeout(i.remainIdle)},"pointerleave.uk.dropdown":function(t,o){i.pointerleave=!0}}),this.overlay.on({mouseenter:function(){i.remainIdle&&(clearTimeout(i.dropdown.remainIdle),clearTimeout(i.remainIdle))},mouseleave:function(){i.pointerleave&&n&&(i.remainIdle=setTimeout(function(){n&&n.hide()},n.options.remaintime))}})}})}(UIkit2);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvZHJvcGRvd24uanMiXSwibmFtZXMiOlsiVUkiLCJob3ZlcklkbGUiLCJhY3RpdmUiLCJmbGlwcyIsIngiLCJib3R0b20tbGVmdCIsImJvdHRvbS1yaWdodCIsImJvdHRvbS1jZW50ZXIiLCJ0b3AtbGVmdCIsInRvcC1yaWdodCIsInRvcC1jZW50ZXIiLCJsZWZ0LXRvcCIsImxlZnQtYm90dG9tIiwibGVmdC1jZW50ZXIiLCJyaWdodC10b3AiLCJyaWdodC1ib3R0b20iLCJyaWdodC1jZW50ZXIiLCJ5IiwieHkiLCJqdXN0aWZ5IiwiZWxlIiwianVzdGlmeVRvIiwiYm91bmRhcnl3aWR0aCIsIm9mZnNldCIsIiQiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwibGVuZ3RoIiwiandpZHRoIiwib3V0ZXJXaWR0aCIsImNzcyIsImxhbmdkaXJlY3Rpb24iLCJyaWdodDEiLCJsZWZ0IiwicmlnaHQyIiwiY29tcG9uZW50IiwiZGVmYXVsdHMiLCJtb2RlIiwicG9zIiwicmVtYWludGltZSIsImJvdW5kYXJ5IiwiJHdpbiIsImRlbGF5IiwiZHJvcGRvd25TZWxlY3RvciIsImhvdmVyRGVsYXlJZGxlIiwicHJldmVudGZsaXAiLCJyZW1haW5JZGxlIiwiYm9vdCIsInRyaWdnZXJldmVudCIsInN1cHBvcnQiLCJ0b3VjaCIsIiRodG1sIiwib24iLCJlIiwidGhpcyIsImRhdGEiLCJkcm9wZG93biIsIlV0aWxzIiwib3B0aW9ucyIsImF0dHIiLCJ0eXBlIiwiZWxlbWVudCIsInRyaWdnZXIiLCJwcmV2ZW50RGVmYXVsdCIsImluaXQiLCIkdGhpcyIsImZpbmQiLCJvZmZzZXRQYXJlbnQiLCJwYXJlbnRzIiwiZmlsdGVyIiwiaW5BcnJheSIsInNsaWNlIiwiY2VudGVyZWQiLCJoYXNDbGFzcyIsImp1c3RpZmllZCIsInJlcGxhY2UiLCIkdGFyZ2V0IiwidGFyZ2V0IiwiaXMiLCJwYXJlbnQiLCJibHVyIiwiaGlkZSIsInNob3ciLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYmluZCIsIm9mZiIsImNoZWNrRGltZW5zaW9ucyIsImFkZENsYXNzIiwiY2hlY2tEaXNwbGF5IiwiZm9jdXMiLCJyZWdpc3Rlck91dGVyQ2xpY2siLCJmb3JjZSIsInJlbW92ZUNsYXNzIiwidG9wTGVmdCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsInBwIiwiZXh0ZW5kIiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsInBvc29mZnNldCIsIm91dGVySGVpZ2h0IiwiZHBvcyIsInZhcmlhbnRzIiwidG9wIiwic3BsaXQiLCJmZHBvcyIsImNoZWNrQm91bmRhcnkiLCJheGlzIiwic2Nyb2xsTGVmdCIsInNjcm9sbFRvcCIsImlubmVySGVpZ2h0IiwiY2xzIiwiZHVyYXRpb24iLCJyZWFkeSIsImNvbnRleHQiLCJlYWNoIiwiZHJvcGRvd25PdmVybGF5Iiwib3ZlcmxheSIsImFwcGVuZFRvIiwiYmVmb3Jlc2hvdy51ay5kcm9wZG93biIsImRpc3BsYXkiLCJzaG93LnVrLmRyb3Bkb3duIiwiaCIsInN0b3AiLCJhbmltYXRlIiwicG9pbnRlcmxlYXZlIiwiaGlkZS51ay5kcm9wZG93biIsInBvaW50ZXJlbnRlci51ay5kcm9wZG93biIsInBvaW50ZXJsZWF2ZS51ay5kcm9wZG93biIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIiwiVUlraXQyIl0sIm1hcHBpbmdzIjoiQ0FDQSxTQUFVQSxHQUVOLGFBRUEsSUFBb0JDLEVBQWhCQyxHQUFTLEVBQWtCQyxFQUFRLENBQ25DQyxFQUFHLENBQ0NDLGNBQWtCLGVBQ2xCQyxlQUFrQixjQUNsQkMsZ0JBQWtCLGdCQUNsQkMsV0FBa0IsWUFDbEJDLFlBQWtCLFdBQ2xCQyxhQUFrQixhQUNsQkMsV0FBa0IsWUFDbEJDLGNBQWtCLGVBQ2xCQyxjQUFrQixlQUNsQkMsWUFBa0IsV0FDbEJDLGVBQWtCLGNBQ2xCQyxlQUFrQixlQUV0QkMsRUFBRyxDQUNDWixjQUFrQixXQUNsQkMsZUFBa0IsWUFDbEJDLGdC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bkIsbUJBamYxQyxDQW9oQkdnRyIsImZpbGUiOiJjb3JlL2Ryb3Bkb3duLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohIFVJa2l0IDIuMjcuMiB8IGh0dHA6Ly93d3cuZ2V0dWlraXQuY29tIHwgKGMpIDIwMTQgWU9PdGhlbWUgfCBNSVQgTGljZW5zZSAqL1xuKGZ1bmN0aW9uKFVJKSB7XG5cbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIHZhciBhY3RpdmUgPSBmYWxzZSwgaG92ZXJJZGxlLCBmbGlwcyA9IHtcbiAgICAgICAgeDoge1xuICAgICAgICAgICAgJ2JvdHRvbS1sZWZ0JyAgIDogJ2JvdHRvbS1yaWdodCcsXG4gICAgICAgICAgICAnYm90dG9tLXJpZ2h0JyAgOiAnYm90dG9tLWxlZnQnLFxuICAgICAgICAgICAgJ2JvdHRvbS1jZW50ZXInIDogJ2JvdHRvbS1jZW50ZXInLFxuICAgICAgICAgICAgJ3RvcC1sZWZ0JyAgICAgIDogJ3RvcC1yaWdodCcsXG4gICAgICAgICAgICAndG9wLXJpZ2h0JyAgICAgOiAndG9wLWxlZnQnLFxuICAgICAgICAgICAgJ3RvcC1jZW50ZXInICAgIDogJ3RvcC1jZW50ZXInLFxuICAgICAgICAgICAgJ2xlZnQtdG9wJyAgICAgIDogJ3JpZ2h0LXRvcCcsXG4gICAgICAgICAgICAnbGVmdC1ib3R0b20nICAgOiAncmlnaHQtYm90dG9tJyxcbiAgICAgICAgICAgICdsZWZ0LWNlbnRlcicgICA6ICdyaWdodC1jZW50ZXInLFxuICAgICAgICAgICAgJ3JpZ2h0LXRvcCcgICAgIDogJ2xlZnQtdG9wJyxcbiAgICAgICAgICAgICdyaWdodC1ib3R0b20nICA6ICdsZWZ0LWJvdHRvbScsXG4gICAgICAgICAgICAncmlnaHQtY2VudGVyJyAgOiAnbGVmdC1jZW50ZXInXG4gICAgICAgIH0sXG4gICAgICAgIHk6IHtcbiAgICAgICAgICAgICdib3R0b20tbGVmdCcgICA6ICd0b3AtbGVmdCcsXG4gICAgICAgICAgICAnYm90dG9tLXJpZ2h0JyAgOiAndG9wLXJpZ2h0JyxcbiAgICAgICAgICAgICdib3R0b20tY2VudGVyJyA6ICd0b3AtY2VudGVyJyxcbiAgICAgICAgICAgICd0b3AtbGVmdCcgICAgICA6ICdib3R0b20tbGVmdCcsXG4gICAgICAgICAgICAndG9wLXJpZ2h0JyAgICAgOiAnYm90dG9tLXJpZ2h0JyxcbiAgICAgICAgICAgICd0b3AtY2VudGVyJyAgICA6ICdib3R0b20tY2VudGVyJyxcbiAgICAgICAgICAgICdsZWZ0LXRvcCcgICAgICA6ICdsZWZ0LWJvdHRvbScsXG4gICAgICAgICAgICAnbGVmdC1ib3R0b20nICAgOiAnbGVmdC10b3AnLFxuICAgICAgICAgICAgJ2xlZnQtY2VudGVyJyAgIDogJ2xlZnQtY2VudGVyJyxcbiAgICAgICAgICAgICdyaWdodC10b3AnICAgICA6ICdyaWdodC1ib3R0b20nLFxuICAgICAgICAgICAgJ3JpZ2h0LWJvdHRvbScgIDogJ3JpZ2h0LXRvcCcsXG4gICAgICAgICAgICAncmlnaHQtY2VudGVyJyAgOiAncmlnaHQtY2VudGVyJ1xuICAgICAgICB9LFxuICAgICAgICB4eToge1xuICAgICAgICAgICAgJ2JvdHRvbS1sZWZ0JyAgIDogJ3RvcC1yaWdodCcsXG4gICAgICAgICAgICAnYm90dG9tLXJpZ2h0JyAgOiAndG9wLWxlZnQnLFxuICAgICAgICAgICAgJ2JvdHRvbS1jZW50ZXInIDogJ3RvcC1jZW50ZXInLFxuICAgICAgICAgICAgJ3RvcC1sZWZ0JyAgICAgIDogJ2JvdHRvbS1yaWdodCcsXG4gICAgICAgICAgICAndG9wLXJpZ2h0JyAgICAgOiAnYm90dG9tLWxlZnQnLFxuICAgICAgICAgICAgJ3RvcC1jZW50ZXInICAgIDogJ2JvdHRvbS1jZW50ZXInLFxuICAgICAgICAgICAgJ2xlZnQtdG9wJyAgICAgIDogJ3JpZ2h0LWJvdHRvbScsXG4gICAgICAgICAgICAnbGVmdC1ib3R0b20nICAgOiAncmlnaHQtdG9wJyxcbiAgICAgICAgICAgICdsZWZ0LWNlbnRlcicgICA6ICdyaWdodC1jZW50ZXInLFxuICAgICAgICAgICAgJ3JpZ2h0LXRvcCcgICAgIDogJ2xlZnQtYm90dG9tJyxcbiAgICAgICAgICAgICdyaWdodC1ib3R0b20nICA6ICdsZWZ0LXRvcCcsXG4gICAgICAgICAgICAncmlnaHQtY2VudGVyJyAgOiAnbGVmdC1jZW50ZXInXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVUkuY29tcG9uZW50KCdkcm9wZG93bicsIHtcblxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICBtb2RlICAgICAgICAgICAgOiAnaG92ZXInLFxuICAgICAgICAgICBwb3MgICAgICAgICAgICAgOiAnYm90dG9tLWxlZnQnLFxuICAgICAgICAgICBvZmZzZXQgICAgICAgICAgOiAwLFxuICAgICAgICAgICByZW1haW50aW1lICAgICAgOiA4MDAsXG4gICAgICAgICAgIGp1c3RpZnkgICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICBib3VuZGFyeSAgICAgICAgOiBVSS4kd2luLFxuICAgICAgICAgICBkZWxheSAgICAgICAgICAgOiAwLFxuICAgICAgICAgICBkcm9wZG93blNlbGVjdG9yOiAnLnVrLWRyb3Bkb3duLC51ay1kcm9wZG93bi1ibGFuaycsXG4gICAgICAgICAgIGhvdmVyRGVsYXlJZGxlICA6IDI1MCxcbiAgICAgICAgICAgcHJldmVudGZsaXAgICAgIDogZmFsc2VcbiAgICAgICAgfSxcblxuICAgICAgICByZW1haW5JZGxlOiBmYWxzZSxcblxuICAgICAgICBib290OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyIHRyaWdnZXJldmVudCA9IFVJLnN1cHBvcnQudG91Y2ggPyAnY2xpY2snIDogJ21vdXNlZW50ZXInO1xuXG4gICAgICAgICAgICAvLyBpbml0IGNvZGVcbiAgICAgICAgICAgIFVJLiRodG1sLm9uKHRyaWdnZXJldmVudCsnLmRyb3Bkb3duLnVpa2l0IGZvY3VzIHBvaW50ZXJkb3duJywgJ1tkYXRhLXVrLWRyb3Bkb3duXScsIGZ1bmN0aW9uKGUpIHtcblxuICAgICAgICAgICAgICAgIHZhciBlbGUgPSBVSS4kKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFlbGUuZGF0YSgnZHJvcGRvd24nKSkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBkcm9wZG93biA9IFVJLmRyb3Bkb3duKGVsZSwgVUkuVXRpbHMub3B0aW9ucyhlbGUuYXR0cignZGF0YS11ay1kcm9wZG93bicpKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudHlwZT09J2NsaWNrJyB8fCAoZS50eXBlPT0nbW91c2VlbnRlcicgJiYgZHJvcGRvd24ub3B0aW9ucy5tb2RlPT0naG92ZXInKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJvcGRvd24uZWxlbWVudC50cmlnZ2VyKHRyaWdnZXJldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZHJvcGRvd24uZHJvcGRvd24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyICR0aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5kcm9wZG93biAgICAgPSB0aGlzLmZpbmQodGhpcy5vcHRpb25zLmRyb3Bkb3duU2VsZWN0b3IpO1xuICAgICAgICAgICAgdGhpcy5vZmZzZXRQYXJlbnQgPSB0aGlzLmRyb3Bkb3duLnBhcmVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFVJLiQuaW5BcnJheShVSS4kKHRoaXMpLmNzcygncG9zaXRpb24nKSwgWydyZWxhdGl2ZScsICdmaXhlZCcsICdhYnNvbHV0ZSddKSAhPT0gLTE7XG4gICAgICAgICAgICB9KS5zbGljZSgwLDEpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMub2Zmc2V0UGFyZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0UGFyZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmNlbnRlcmVkICA9IHRoaXMuZHJvcGRvd24uaGFzQ2xhc3MoJ3VrLWRyb3Bkb3duLWNlbnRlcicpO1xuICAgICAgICAgICAgdGhpcy5qdXN0aWZpZWQgPSB0aGlzLm9wdGlvbnMuanVzdGlmeSA/IFVJLiQodGhpcy5vcHRpb25zLmp1c3RpZnkpIDogZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMuYm91bmRhcnkgID0gVUkuJCh0aGlzLm9wdGlvbnMuYm91bmRhcnkpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuYm91bmRhcnkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ib3VuZGFyeSA9IFVJLiR3aW47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGxlZ2FjeSBERVBSRUNBVEVEIVxuICAgICAgICAgICAgaWYgKHRoaXMuZHJvcGRvd24uaGFzQ2xhc3MoJ3VrLWRyb3Bkb3duLXVwJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucG9zID0gJ3RvcC1sZWZ0JztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmRyb3Bkb3duLmhhc0NsYXNzKCd1ay1kcm9wZG93bi1mbGlwJykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMucG9zID0gdGhpcy5vcHRpb25zLnBvcy5yZXBsYWNlKCdsZWZ0JywncmlnaHQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmRyb3Bkb3duLmhhc0NsYXNzKCd1ay1kcm9wZG93bi1jZW50ZXInKSkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5wb3MgPSB0aGlzLm9wdGlvbnMucG9zLnJlcGxhY2UoLyhsZWZ0fHJpZ2h0KS8sJ2NlbnRlcicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8tLSBlbmQgbGVnYWN5XG5cbiAgICAgICAgICAgIC8vIEluaXQgQVJJQVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmF0dHIoJ2FyaWEtaGFzcG9wdXAnLCAndHJ1ZScpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0aGlzLmVsZW1lbnQuaGFzQ2xhc3MoJ3VrLW9wZW4nKSk7XG4gICAgICAgICAgICB0aGlzLmRyb3Bkb3duLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5tb2RlID09ICdjbGljaycgfHwgVUkuc3VwcG9ydC50b3VjaCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5vbignY2xpY2sudWsuZHJvcGRvd24nLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICR0YXJnZXQgPSBVSS4kKGUudGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoISR0YXJnZXQucGFyZW50cygkdGhpcy5vcHRpb25zLmRyb3Bkb3duU2VsZWN0b3IpLmxlbmd0aCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHRhcmdldC5pcyhcImFbaHJlZj0nIyddXCIpIHx8ICR0YXJnZXQucGFyZW50KCkuaXMoXCJhW2hyZWY9JyMnXVwiKSB8fCAoJHRoaXMuZHJvcGRvd24ubGVuZ3RoICYmICEkdGhpcy5kcm9wZG93bi5pcygnOnZpc2libGUnKSkgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICR0YXJnZXQuYmx1cigpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkdGhpcy5lbGVtZW50Lmhhc0NsYXNzKCd1ay1vcGVuJykpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHRoaXMuZHJvcGRvd24uZmluZChlLnRhcmdldCkubGVuZ3RoIHx8ICR0YXJnZXQuaXMoJy51ay1kcm9wZG93bi1jbG9zZScpIHx8ICR0YXJnZXQucGFyZW50cygnLnVrLWRyb3Bkb3duLWNsb3NlJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLnRyaWdnZXIoJ3BvaW50ZXJlbnRlci51ay5kcm9wZG93bicsIFskdGhpc10pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkdGhpcy5yZW1haW5JZGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoJHRoaXMucmVtYWluSWRsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoaG92ZXJJZGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaG92ZXJJZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmUgJiYgYWN0aXZlID09ICR0aGlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBwc2V1ZG8gbWFudUFpbVxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlICYmIGFjdGl2ZSAhPSAkdGhpcykge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBob3ZlcklkbGUgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVySWRsZSA9IHNldFRpbWVvdXQoJHRoaXMuc2hvdy5iaW5kKCR0aGlzKSwgJHRoaXMub3B0aW9ucy5kZWxheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAkdGhpcy5vcHRpb25zLmhvdmVyRGVsYXlJZGxlKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBob3ZlcklkbGUgPSBzZXRUaW1lb3V0KCR0aGlzLnNob3cuYmluZCgkdGhpcyksICR0aGlzLm9wdGlvbnMuZGVsYXkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9KS5vbignbW91c2VsZWF2ZScsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChob3ZlcklkbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChob3ZlcklkbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJHRoaXMucmVtYWluSWRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlICYmIGFjdGl2ZSA9PSAkdGhpcykgJHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCAkdGhpcy5vcHRpb25zLnJlbWFpbnRpbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICR0aGlzLnRyaWdnZXIoJ3BvaW50ZXJsZWF2ZS51ay5kcm9wZG93bicsIFskdGhpc10pO1xuXG4gICAgICAgICAgICAgICAgfSkub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyICR0YXJnZXQgPSBVSS4kKGUudGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJHRoaXMucmVtYWluSWRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCR0aGlzLnJlbWFpbklkbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSAmJiBhY3RpdmUgPT0gJHRoaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghJHRoaXMuZHJvcGRvd24uZmluZChlLnRhcmdldCkubGVuZ3RoIHx8ICR0YXJnZXQuaXMoJy51ay1kcm9wZG93bi1jbG9zZScpIHx8ICR0YXJnZXQucGFyZW50cygnLnVrLWRyb3Bkb3duLWNsb3NlJykubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCR0YXJnZXQuaXMoXCJhW2hyZWY9JyMnXVwiKSB8fCAkdGFyZ2V0LnBhcmVudCgpLmlzKFwiYVtocmVmPScjJ11cIikpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuc2hvdygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIFVJLiRodG1sLm9mZignY2xpY2sub3V0ZXIuZHJvcGRvd24nKTtcblxuICAgICAgICAgICAgaWYgKGFjdGl2ZSAmJiBhY3RpdmUgIT0gdGhpcykge1xuICAgICAgICAgICAgICAgIGFjdGl2ZS5oaWRlKHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaG92ZXJJZGxlKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhvdmVySWRsZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignYmVmb3Jlc2hvdy51ay5kcm9wZG93bicsIFt0aGlzXSk7XG5cbiAgICAgICAgICAgIHRoaXMuY2hlY2tEaW1lbnNpb25zKCk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkQ2xhc3MoJ3VrLW9wZW4nKTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIEFSSUFcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ3RydWUnKTtcbiAgICAgICAgICAgIHRoaXMuZHJvcGRvd24uYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcblxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdzaG93LnVrLmRyb3Bkb3duJywgW3RoaXNdKTtcblxuICAgICAgICAgICAgVUkuVXRpbHMuY2hlY2tEaXNwbGF5KHRoaXMuZHJvcGRvd24sIHRydWUpO1xuICAgICAgICAgICAgVUkuVXRpbHMuZm9jdXModGhpcy5kcm9wZG93bik7XG4gICAgICAgICAgICBhY3RpdmUgPSB0aGlzO1xuXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyT3V0ZXJDbGljaygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uKGZvcmNlKSB7XG5cbiAgICAgICAgICAgIHRoaXMudHJpZ2dlcignYmVmb3JlaGlkZS51ay5kcm9wZG93bicsIFt0aGlzLCBmb3JjZV0pO1xuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlQ2xhc3MoJ3VrLW9wZW4nKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucmVtYWluSWRsZSkge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnJlbWFpbklkbGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlbWFpbklkbGUgPSBmYWxzZTtcblxuICAgICAgICAgICAgLy8gVXBkYXRlIEFSSUFcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgICB0aGlzLmRyb3Bkb3duLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcblxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdoaWRlLnVrLmRyb3Bkb3duJywgW3RoaXMsIGZvcmNlXSk7XG5cbiAgICAgICAgICAgIGlmIChhY3RpdmUgPT0gdGhpcykgYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVnaXN0ZXJPdXRlckNsaWNrOiBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICB2YXIgJHRoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICBVSS4kaHRtbC5vZmYoJ2NsaWNrLm91dGVyLmRyb3Bkb3duJyk7XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBVSS4kaHRtbC5vbignY2xpY2sub3V0ZXIuZHJvcGRvd24nLCBmdW5jdGlvbihlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhvdmVySWRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGhvdmVySWRsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgJHRhcmdldCA9IFVJLiQoZS50YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmUgPT0gJHRoaXMgJiYgISR0aGlzLmVsZW1lbnQuZmluZChlLnRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5oaWRlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgVUkuJGh0bWwub2ZmKCdjbGljay5vdXRlci5kcm9wZG93bicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2hlY2tEaW1lbnNpb25zOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmRyb3Bkb3duLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyByZXNldFxuICAgICAgICAgICAgdGhpcy5kcm9wZG93bi5yZW1vdmVDbGFzcygndWstZHJvcGRvd24tdG9wIHVrLWRyb3Bkb3duLWJvdHRvbSB1ay1kcm9wZG93bi1sZWZ0IHVrLWRyb3Bkb3duLXJpZ2h0IHVrLWRyb3Bkb3duLXN0YWNrIHVrLWRyb3Bkb3duLWF1dG9mbGlwJykuY3NzKHtcbiAgICAgICAgICAgICAgICB0b3BMZWZ0IDonJyxcbiAgICAgICAgICAgICAgICBsZWZ0IDonJyxcbiAgICAgICAgICAgICAgICBtYXJnaW5MZWZ0IDonJyxcbiAgICAgICAgICAgICAgICBtYXJnaW5SaWdodCA6JydcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5qdXN0aWZpZWQgJiYgdGhpcy5qdXN0aWZpZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wZG93bi5jc3MoJ21pbi13aWR0aCcsICcnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyICR0aGlzICAgICAgICAgID0gdGhpcyxcbiAgICAgICAgICAgICAgICBwb3MgICAgICAgICAgICA9IFVJLiQuZXh0ZW5kKHt9LCB0aGlzLm9mZnNldFBhcmVudC5vZmZzZXQoKSwge3dpZHRoOiB0aGlzLm9mZnNldFBhcmVudFswXS5vZmZzZXRXaWR0aCwgaGVpZ2h0OiB0aGlzLm9mZnNldFBhcmVudFswXS5vZmZzZXRIZWlnaHR9KSxcbiAgICAgICAgICAgICAgICBwb3NvZmZzZXQgICAgICA9IHRoaXMub3B0aW9ucy5vZmZzZXQsXG4gICAgICAgICAgICAgICAgZHJvcGRvd24gICAgICAgPSB0aGlzLmRyb3Bkb3duLFxuICAgICAgICAgICAgICAgIG9mZnNldCAgICAgICAgID0gZHJvcGRvd24uc2hvdygpLm9mZnNldCgpIHx8IHtsZWZ0OiAwLCB0b3A6IDB9LFxuICAgICAgICAgICAgICAgIHdpZHRoICAgICAgICAgID0gZHJvcGRvd24ub3V0ZXJXaWR0aCgpLFxuICAgICAgICAgICAgICAgIGhlaWdodCAgICAgICAgID0gZHJvcGRvd24ub3V0ZXJIZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBib3VuZGFyeXdpZHRoICA9IHRoaXMuYm91bmRhcnkud2lkdGgoKSxcbiAgICAgICAgICAgICAgICBib3VuZGFyeW9mZnNldCA9IHRoaXMuYm91bmRhcnlbMF0gIT09IHdpbmRvdyAmJiB0aGlzLmJvdW5kYXJ5Lm9mZnNldCgpID8gdGhpcy5ib3VuZGFyeS5vZmZzZXQoKToge3RvcDowLCBsZWZ0OjB9LFxuICAgICAgICAgICAgICAgIGRwb3MgICAgICAgICAgID0gdGhpcy5vcHRpb25zLnBvcztcblxuICAgICAgICAgICAgdmFyIHZhcmlhbnRzID0gIHtcbiAgICAgICAgICAgICAgICAgICAgJ2JvdHRvbS1sZWZ0JyAgIDoge3RvcDogMCArIHBvcy5oZWlnaHQgKyBwb3NvZmZzZXQsIGxlZnQ6IDB9LFxuICAgICAgICAgICAgICAgICAgICAnYm90dG9tLXJpZ2h0JyAgOiB7dG9wOiAwICsgcG9zLmhlaWdodCArIHBvc29mZnNldCwgbGVmdDogMCArIHBvcy53aWR0aCAtIHdpZHRofSxcbiAgICAgICAgICAgICAgICAgICAgJ2JvdHRvbS1jZW50ZXInIDoge3RvcDogMCArIHBvcy5oZWlnaHQgKyBwb3NvZmZzZXQsIGxlZnQ6IDAgKyBwb3Mud2lkdGggLyAyIC0gd2lkdGggLyAyfSxcbiAgICAgICAgICAgICAgICAgICAgJ3RvcC1sZWZ0JyAgICAgIDoge3RvcDogMCAtIGhlaWdodCAtIHBvc29mZnNldCwgbGVmdDogMH0sXG4gICAgICAgICAgICAgICAgICAgICd0b3AtcmlnaHQnICAgICA6IHt0b3A6IDAgLSBoZWlnaHQgLSBwb3NvZmZzZXQsIGxlZnQ6IDAgKyBwb3Mud2lkdGggLSB3aWR0aH0sXG4gICAgICAgICAgICAgICAgICAgICd0b3AtY2VudGVyJyAgICA6IHt0b3A6IDAgLSBoZWlnaHQgLSBwb3NvZmZzZXQsIGxlZnQ6IDAgKyBwb3Mud2lkdGggLyAyIC0gd2lkdGggLyAyfSxcbiAgICAgICAgICAgICAgICAgICAgJ2xlZnQtdG9wJyAgICAgIDoge3RvcDogMCwgbGVmdDogMCAtIHdpZHRoIC0gcG9zb2Zmc2V0fSxcbiAgICAgICAgICAgICAgICAgICAgJ2xlZnQtYm90dG9tJyAgIDoge3RvcDogMCArIHBvcy5oZWlnaHQgLSBoZWlnaHQsIGxlZnQ6IDAgLSB3aWR0aCAtIHBvc29mZnNldH0sXG4gICAgICAgICAgICAgICAgICAgICdsZWZ0LWNlbnRlcicgICA6IHt0b3A6IDAgKyBwb3MuaGVpZ2h0IC8gMiAtIGhlaWdodCAvIDIsIGxlZnQ6IDAgLSB3aWR0aCAtIHBvc29mZnNldH0sXG4gICAgICAgICAgICAgICAgICAgICdyaWdodC10b3AnICAgICA6IHt0b3A6IDAsIGxlZnQ6IDAgKyBwb3Mud2lkdGggKyBwb3NvZmZzZXR9LFxuICAgICAgICAgICAgICAgICAgICAncmlnaHQtYm90dG9tJyAgOiB7dG9wOiAwICsgcG9zLmhlaWdodCAtIGhlaWdodCwgbGVmdDogMCArIHBvcy53aWR0aCArIHBvc29mZnNldH0sXG4gICAgICAgICAgICAgICAgICAgICdyaWdodC1jZW50ZXInICA6IHt0b3A6IDAgKyBwb3MuaGVpZ2h0IC8gMiAtIGhlaWdodCAvIDIsIGxlZnQ6IDAgKyBwb3Mud2lkdGggKyBwb3NvZmZzZXR9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjc3MgPSB7fSxcbiAgICAgICAgICAgICAgICBwcDtcblxuICAgICAgICAgICAgcHAgPSBkcG9zLnNwbGl0KCctJyk7XG4gICAgICAgICAgICBjc3MgPSB2YXJpYW50c1tkcG9zXSA/IHZhcmlhbnRzW2Rwb3NdIDogdmFyaWFudHNbJ2JvdHRvbS1sZWZ0J107XG5cbiAgICAgICAgICAgIC8vIGp1c3RpZnkgZHJvcGRvd25cbiAgICAgICAgICAgIGlmICh0aGlzLmp1c3RpZmllZCAmJiB0aGlzLmp1c3RpZmllZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBqdXN0aWZ5KGRyb3Bkb3duLmNzcyh7bGVmdDowfSksIHRoaXMuanVzdGlmaWVkLCBib3VuZGFyeXdpZHRoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnByZXZlbnRmbGlwICE9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZkcG9zO1xuXG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCh0aGlzLmNoZWNrQm91bmRhcnkocG9zLmxlZnQgKyBjc3MubGVmdCwgcG9zLnRvcCArIGNzcy50b3AsIHdpZHRoLCBoZWlnaHQsIGJvdW5kYXJ5d2lkdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMub3B0aW9ucy5wcmV2ZW50ZmxpcCAhPT0neCcpIGZkcG9zID0gZmxpcHNbJ3gnXVtkcG9zXSB8fCAncmlnaHQtdG9wJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5vcHRpb25zLnByZXZlbnRmbGlwICE9PSd5JykgZmRwb3MgPSBmbGlwc1sneSddW2Rwb3NdIHx8ICd0b3AtbGVmdCc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwieHlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5vcHRpb25zLnByZXZlbnRmbGlwKSBmZHBvcyA9IGZsaXBzWyd4eSddW2Rwb3NdIHx8ICdyaWdodC1ib3R0b20nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZkcG9zKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHBwICA9IGZkcG9zLnNwbGl0KCctJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjc3MgPSB2YXJpYW50c1tmZHBvc10gPyB2YXJpYW50c1tmZHBvc10gOiB2YXJpYW50c1snYm90dG9tLWxlZnQnXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyb3Bkb3duLmFkZENsYXNzKCd1ay1kcm9wZG93bi1hdXRvZmxpcCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBmbGlwcGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jaGVja0JvdW5kYXJ5KHBvcy5sZWZ0ICsgY3NzLmxlZnQsIHBvcy50b3AgKyBjc3MudG9wLCB3aWR0aCwgaGVpZ2h0LCBib3VuZGFyeXdpZHRoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBwICA9IGRwb3Muc3BsaXQoJy0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjc3MgPSB2YXJpYW50c1tkcG9zXSA/IHZhcmlhbnRzW2Rwb3NdIDogdmFyaWFudHNbJ2JvdHRvbS1sZWZ0J107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3aWR0aCA+IGJvdW5kYXJ5d2lkdGgpIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bi5hZGRDbGFzcygndWstZHJvcGRvd24tc3RhY2snKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXIoJ3N0YWNrLnVrLmRyb3Bkb3duJywgW3RoaXNdKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZHJvcGRvd24uY3NzKGNzcykuY3NzKCdkaXNwbGF5JywgJycpLmFkZENsYXNzKCd1ay1kcm9wZG93bi0nK3BwWzBdKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGVja0JvdW5kYXJ5OiBmdW5jdGlvbihsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQsIGJvdW5kYXJ5d2lkdGgpIHtcblxuICAgICAgICAgICAgdmFyIGF4aXMgPSBcIlwiO1xuXG4gICAgICAgICAgICBpZiAobGVmdCA8IDAgfHwgKChsZWZ0IC0gVUkuJHdpbi5zY3JvbGxMZWZ0KCkpK3dpZHRoKSA+IGJvdW5kYXJ5d2lkdGgpIHtcbiAgICAgICAgICAgICAgIGF4aXMgKz0gXCJ4XCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgodG9wIC0gVUkuJHdpbi5zY3JvbGxUb3AoKSkgPCAwIHx8ICgodG9wIC0gVUkuJHdpbi5zY3JvbGxUb3AoKSkraGVpZ2h0KSA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xuICAgICAgICAgICAgICAgYXhpcyArPSBcInlcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGF4aXM7XG4gICAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgVUkuY29tcG9uZW50KCdkcm9wZG93bk92ZXJsYXknLCB7XG5cbiAgICAgICAgZGVmYXVsdHM6IHtcbiAgICAgICAgICAganVzdGlmeSA6IGZhbHNlLFxuICAgICAgICAgICBjbHMgICAgIDogJycsXG4gICAgICAgICAgIGR1cmF0aW9uOiAyMDBcbiAgICAgICAgfSxcblxuICAgICAgICBib290OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgLy8gaW5pdCBjb2RlXG4gICAgICAgICAgICBVSS5yZWFkeShmdW5jdGlvbihjb250ZXh0KSB7XG5cbiAgICAgICAgICAgICAgICBVSS4kKCdbZGF0YS11ay1kcm9wZG93bi1vdmVybGF5XScsIGNvbnRleHQpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGUgPSBVSS4kKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghZWxlLmRhdGEoJ2Ryb3Bkb3duT3ZlcmxheScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBVSS5kcm9wZG93bk92ZXJsYXkoZWxlLCBVSS5VdGlscy5vcHRpb25zKGVsZS5hdHRyKCdkYXRhLXVrLWRyb3Bkb3duLW92ZXJsYXknKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyICR0aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5qdXN0aWZpZWQgPSB0aGlzLm9wdGlvbnMuanVzdGlmeSA/IFVJLiQodGhpcy5vcHRpb25zLmp1c3RpZnkpIDogZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkgICA9IHRoaXMuZWxlbWVudC5maW5kKCd1ay1kcm9wZG93bi1vdmVybGF5Jyk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5vdmVybGF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMub3ZlcmxheSA9IFVJLiQoJzxkaXYgY2xhc3M9XCJ1ay1kcm9wZG93bi1vdmVybGF5XCI+PC9kaXY+JykuYXBwZW5kVG8odGhpcy5lbGVtZW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5vdmVybGF5LmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbHMpO1xuXG4gICAgICAgICAgICB0aGlzLm9uKHtcblxuICAgICAgICAgICAgICAgICdiZWZvcmVzaG93LnVrLmRyb3Bkb3duJzogZnVuY3Rpb24oZSwgZHJvcGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZHJvcGRvd24gPSBkcm9wZG93bjtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJHRoaXMuanVzdGlmaWVkICYmICR0aGlzLmp1c3RpZmllZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1c3RpZnkoJHRoaXMub3ZlcmxheS5jc3Moe2Rpc3BsYXk6J2Jsb2NrJywgbWFyZ2luTGVmdDonJywgbWFyZ2luUmlnaHQ6Jyd9KSwgJHRoaXMuanVzdGlmaWVkLCAkdGhpcy5qdXN0aWZpZWQub3V0ZXJXaWR0aCgpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAnc2hvdy51ay5kcm9wZG93bic6IGZ1bmN0aW9uKGUsIGRyb3Bkb3duKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGggPSAkdGhpcy5kcm9wZG93bi5kcm9wZG93bi5vdXRlckhlaWdodCh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5kcm9wZG93bi5lbGVtZW50LnJlbW92ZUNsYXNzKCd1ay1vcGVuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHRoaXMub3ZlcmxheS5zdG9wKCkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJykuYW5pbWF0ZSh7aGVpZ2h0OiBofSwgJHRoaXMub3B0aW9ucy5kdXJhdGlvbiwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMuZHJvcGRvd24uZHJvcGRvd24uY3NzKCd2aXNpYmlsaXR5JywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAkdGhpcy5kcm9wZG93bi5lbGVtZW50LmFkZENsYXNzKCd1ay1vcGVuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgVUkuVXRpbHMuY2hlY2tEaXNwbGF5KCR0aGlzLmRyb3Bkb3duLmRyb3Bkb3duLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJHRoaXMucG9pbnRlcmxlYXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgICdoaWRlLnVrLmRyb3Bkb3duJzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLm92ZXJsYXkuc3RvcCgpLmFuaW1hdGUoe2hlaWdodDogMH0sICR0aGlzLm9wdGlvbnMuZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAncG9pbnRlcmVudGVyLnVrLmRyb3Bkb3duJzogZnVuY3Rpb24oZSwgZHJvcGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KCR0aGlzLnJlbWFpbklkbGUpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAncG9pbnRlcmxlYXZlLnVrLmRyb3Bkb3duJzogZnVuY3Rpb24oZSwgZHJvcGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMucG9pbnRlcmxlYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICB0aGlzLm92ZXJsYXkub24oe1xuXG4gICAgICAgICAgICAgICAgJ21vdXNlZW50ZXInOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCR0aGlzLnJlbWFpbklkbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCgkdGhpcy5kcm9wZG93bi5yZW1haW5JZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCgkdGhpcy5yZW1haW5JZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAnbW91c2VsZWF2ZSc6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCR0aGlzLnBvaW50ZXJsZWF2ZSAmJiBhY3RpdmUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJHRoaXMucmVtYWluSWRsZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBpZihhY3RpdmUpIGFjdGl2ZS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBhY3RpdmUub3B0aW9ucy5yZW1haW50aW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgIH0pO1xuXG5cbiAgICBmdW5jdGlvbiBqdXN0aWZ5KGVsZSwganVzdGlmeVRvLCBib3VuZGFyeXdpZHRoLCBvZmZzZXQpIHtcblxuICAgICAgICBlbGUgICAgICAgICAgID0gVUkuJChlbGUpO1xuICAgICAgICBqdXN0aWZ5VG8gICAgID0gVUkuJChqdXN0aWZ5VG8pO1xuICAgICAgICBib3VuZGFyeXdpZHRoID0gYm91bmRhcnl3aWR0aCB8fCB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgb2Zmc2V0ICAgICAgICA9IG9mZnNldCB8fCBlbGUub2Zmc2V0KCk7XG5cbiAgICAgICAgaWYgKGp1c3RpZnlUby5sZW5ndGgpIHtcblxuICAgICAgICAgICAgdmFyIGp3aWR0aCA9IGp1c3RpZnlUby5vdXRlcldpZHRoKCk7XG5cbiAgICAgICAgICAgIGVsZS5jc3MoJ21pbi13aWR0aCcsIGp3aWR0aCk7XG5cbiAgICAgICAgICAgIGlmIChVSS5sYW5nZGlyZWN0aW9uID09ICdyaWdodCcpIHtcblxuICAgICAgICAgICAgICAgIHZhciByaWdodDEgICA9IGJvdW5kYXJ5d2lkdGggLSAoanVzdGlmeVRvLm9mZnNldCgpLmxlZnQgKyBqd2lkdGgpLFxuICAgICAgICAgICAgICAgICAgICByaWdodDIgICA9IGJvdW5kYXJ5d2lkdGggLSAoZWxlLm9mZnNldCgpLmxlZnQgKyBlbGUub3V0ZXJXaWR0aCgpKTtcblxuICAgICAgICAgICAgICAgIGVsZS5jc3MoJ21hcmdpbi1yaWdodCcsIHJpZ2h0MSAtIHJpZ2h0Mik7XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlLmNzcygnbWFyZ2luLWxlZnQnLCBqdXN0aWZ5VG8ub2Zmc2V0KCkubGVmdCAtIG9mZnNldC5sZWZ0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufSkoVUlraXQyKTsiXX0=
