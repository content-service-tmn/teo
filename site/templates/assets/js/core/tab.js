!function(o){"use strict";o.component("tab",{defaults:{target:">li:not(.uk-tab-responsive, .uk-disabled)",connect:!1,active:0,animation:!1,duration:200,swiping:!0},boot:function(){o.ready(function(t){o.$("[data-uk-tab]",t).each(function(){var t=o.$(this);if(!t.data("tab"))o.tab(t,o.Utils.options(t.attr("data-uk-tab")))})})},init:function(){var e=this;this.current=!1,this.on("click.uk.tab",this.options.target,function(t){if(t.preventDefault(),!e.switcher||!e.switcher.animating){var i=e.find(e.options.target).not(this);i.removeClass("uk-active").blur(),e.trigger("change.uk.tab",[o.$(this).addClass("uk-active"),e.current]),e.current=o.$(this),e.options.connect||(i.attr("aria-expanded","false"),o.$(this).attr("aria-expanded","true"))}}),this.options.connect&&(this.connect=o.$(this.options.connect)),this.responsivetab=o.$('<li class="uk-tab-responsive uk-active"><a></a></li>').append('<div class="uk-dropdown uk-dropdown-small"><ul class="uk-nav uk-nav-dropdown"></ul><div>'),this.responsivetab.dropdown=this.responsivetab.find(".uk-dropdown"),this.responsivetab.lst=this.responsivetab.dropdown.find("ul"),this.responsivetab.caption=this.responsivetab.find("a:first"),this.element.hasClass("uk-tab-bottom")&&this.responsivetab.dropdown.addClass("uk-dropdown-up"),this.responsivetab.lst.on("click.uk.tab","a",function(t){t.preventDefault(),t.stopPropagation();var i=o.$(this);e.element.children("li:not(.uk-tab-responsive)").eq(i.data("index")).trigger("click")}),this.on("show.uk.switcher change.uk.tab",function(t,i){e.responsivetab.caption.html(i.text())}),this.element.append(this.responsivetab),this.options.connect&&(this.switcher=o.switcher(this.element,{toggle:">li:not(.uk-tab-responsive)",connect:this.options.connect,active:this.options.active,animation:this.options.animation,duration:this.options.duration,swiping:this.options.swiping})),o.dropdown(this.responsivetab,{mode:"click",preventflip:"y"}),e.trigger("change.uk.tab",[this.element.find(this.options.target).not(".uk-tab-responsive").filter(".uk-active")]),this.check(),o.$win.on("resize orientationchange",o.Utils.debounce(function(){e.element.is(":visible")&&e.check()},100)),this.on("display.uk.check",function(){e.element.is(":visible")&&e.check()})},check:function(){var t=this.element.children("li:not(.uk-tab-responsive)").removeClass("uk-hidden");if(t.length){var i,e,s=t.eq(0).offset().top+Math.ceil(t.eq(0).height()/2),n=!1;if(this.responsivetab.lst.empty(),t.each(function(){o.$(this).offset().top>s&&(n=!0)}),n)for(var a=0;a<t.length;a++)(i=o.$(t.eq(a))).find("a"),"none"==i.css("float")||i.attr("uk-dropdown")||(i.hasClass("uk-disabled")||((e=o.$(i[0].outerHTML)).find("a").data("index",a),this.responsivetab.lst.append(e)),i.addClass("uk-hidden"));this.responsivetab[this.responsivetab.lst.children("li").length?"removeClass":"addClass"]("uk-hidden")}else this.responsivetab.addClass("uk-hidden")}})}(UIkit2);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvdGFiLmpzIl0sIm5hbWVzIjpbIlVJIiwiY29tcG9uZW50IiwiZGVmYXVsdHMiLCJ0YXJnZXQiLCJjb25uZWN0IiwiYWN0aXZlIiwiYW5pbWF0aW9uIiwiZHVyYXRpb24iLCJzd2lwaW5nIiwiYm9vdCIsInJlYWR5IiwiY29udGV4dCIsIiQiLCJlYWNoIiwidGFiIiwidGhpcyIsImRhdGEiLCJVdGlscyIsIm9wdGlvbnMiLCJhdHRyIiwiaW5pdCIsIiR0aGlzIiwiY3VycmVudCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0Iiwic3dpdGNoZXIiLCJhbmltYXRpbmciLCJmaW5kIiwibm90IiwicmVtb3ZlQ2xhc3MiLCJibHVyIiwidHJpZ2dlciIsImFkZENsYXNzIiwicmVzcG9uc2l2ZXRhYiIsImFwcGVuZCIsImRyb3Bkb3duIiwibHN0IiwiY2FwdGlvbiIsImVsZW1lbnQiLCJoYXNDbGFzcyIsInN0b3BQcm9wYWdhdGlvbiIsImxpbmsiLCJjaGlsZHJlbiIsImVxIiwiaHRtbCIsInRleHQiLCJ0b2dnbGUiLCJtb2RlIiwicHJldmVudGZsaXAiLCJmaWx0ZXIiLCJjaGVjayIsIiR3aW4iLCJkZWJvdW5jZSIsImlzIiwibGVuZ3RoIiwiaXRlbSIsImNsb25lIiwidG9wIiwib2Zmc2V0IiwiTWF0aCIsImNlaWwiLCJoZWlnaHQiLCJkb3Jlc3BvbnNpdmUiLCJlbXB0eSIsImkiLCJjc3MiLCJvdXRlckhUTUwiLCJVSWtpdDIiXSwibWFwcGluZ3MiOiJDQUNBLFNBQVVBLEdBRU4sYUFFQUEsRUFBR0MsVUFBVSxNQUFPLENBRWhCQyxTQUFVLENBQ05DLE9BQVksNENBQ1pDLFNBQVksRUFDWkMsT0FBWSxFQUNaQyxXQUFZLEVBQ1pDLFNBQVksSUFDWkMsU0FBWSxHQUdoQkMsS0FBTSxXQUdGVCxFQUFHVSxNQUFNLFNBQVNDLEdBRWRYLEVBQUdZLEVBQUUsZ0JBQWlCRCxHQUFTRSxLQUFLLFdBRWhDLElBQUlDLEVBQU1kLEVBQUdZLEVBQUVHLE1BRWYsSUFB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aEQsS0FBS21CLGNBQWNHLElBQUkyQixRQUV2QnJCLEVBQVM5QixLQUFLLFdBRU5iLEVBQUdZLEVBQUVHLE1BQU00QyxTQUFTRCxJQUFNQSxJQUMxQkssR0FBZSxLQUluQkEsRUFFQSxJQUFLLElBQUlFLEVBQUksRUFBR0EsRUFBSXRCLEVBQVNZLE9BQVFVLEtBRWpDVCxFQUFReEQsRUFBR1ksRUFBRStCLEVBQVNDLEdBQUdxQixLQUNackMsS0FBSyxLQUVPLFFBQXJCNEIsRUFBS1UsSUFBSSxVQUF1QlYsRUFBS3JDLEtBQUssaUJBRXJDcUMsRUFBS2hCLFNBQVMsa0JBRWZpQixFQUFRekQsRUFBR1ksRUFBRTRDLEVBQUssR0FBR1csWUFDZnZDLEtBQUssS0FBS1osS0FBSyxRQUFTaUQsR0FFOUJsRCxLQUFLbUIsY0FBY0csSUFBSUYsT0FBT3NCLElBR2xDRCxFQUFLdkIsU0FBUyxjQUsxQmxCLEtBQUttQixjQUFjbkIsS0FBS21CLGNBQWNHLElBQUlNLFNBQVMsTUFBTVksT0FBUyxjQUFjLFlBQVksa0JBdkN4RnhDLEtBQUttQixjQUFjRCxTQUFTLGdCQTVINUMsQ0F1S0dtQyIsImZpbGUiOiJjb3JlL3RhYi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBVSWtpdCAyLjI3LjIgfCBodHRwOi8vd3d3LmdldHVpa2l0LmNvbSB8IChjKSAyMDE0IFlPT3RoZW1lIHwgTUlUIExpY2Vuc2UgKi9cbihmdW5jdGlvbihVSSkge1xuXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBVSS5jb21wb25lbnQoJ3RhYicsIHtcblxuICAgICAgICBkZWZhdWx0czoge1xuICAgICAgICAgICAgdGFyZ2V0ICAgIDogJz5saTpub3QoLnVrLXRhYi1yZXNwb25zaXZlLCAudWstZGlzYWJsZWQpJyxcbiAgICAgICAgICAgIGNvbm5lY3QgICA6IGZhbHNlLFxuICAgICAgICAgICAgYWN0aXZlICAgIDogMCxcbiAgICAgICAgICAgIGFuaW1hdGlvbiA6IGZhbHNlLFxuICAgICAgICAgICAgZHVyYXRpb24gIDogMjAwLFxuICAgICAgICAgICAgc3dpcGluZyAgIDogdHJ1ZVxuICAgICAgICB9LFxuXG4gICAgICAgIGJvb3Q6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAvLyBpbml0IGNvZGVcbiAgICAgICAgICAgIFVJLnJlYWR5KGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgICAgICAgICAgICAgIFVJLiQoJ1tkYXRhLXVrLXRhYl0nLCBjb250ZXh0KS5lYWNoKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWIgPSBVSS4kKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFiLmRhdGEoJ3RhYicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0gVUkudGFiKHRhYiwgVUkuVXRpbHMub3B0aW9ucyh0YWIuYXR0cignZGF0YS11ay10YWInKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyICR0aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHRoaXMub24oJ2NsaWNrLnVrLnRhYicsIHRoaXMub3B0aW9ucy50YXJnZXQsIGZ1bmN0aW9uKGUpIHtcblxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIGlmICgkdGhpcy5zd2l0Y2hlciAmJiAkdGhpcy5zd2l0Y2hlci5hbmltYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gJHRoaXMuZmluZCgkdGhpcy5vcHRpb25zLnRhcmdldCkubm90KHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgY3VycmVudC5yZW1vdmVDbGFzcygndWstYWN0aXZlJykuYmx1cigpO1xuXG4gICAgICAgICAgICAgICAgJHRoaXMudHJpZ2dlcignY2hhbmdlLnVrLnRhYicsIFtVSS4kKHRoaXMpLmFkZENsYXNzKCd1ay1hY3RpdmUnKSwgJHRoaXMuY3VycmVudF0pO1xuXG4gICAgICAgICAgICAgICAgJHRoaXMuY3VycmVudCA9IFVJLiQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgQVJJQVxuICAgICAgICAgICAgICAgIGlmICghJHRoaXMub3B0aW9ucy5jb25uZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnQuYXR0cignYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICAgICAgICAgICAgICBVSS4kKHRoaXMpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmNvbm5lY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbm5lY3QgPSBVSS4kKHRoaXMub3B0aW9ucy5jb25uZWN0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5pdCByZXNwb25zaXZlIHRhYlxuICAgICAgICAgICAgdGhpcy5yZXNwb25zaXZldGFiID0gVUkuJCgnPGxpIGNsYXNzPVwidWstdGFiLXJlc3BvbnNpdmUgdWstYWN0aXZlXCI+PGE+PC9hPjwvbGk+JykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwidWstZHJvcGRvd24gdWstZHJvcGRvd24tc21hbGxcIj48dWwgY2xhc3M9XCJ1ay1uYXYgdWstbmF2LWRyb3Bkb3duXCI+PC91bD48ZGl2PicpO1xuXG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNpdmV0YWIuZHJvcGRvd24gPSB0aGlzLnJlc3BvbnNpdmV0YWIuZmluZCgnLnVrLWRyb3Bkb3duJyk7XG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNpdmV0YWIubHN0ICAgICAgPSB0aGlzLnJlc3BvbnNpdmV0YWIuZHJvcGRvd24uZmluZCgndWwnKTtcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2l2ZXRhYi5jYXB0aW9uICA9IHRoaXMucmVzcG9uc2l2ZXRhYi5maW5kKCdhOmZpcnN0Jyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQuaGFzQ2xhc3MoJ3VrLXRhYi1ib3R0b20nKSkgdGhpcy5yZXNwb25zaXZldGFiLmRyb3Bkb3duLmFkZENsYXNzKCd1ay1kcm9wZG93bi11cCcpO1xuXG4gICAgICAgICAgICAvLyBoYW5kbGUgY2xpY2tcbiAgICAgICAgICAgIHRoaXMucmVzcG9uc2l2ZXRhYi5sc3Qub24oJ2NsaWNrLnVrLnRhYicsICdhJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgbGluayA9IFVJLiQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAkdGhpcy5lbGVtZW50LmNoaWxkcmVuKCdsaTpub3QoLnVrLXRhYi1yZXNwb25zaXZlKScpLmVxKGxpbmsuZGF0YSgnaW5kZXgnKSkudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLm9uKCdzaG93LnVrLnN3aXRjaGVyIGNoYW5nZS51ay50YWInLCBmdW5jdGlvbihlLCB0YWIpIHtcbiAgICAgICAgICAgICAgICAkdGhpcy5yZXNwb25zaXZldGFiLmNhcHRpb24uaHRtbCh0YWIudGV4dCgpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKHRoaXMucmVzcG9uc2l2ZXRhYik7XG5cbiAgICAgICAgICAgIC8vIGluaXQgVUlraXQgY29tcG9uZW50c1xuICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5jb25uZWN0KSB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaGVyID0gVUkuc3dpdGNoZXIodGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZSAgICA6ICc+bGk6bm90KC51ay10YWItcmVzcG9uc2l2ZSknLFxuICAgICAgICAgICAgICAgICAgICBjb25uZWN0ICAgOiB0aGlzLm9wdGlvbnMuY29ubmVjdCxcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlICAgIDogdGhpcy5vcHRpb25zLmFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uIDogdGhpcy5vcHRpb25zLmFuaW1hdGlvbixcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb24gIDogdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICBzd2lwaW5nICAgOiB0aGlzLm9wdGlvbnMuc3dpcGluZ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBVSS5kcm9wZG93bih0aGlzLnJlc3BvbnNpdmV0YWIsIHttb2RlOiAnY2xpY2snLCBwcmV2ZW50ZmxpcDogJ3knfSk7XG5cbiAgICAgICAgICAgIC8vIGluaXRcbiAgICAgICAgICAgICR0aGlzLnRyaWdnZXIoJ2NoYW5nZS51ay50YWInLCBbdGhpcy5lbGVtZW50LmZpbmQodGhpcy5vcHRpb25zLnRhcmdldCkubm90KCcudWstdGFiLXJlc3BvbnNpdmUnKS5maWx0ZXIoJy51ay1hY3RpdmUnKV0pO1xuXG4gICAgICAgICAgICB0aGlzLmNoZWNrKCk7XG5cbiAgICAgICAgICAgIFVJLiR3aW4ub24oJ3Jlc2l6ZSBvcmllbnRhdGlvbmNoYW5nZScsIFVJLlV0aWxzLmRlYm91bmNlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYgKCR0aGlzLmVsZW1lbnQuaXMoJzp2aXNpYmxlJykpICAkdGhpcy5jaGVjaygpO1xuICAgICAgICAgICAgfSwgMTAwKSk7XG5cbiAgICAgICAgICAgIHRoaXMub24oJ2Rpc3BsYXkudWsuY2hlY2snLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmICgkdGhpcy5lbGVtZW50LmlzKCc6dmlzaWJsZScpKSAgJHRoaXMuY2hlY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNoZWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5lbGVtZW50LmNoaWxkcmVuKCdsaTpub3QoLnVrLXRhYi1yZXNwb25zaXZlKScpLnJlbW92ZUNsYXNzKCd1ay1oaWRkZW4nKTtcblxuICAgICAgICAgICAgaWYgKCFjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3BvbnNpdmV0YWIuYWRkQ2xhc3MoJ3VrLWhpZGRlbicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRvcCAgICAgICAgICA9IChjaGlsZHJlbi5lcSgwKS5vZmZzZXQoKS50b3AgKyBNYXRoLmNlaWwoY2hpbGRyZW4uZXEoMCkuaGVpZ2h0KCkvMikpLFxuICAgICAgICAgICAgICAgIGRvcmVzcG9uc2l2ZSA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIGl0ZW0sIGxpbmssIGNsb25lO1xuXG4gICAgICAgICAgICB0aGlzLnJlc3BvbnNpdmV0YWIubHN0LmVtcHR5KCk7XG5cbiAgICAgICAgICAgIGNoaWxkcmVuLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIGlmIChVSS4kKHRoaXMpLm9mZnNldCgpLnRvcCA+IHRvcCkge1xuICAgICAgICAgICAgICAgICAgICBkb3Jlc3BvbnNpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoZG9yZXNwb25zaXZlKSB7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaXRlbSAgPSBVSS4kKGNoaWxkcmVuLmVxKGkpKTtcbiAgICAgICAgICAgICAgICAgICAgbGluayAgPSBpdGVtLmZpbmQoJ2EnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5jc3MoJ2Zsb2F0JykgIT0gJ25vbmUnICYmICFpdGVtLmF0dHIoJ3VrLWRyb3Bkb3duJykpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtLmhhc0NsYXNzKCd1ay1kaXNhYmxlZCcpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZSA9IFVJLiQoaXRlbVswXS5vdXRlckhUTUwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lLmZpbmQoJ2EnKS5kYXRhKCdpbmRleCcsIGkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNwb25zaXZldGFiLmxzdC5hcHBlbmQoY2xvbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFkZENsYXNzKCd1ay1oaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZXNwb25zaXZldGFiW3RoaXMucmVzcG9uc2l2ZXRhYi5sc3QuY2hpbGRyZW4oJ2xpJykubGVuZ3RoID8gJ3JlbW92ZUNsYXNzJzonYWRkQ2xhc3MnXSgndWstaGlkZGVuJyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxufSkoVUlraXQyKTsiXX0=
