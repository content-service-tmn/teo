!function(t){var e;window.UIkit2&&(e=t(UIkit2)),"function"==typeof define&&define.amd&&define("uikit-pagination",["uikit"],function(){return e||t(UIkit2)})}(function(a){"use strict";return a.component("pagination",{defaults:{items:1,itemsOnPage:1,pages:0,displayedPages:7,edges:1,currentPage:0,lblPrev:!1,lblNext:!1,onSelectPage:function(){}},boot:function(){a.ready(function(t){a.$("[data-uk-pagination]",t).each(function(){var t=a.$(this);t.data("pagination")||a.pagination(t,a.Utils.options(t.attr("data-uk-pagination")))})})},init:function(){var e=this;this.pages=this.options.pages?this.options.pages:Math.ceil(this.options.items/this.options.itemsOnPage)?Math.ceil(this.options.items/this.options.itemsOnPage):1,this.currentPage=this.options.currentPage,this.halfDisplayed=this.options.displayedPages/2,this.on("click","a[data-page]",function(t){t.preventDefault(),e.selectPage(a.$(this).data("page"))}),this._render()},_getInterval:function(){return{start:Math.ceil(this.currentPage>this.halfDisplayed?Math.max(Math.min(this.currentPage-this.halfDisplayed,this.pages-this.options.displayedPages),0):0),end:Math.ceil(this.currentPage>this.halfDisplayed?Math.min(this.currentPage+this.halfDisplayed,this.pages):Math.min(this.options.displayedPages,this.pages))}},render:function(t){this.pages=t||this.pages,this._render()},selectPage:function(t,e){this.currentPage=t,this.render(e),this.options.onSelectPage.apply(this,[t]),this.trigger("select.uk.pagination",[t,this])},_render:function(){var t,e=this.options,i=this._getInterval();if(this.element.empty(),e.lblPrev&&this._append(this.currentPage-1,{text:e.lblPrev}),0<i.start&&0<e.edges){var s=Math.min(e.edges,i.start);for(t=0;t<s;t++)this._append(t);e.edges<i.start&&i.start-e.edges!=1?this.element.append("<li><span>...</span></li>"):i.start-e.edges==1&&this._append(e.edges)}for(t=i.start;t<i.end;t++)this._append(t);if(i.end<this.pages&&0<e.edges)for(this.pages-e.edges>i.end&&this.pages-e.edges-i.end!=1?this.element.append("<li><span>...</span></li>"):this.pages-e.edges-i.end==1&&this._append(i.end++),t=Math.max(this.pages-e.edges,i.end);t<this.pages;t++)this._append(t);e.lblNext&&this._append(this.currentPage+1,{text:e.lblNext})},_append:function(t,e){var i,s;t=t<0?0:t<this.pages?t:this.pages-1,s=a.$.extend({text:t+1},e),i=t==this.currentPage?'<li class="uk-active"><span>'+s.text+"</span></li>":'<li><a href="#page-'+(t+1)+'" data-page="'+t+'">'+s.text+"</a></li>",this.element.append(i)}}),a.pagination});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvcGFnaW5hdGlvbi5qcyJdLCJuYW1lcyI6WyJhZGRvbiIsImNvbXBvbmVudCIsIndpbmRvdyIsIlVJa2l0MiIsImRlZmluZSIsImFtZCIsIlVJIiwiZGVmYXVsdHMiLCJpdGVtcyIsIml0ZW1zT25QYWdlIiwicGFnZXMiLCJkaXNwbGF5ZWRQYWdlcyIsImVkZ2VzIiwiY3VycmVudFBhZ2UiLCJsYmxQcmV2IiwibGJsTmV4dCIsIm9uU2VsZWN0UGFnZSIsImJvb3QiLCJyZWFkeSIsImNvbnRleHQiLCIkIiwiZWFjaCIsImVsZSIsInRoaXMiLCJkYXRhIiwicGFnaW5hdGlvbiIsIlV0aWxzIiwib3B0aW9ucyIsImF0dHIiLCJpbml0IiwiJHRoaXMiLCJNYXRoIiwiY2VpbCIsImhhbGZEaXNwbGF5ZWQiLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInNlbGVjdFBhZ2UiLCJfcmVuZGVyIiwiX2dldEludGVydmFsIiwic3RhcnQiLCJtYXgiLCJtaW4iLCJlbmQiLCJyZW5kZXIiLCJwYWdlSW5kZXgiLCJhcHBseSIsInRyaWdnZXIiLCJpIiwibyIsImludGVydmFsIiwiZWxlbWVudCIsImVtcHR5IiwiX2FwcGVuZCIsInRleHQiLCJhcHBlbmQiLCJvcHRzIiwiaXRlbSIsImV4dGVuZCJdLCJtYXBwaW5ncyI6IkNBSUEsU0FBVUEsR0FFTixJQUFJQyxFQUVBQyxPQUFPQyxTQUNQRixFQUFZRCxFQUFNRyxTQUdELG1CQUFWQyxRQUF3QkEsT0FBT0MsS0FDdENELE9BQU8sbUJBQW9CLENBQUMsU0FBVSxXQUNsQyxPQUFPSCxHQUFhRCxFQUFNRyxVQVZ0QyxDQWNHLFNBQVNHLEdBRVIsYUE2SEEsT0EzSEFBLEVBQUdMLFVBQVUsYUFBYyxDQUV2Qk0sU0FBVSxDQUNOQyxNQUFpQixFQUNqQkMsWUFBaUIsRUFDakJDLE1BQWlCLEVBQ2pCQyxlQUFpQixFQUNqQkMsTUFBaUIsRUFDakJDLFlBQWlCLEVBQ2pCQyxTQUFpQixFQUNqQkMsU0FBaUIsRUFD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S0FBSzhCLFFBQVFILEVBQVNQLE9BS3JCSyxFQUZPakIsS0FBS1UsSUFBSWxCLEtBQUtiLE1BQVF1QyxFQUFFckMsTUFBT3NDLEVBQVNQLEtBRXBDSyxFQUFJekIsS0FBS2IsTUFBT3NDLElBQUt6QixLQUFLOEIsUUFBUUwsR0FJbERDLEVBQUVsQyxTQUFTUSxLQUFLOEIsUUFBUTlCLEtBQUtWLFlBQWMsRUFBRyxDQUFDeUMsS0FBTUwsRUFBRWxDLFdBRy9Ec0MsUUFBUyxTQUFTUixFQUFXVyxHQUV6QixJQUFJQyxFQUFNOUIsRUFFVmtCLEVBQVlBLEVBQVksRUFBSSxFQUFLQSxFQUFZdEIsS0FBS2IsTUFBUW1DLEVBQVl0QixLQUFLYixNQUFRLEVBQ25GaUIsRUFBWXJCLEVBQUdjLEVBQUVzQyxPQUFPLENBQUVKLEtBQU1ULEVBQVksR0FBS1csR0FFakRDLEVBQVFaLEdBQWF0QixLQUFLVixZQUFlLCtCQUFrQ2MsRUFBWSxLQUFJLGVBQWlCLHVCQUF1QmtCLEVBQVUsR0FBRyxnQkFBZ0JBLEVBQVUsS0FBS2xCLEVBQVEyQixLQUFLLFlBRTVML0IsS0FBSzRCLFFBQVFJLE9BQU9FLE1BSXJCbkQsRUFBR21CIiwiZmlsZSI6ImNvbXBvbmVudHMvcGFnaW5hdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qISBVSWtpdCAyLjI3LjIgfCBodHRwOi8vd3d3LmdldHVpa2l0LmNvbSB8IChjKSAyMDE0IFlPT3RoZW1lIHwgTUlUIExpY2Vuc2UgKi9cbi8qXG4gKiBCYXNlZCBvbiBzaW1wbGVQYWdpbmF0aW9uIC0gQ29weXJpZ2h0IChjKSAyMDEyIEZsYXZpdXMgTWF0aXMgLSBodHRwOi8vZmxhdml1c21hdGlzLmdpdGh1Yi5jb20vc2ltcGxlUGFnaW5hdGlvbi5qcy8gKE1JVClcbiAqL1xuKGZ1bmN0aW9uKGFkZG9uKSB7XG5cbiAgICB2YXIgY29tcG9uZW50O1xuXG4gICAgaWYgKHdpbmRvdy5VSWtpdDIpIHtcbiAgICAgICAgY29tcG9uZW50ID0gYWRkb24oVUlraXQyKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKCd1aWtpdC1wYWdpbmF0aW9uJywgWyd1aWtpdCddLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudCB8fCBhZGRvbihVSWtpdDIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbn0pKGZ1bmN0aW9uKFVJKXtcblxuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgVUkuY29tcG9uZW50KCdwYWdpbmF0aW9uJywge1xuXG4gICAgICAgIGRlZmF1bHRzOiB7XG4gICAgICAgICAgICBpdGVtcyAgICAgICAgICA6IDEsXG4gICAgICAgICAgICBpdGVtc09uUGFnZSAgICA6IDEsXG4gICAgICAgICAgICBwYWdlcyAgICAgICAgICA6IDAsXG4gICAgICAgICAgICBkaXNwbGF5ZWRQYWdlcyA6IDcsXG4gICAgICAgICAgICBlZGdlcyAgICAgICAgICA6IDEsXG4gICAgICAgICAgICBjdXJyZW50UGFnZSAgICA6IDAsXG4gICAgICAgICAgICBsYmxQcmV2ICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgbGJsTmV4dCAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIG9uU2VsZWN0UGFnZSAgIDogZnVuY3Rpb24oKSB7fVxuICAgICAgICB9LFxuXG4gICAgICAgIGJvb3Q6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAvLyBpbml0IGNvZGVcbiAgICAgICAgICAgIFVJLnJlYWR5KGZ1bmN0aW9uKGNvbnRleHQpIHtcblxuICAgICAgICAgICAgICAgIFVJLiQoJ1tkYXRhLXVrLXBhZ2luYXRpb25dJywgY29udGV4dCkuZWFjaChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlID0gVUkuJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZS5kYXRhKCdwYWdpbmF0aW9uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFVJLnBhZ2luYXRpb24oZWxlLCBVSS5VdGlscy5vcHRpb25zKGVsZS5hdHRyKCdkYXRhLXVrLXBhZ2luYXRpb24nKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyICR0aGlzID0gdGhpcztcblxuICAgICAgICAgICAgdGhpcy5wYWdlcyAgICAgICAgID0gdGhpcy5vcHRpb25zLnBhZ2VzID8gIHRoaXMub3B0aW9ucy5wYWdlcyA6IE1hdGguY2VpbCh0aGlzLm9wdGlvbnMuaXRlbXMgLyB0aGlzLm9wdGlvbnMuaXRlbXNPblBhZ2UpID8gTWF0aC5jZWlsKHRoaXMub3B0aW9ucy5pdGVtcyAvIHRoaXMub3B0aW9ucy5pdGVtc09uUGFnZSkgOiAxO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSAgID0gdGhpcy5vcHRpb25zLmN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgdGhpcy5oYWxmRGlzcGxheWVkID0gdGhpcy5vcHRpb25zLmRpc3BsYXllZFBhZ2VzIC8gMjtcblxuICAgICAgICAgICAgdGhpcy5vbignY2xpY2snLCAnYVtkYXRhLXBhZ2VdJywgZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICR0aGlzLnNlbGVjdFBhZ2UoVUkuJCh0aGlzKS5kYXRhKCdwYWdlJykpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9nZXRJbnRlcnZhbDogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IE1hdGguY2VpbCh0aGlzLmN1cnJlbnRQYWdlID4gdGhpcy5oYWxmRGlzcGxheWVkID8gTWF0aC5tYXgoTWF0aC5taW4odGhpcy5jdXJyZW50UGFnZSAtIHRoaXMuaGFsZkRpc3BsYXllZCwgKHRoaXMucGFnZXMgLSB0aGlzLm9wdGlvbnMuZGlzcGxheWVkUGFnZXMpKSwgMCkgOiAwKSxcbiAgICAgICAgICAgICAgICBlbmQgIDogTWF0aC5jZWlsKHRoaXMuY3VycmVudFBhZ2UgPiB0aGlzLmhhbGZEaXNwbGF5ZWQgPyBNYXRoLm1pbih0aGlzLmN1cnJlbnRQYWdlICsgdGhpcy5oYWxmRGlzcGxheWVkLCB0aGlzLnBhZ2VzKSA6IE1hdGgubWluKHRoaXMub3B0aW9ucy5kaXNwbGF5ZWRQYWdlcywgdGhpcy5wYWdlcykpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24ocGFnZXMpIHtcbiAgICAgICAgICAgIHRoaXMucGFnZXMgPSBwYWdlcyA/IHBhZ2VzIDogdGhpcy5wYWdlcztcbiAgICAgICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNlbGVjdFBhZ2U6IGZ1bmN0aW9uKHBhZ2VJbmRleCwgcGFnZXMpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlSW5kZXg7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcihwYWdlcyk7XG5cbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy5vblNlbGVjdFBhZ2UuYXBwbHkodGhpcywgW3BhZ2VJbmRleF0pO1xuICAgICAgICAgICAgdGhpcy50cmlnZ2VyKCdzZWxlY3QudWsucGFnaW5hdGlvbicsIFtwYWdlSW5kZXgsIHRoaXNdKTtcbiAgICAgICAgfSxcblxuICAgICAgICBfcmVuZGVyOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyIG8gPSB0aGlzLm9wdGlvbnMsIGludGVydmFsID0gdGhpcy5fZ2V0SW50ZXJ2YWwoKSwgaTtcblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmVtcHR5KCk7XG5cbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIFByZXYgbGlua1xuICAgICAgICAgICAgaWYgKG8ubGJsUHJldikgdGhpcy5fYXBwZW5kKHRoaXMuY3VycmVudFBhZ2UgLSAxLCB7dGV4dDogby5sYmxQcmV2fSk7XG5cbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIHN0YXJ0IGVkZ2VzXG4gICAgICAgICAgICBpZiAoaW50ZXJ2YWwuc3RhcnQgPiAwICYmIG8uZWRnZXMgPiAwKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gTWF0aC5taW4oby5lZGdlcywgaW50ZXJ2YWwuc3RhcnQpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGVuZDsgaSsrKSB0aGlzLl9hcHBlbmQoaSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoby5lZGdlcyA8IGludGVydmFsLnN0YXJ0ICYmIChpbnRlcnZhbC5zdGFydCAtIG8uZWRnZXMgIT0gMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZCgnPGxpPjxzcGFuPi4uLjwvc3Bhbj48L2xpPicpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW50ZXJ2YWwuc3RhcnQgLSBvLmVkZ2VzID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXBwZW5kKG8uZWRnZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgaW50ZXJ2YWwgbGlua3NcbiAgICAgICAgICAgIGZvciAoaSA9IGludGVydmFsLnN0YXJ0OyBpIDwgaW50ZXJ2YWwuZW5kOyBpKyspIHRoaXMuX2FwcGVuZChpKTtcblxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgZW5kIGVkZ2VzXG4gICAgICAgICAgICBpZiAoaW50ZXJ2YWwuZW5kIDwgdGhpcy5wYWdlcyAmJiBvLmVkZ2VzID4gMCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFnZXMgLSBvLmVkZ2VzID4gaW50ZXJ2YWwuZW5kICYmICh0aGlzLnBhZ2VzIC0gby5lZGdlcyAtIGludGVydmFsLmVuZCAhPSAxKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kKCc8bGk+PHNwYW4+Li4uPC9zcGFuPjwvbGk+Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhZ2VzIC0gby5lZGdlcyAtIGludGVydmFsLmVuZCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FwcGVuZChpbnRlcnZhbC5lbmQrKyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIGJlZ2luID0gTWF0aC5tYXgodGhpcy5wYWdlcyAtIG8uZWRnZXMsIGludGVydmFsLmVuZCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBiZWdpbjsgaSA8IHRoaXMucGFnZXM7IGkrKykgdGhpcy5fYXBwZW5kKGkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBOZXh0IGxpbmsgKHVubGVzcyBvcHRpb24gaXMgc2V0IGZvciBhdCBmcm9udClcbiAgICAgICAgICAgIGlmIChvLmxibE5leHQpIHRoaXMuX2FwcGVuZCh0aGlzLmN1cnJlbnRQYWdlICsgMSwge3RleHQ6IG8ubGJsTmV4dH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9hcHBlbmQ6IGZ1bmN0aW9uKHBhZ2VJbmRleCwgb3B0cykge1xuXG4gICAgICAgICAgICB2YXIgaXRlbSwgb3B0aW9ucztcblxuICAgICAgICAgICAgcGFnZUluZGV4ID0gcGFnZUluZGV4IDwgMCA/IDAgOiAocGFnZUluZGV4IDwgdGhpcy5wYWdlcyA/IHBhZ2VJbmRleCA6IHRoaXMucGFnZXMgLSAxKTtcbiAgICAgICAgICAgIG9wdGlvbnMgICA9IFVJLiQuZXh0ZW5kKHsgdGV4dDogcGFnZUluZGV4ICsgMSB9LCBvcHRzKTtcblxuICAgICAgICAgICAgaXRlbSA9IChwYWdlSW5kZXggPT0gdGhpcy5jdXJyZW50UGFnZSkgPyAnPGxpIGNsYXNzPVwidWstYWN0aXZlXCI+PHNwYW4+JyArIChvcHRpb25zLnRleHQpICsgJzwvc3Bhbj48L2xpPicgOiAnPGxpPjxhIGhyZWY9XCIjcGFnZS0nKyhwYWdlSW5kZXgrMSkrJ1wiIGRhdGEtcGFnZT1cIicrcGFnZUluZGV4KydcIj4nK29wdGlvbnMudGV4dCsnPC9hPjwvbGk+JztcblxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZChpdGVtKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIFVJLnBhZ2luYXRpb247XG59KTsiXX0=
